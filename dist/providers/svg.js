"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.genBackgroundNote = genBackgroundNote;
exports.svgCSS = exports.PIECES_SVG = exports.WOOD_COLORS = void 0;

var _khmerChess = require("khmer-chess");

var _types = require("k4us-share/types");

var _PIECES_SVG;

function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }

var WOOD_COLORS = {
  WHITE: '#ffffff',
  BLACK: '#422007'
};
exports.WOOD_COLORS = WOOD_COLORS;
var filterId = 'drop-shadow';
var SVG_FILTER = "<defs>\n<filter id=\"".concat(filterId, "\" height=\"130%\">\n  <feGaussianBlur in=\"SourceAlpha\" stdDeviation=\"5\"/>\n  <feOffset dx=\"5\" dy=\"5\" result=\"offsetblur\"/>\n  <feMerge>\n    <feMergeNode/>\n    <feMergeNode in=\"SourceGraphic\"/>\n  </feMerge>\n</filter>\n</defs>");

_types.boatSVG.init();

_types.horseSVG.init();

_types.generalSVG.init();

_types.kingSVG.init();

_types.queenSVG.init();

_types.fishSVG.init();

_types.transformFishSVG.init();

var PIECES_SVG = (_PIECES_SVG = {}, _defineProperty(_PIECES_SVG, "".concat(_khmerChess.PIECE_COLOR_WHITE).concat(_khmerChess.PIECE_TYPE_BOAT), "\n    ".concat(SVG_FILTER, "\n    <path fill=\"").concat(WOOD_COLORS.WHITE, "\" filter=\"url(#").concat(filterId, ")\"\n    d=\"").concat(_types.boatSVG.pathData[0], "\" />\n ")), _defineProperty(_PIECES_SVG, "".concat(_khmerChess.PIECE_COLOR_WHITE).concat(_khmerChess.PIECE_TYPE_HORSE), "\n    ".concat(SVG_FILTER, "\n    <path fill=\"").concat(WOOD_COLORS.WHITE, "\" filter=\"url(#").concat(filterId, ")\"\n    d=\"").concat(_types.horseSVG.pathData[0], "\" />\n ")), _defineProperty(_PIECES_SVG, "".concat(_khmerChess.PIECE_COLOR_WHITE).concat(_khmerChess.PIECE_TYPE_GENERAL), "\n    ".concat(SVG_FILTER, "\n    <path fill=\"").concat(WOOD_COLORS.WHITE, "\" filter=\"url(#").concat(filterId, ")\"\n    d=\"").concat(_types.generalSVG.pathData[0], "\" />\n ")), _defineProperty(_PIECES_SVG, "".concat(_khmerChess.PIECE_COLOR_WHITE).concat(_khmerChess.PIECE_TYPE_KING), "\n    ".concat(SVG_FILTER, "\n    <path fill=\"").concat(WOOD_COLORS.WHITE, "\" filter=\"url(#").concat(filterId, ")\"\n    d=\"").concat(_types.kingSVG.pathData[0], "\" />\n ")), _defineProperty(_PIECES_SVG, "".concat(_khmerChess.PIECE_COLOR_WHITE).concat(_khmerChess.PIECE_TYPE_QUEEN), "\n    ".concat(SVG_FILTER, "\n    <path fill=\"").concat(WOOD_COLORS.WHITE, "\" filter=\"url(#").concat(filterId, ")\"\n    d=\"").concat(_types.queenSVG.pathData[0], "\" />\n ")), _defineProperty(_PIECES_SVG, "".concat(_khmerChess.PIECE_COLOR_WHITE).concat(_khmerChess.PIECE_TYPE_FISH), "\n    ".concat(SVG_FILTER, "\n    <path fill=\"").concat(WOOD_COLORS.WHITE, "\" filter=\"url(#").concat(filterId, ")\"\n    d=\"").concat(_types.fishSVG.pathData[0], "\" />\n ")), _defineProperty(_PIECES_SVG, "".concat(_khmerChess.PIECE_COLOR_WHITE).concat(_khmerChess.PIECE_TYPE_TRANSFORM_FISH), "\n    ".concat(SVG_FILTER, "\n     <path fill=\"").concat(WOOD_COLORS.WHITE, "\" filter=\"url(#").concat(filterId, ")\"\n     d=\"").concat(_types.transformFishSVG.pathData[0], "\" />\n ")), _defineProperty(_PIECES_SVG, "".concat(_khmerChess.PIECE_COLOR_BLACK).concat(_khmerChess.PIECE_TYPE_BOAT), "\n    ".concat(SVG_FILTER, "\n    <path fill=\"").concat(WOOD_COLORS.BLACK, "\" filter=\"url(#").concat(filterId, ")\"\n    d=\"").concat(_types.boatSVG.pathData[0], "\" />\n ")), _defineProperty(_PIECES_SVG, "".concat(_khmerChess.PIECE_COLOR_BLACK).concat(_khmerChess.PIECE_TYPE_HORSE), "\n    ".concat(SVG_FILTER, "\n    <path fill=\"").concat(WOOD_COLORS.BLACK, "\" filter=\"url(#").concat(filterId, ")\"\n    d=\"").concat(_types.horseSVG.pathData[0], "\" />\n ")), _defineProperty(_PIECES_SVG, "".concat(_khmerChess.PIECE_COLOR_BLACK).concat(_khmerChess.PIECE_TYPE_GENERAL), "\n    ".concat(SVG_FILTER, "\n    <path fill=\"").concat(WOOD_COLORS.BLACK, "\" filter=\"url(#").concat(filterId, ")\"\n    d=\"").concat(_types.generalSVG.pathData[0], "\" />\n ")), _defineProperty(_PIECES_SVG, "".concat(_khmerChess.PIECE_COLOR_BLACK).concat(_khmerChess.PIECE_TYPE_KING), "\n    ".concat(SVG_FILTER, "\n    <path fill=\"").concat(WOOD_COLORS.BLACK, "\" filter=\"url(#").concat(filterId, ")\"\n    d=\"").concat(_types.kingSVG.pathData[0], "\" />\n ")), _defineProperty(_PIECES_SVG, "".concat(_khmerChess.PIECE_COLOR_BLACK).concat(_khmerChess.PIECE_TYPE_QUEEN), "\n    ".concat(SVG_FILTER, "\n    <path fill=\"").concat(WOOD_COLORS.BLACK, "\" filter=\"url(#").concat(filterId, ")\"\n    d=\"").concat(_types.queenSVG.pathData[0], "\" />\n ")), _defineProperty(_PIECES_SVG, "".concat(_khmerChess.PIECE_COLOR_BLACK).concat(_khmerChess.PIECE_TYPE_FISH), "\n    ".concat(SVG_FILTER, "\n    <path fill=\"").concat(WOOD_COLORS.BLACK, "\" filter=\"url(#").concat(filterId, ")\"\n    d=\"").concat(_types.fishSVG.pathData[0], "\" />\n ")), _defineProperty(_PIECES_SVG, "".concat(_khmerChess.PIECE_COLOR_BLACK).concat(_khmerChess.PIECE_TYPE_TRANSFORM_FISH), "\n    ".concat(SVG_FILTER, "\n    <path fill=\"").concat(WOOD_COLORS.BLACK, "\" filter=\"url(#").concat(filterId, ")\"\n    d=\"").concat(_types.transformFishSVG.pathData[0], "\" />\n ")), _PIECES_SVG);
exports.PIECES_SVG = PIECES_SVG;
var svgCSS = {
  attacked: function attacked(color) {
    return "path {\n      stroke: red;\n      stroke-width: 1px;\n      stroke-linejoin: round;\n      animation-name: attacking;\n      animation-duration: 1s;\n      animation-iteration-count: infinite;\n   }\n   @keyframes attacking {\n      0% {\n         stroke-width: 20px;\n      }\n      50% {\n         stroke-width: 1px;\n      }\n      100% {\n         stroke-width: 20px;\n      }\n   }";
  },
  notAttacked: function notAttacked(color) {
    return "path {\n   }";
  },
  turn: function turn(color) {
    return "path {\n      stroke: #3d8a365f;\n      stroke-width: 10px;\n      stroke-linejoin: round;\n   }\n   ";
  },
  selected: function selected(color) {
    return 'background: radial-gradient(#ff00f577, #3d8a3677) !important;';
  },
  moved: function moved(color) {
    return 'background: radial-gradient(#c0aeee99, #94e9d788) !important;';
  },
  canMove: function canMove(color) {
    return 'background: radial-gradient(#ff00f500, #3d8a3677) !important;';
  }
};
exports.svgCSS = svgCSS;

function genBackgroundNote(tObjects, cellWidth, fSize) {
  var text = tObjects.map(function (obj) {
    return "<text x='".concat(obj.x, "' y='").concat(obj.y, "' fill='grey' font-size='").concat(fSize, "'>").concat(obj.t, "</text>");
  }).join('');
  var svg = "<svg xmlns='http://www.w3.org/2000/svg' version='1.1' height='".concat(cellWidth, "px' width='").concat(cellWidth, "px'>\n      ").concat(text, "\n   </svg>");
  return "url(\"data:image/svg+xml;utf8,".concat(encodeURIComponent(svg), "\")");
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9wcm92aWRlcnMvc3ZnLnRzIl0sIm5hbWVzIjpbIldPT0RfQ09MT1JTIiwiV0hJVEUiLCJCTEFDSyIsImZpbHRlcklkIiwiU1ZHX0ZJTFRFUiIsImJvYXRTVkciLCJpbml0IiwiaG9yc2VTVkciLCJnZW5lcmFsU1ZHIiwia2luZ1NWRyIsInF1ZWVuU1ZHIiwiZmlzaFNWRyIsInRyYW5zZm9ybUZpc2hTVkciLCJQSUVDRVNfU1ZHIiwiUElFQ0VfQ09MT1JfV0hJVEUiLCJQSUVDRV9UWVBFX0JPQVQiLCJwYXRoRGF0YSIsIlBJRUNFX1RZUEVfSE9SU0UiLCJQSUVDRV9UWVBFX0dFTkVSQUwiLCJQSUVDRV9UWVBFX0tJTkciLCJQSUVDRV9UWVBFX1FVRUVOIiwiUElFQ0VfVFlQRV9GSVNIIiwiUElFQ0VfVFlQRV9UUkFOU0ZPUk1fRklTSCIsIlBJRUNFX0NPTE9SX0JMQUNLIiwic3ZnQ1NTIiwiYXR0YWNrZWQiLCJjb2xvciIsIm5vdEF0dGFja2VkIiwidHVybiIsInNlbGVjdGVkIiwibW92ZWQiLCJjYW5Nb3ZlIiwiZ2VuQmFja2dyb3VuZE5vdGUiLCJ0T2JqZWN0cyIsImNlbGxXaWR0aCIsImZTaXplIiwidGV4dCIsIm1hcCIsIm9iaiIsIngiLCJ5IiwidCIsImpvaW4iLCJzdmciLCJlbmNvZGVVUklDb21wb25lbnQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBMkJBOztBQVdBOzs7Ozs7QUFVTyxJQUFNQSxXQUFXLEdBQUc7QUFDeEJDLEVBQUFBLEtBQUssRUFBRSxTQURpQjtBQUV4QkMsRUFBQUEsS0FBSyxFQUFFO0FBRmlCLENBQXBCOztBQUtQLElBQU1DLFFBQVEsR0FBRyxhQUFqQjtBQUNBLElBQU1DLFVBQVUsa0NBQ0ZELFFBREUsc1BBQWhCOztBQVdBRSxlQUFRQyxJQUFSOztBQUNBQyxnQkFBU0QsSUFBVDs7QUFDQUUsa0JBQVdGLElBQVg7O0FBQ0FHLGVBQVFILElBQVI7O0FBQ0FJLGdCQUFTSixJQUFUOztBQUNBSyxlQUFRTCxJQUFSOztBQUNBTSx3QkFBaUJOLElBQWpCOztBQUVPLElBQU1PLFVBQVUsNkRBQ2hCQyw2QkFEZ0IsU0FDSUMsMkJBREosbUJBRWpCWCxVQUZpQixnQ0FHTEosV0FBVyxDQUFDQyxLQUhQLDhCQUc4QkUsUUFIOUIsMEJBSWRFLGVBQVFXLFFBQVIsQ0FBaUIsQ0FBakIsQ0FKYyx1REFNaEJGLDZCQU5nQixTQU1JRyw0QkFOSixtQkFPakJiLFVBUGlCLGdDQVFMSixXQUFXLENBQUNDLEtBUlAsOEJBUThCRSxRQVI5QiwwQkFTZEksZ0JBQVNTLFFBQVQsQ0FBa0IsQ0FBbEIsQ0FUYyx1REFXaEJGLDZCQVhnQixTQVdJSSw4QkFYSixtQkFZakJkLFVBWmlCLGdDQWFMSixXQUFXLENBQUNDLEtBYlAsOEJBYThCRSxRQWI5QiwwQkFjZEssa0JBQVdRLFFBQVgsQ0FBb0IsQ0FBcEIsQ0FkYyx1REFnQmhCRiw2QkFoQmdCLFNBZ0JJSywyQkFoQkosbUJBaUJqQmYsVUFqQmlCLGdDQWtCTEosV0FBVyxDQUFDQyxLQWxCUCw4QkFrQjhCRSxRQWxCOUIsMEJBbUJkTSxlQUFRTyxRQUFSLENBQWlCLENBQWpCLENBbkJjLHVEQXFCaEJGLDZCQXJCZ0IsU0FxQklNLDRCQXJCSixtQkFzQmpCaEIsVUF0QmlCLGdDQXVCTEosV0FBVyxDQUFDQyxLQXZCUCw4QkF1QjhCRSxRQXZCOUIsMEJBd0JkTyxnQkFBU00sUUFBVCxDQUFrQixDQUFsQixDQXhCYyx1REEwQmhCRiw2QkExQmdCLFNBMEJJTywyQkExQkosbUJBMkJqQmpCLFVBM0JpQixnQ0E0QkxKLFdBQVcsQ0FBQ0MsS0E1QlAsOEJBNEI4QkUsUUE1QjlCLDBCQTZCZFEsZUFBUUssUUFBUixDQUFpQixDQUFqQixDQTdCYyx1REErQmhCRiw2QkEvQmdCLFNBK0JJUSxxQ0EvQkosbUJBZ0NqQmxCLFVBaENpQixpQ0FpQ0pKLFdBQVcsQ0FBQ0MsS0FqQ1IsOEJBaUMrQkUsUUFqQy9CLDJCQWtDYlMsd0JBQWlCSSxRQUFqQixDQUEwQixDQUExQixDQWxDYSx1REFvQ2hCTyw2QkFwQ2dCLFNBb0NJUiwyQkFwQ0osbUJBcUNqQlgsVUFyQ2lCLGdDQXNDTEosV0FBVyxDQUFDRSxLQXRDUCw4QkFzQzhCQyxRQXRDOUIsMEJBdUNkRSxlQUFRVyxRQUFSLENBQWlCLENBQWpCLENBdkNjLHVEQXlDaEJPLDZCQXpDZ0IsU0F5Q0lOLDRCQXpDSixtQkEwQ2pCYixVQTFDaUIsZ0NBMkNMSixXQUFXLENBQUNFLEtBM0NQLDhCQTJDOEJDLFFBM0M5QiwwQkE0Q2RJLGdCQUFTUyxRQUFULENBQWtCLENBQWxCLENBNUNjLHVEQThDaEJPLDZCQTlDZ0IsU0E4Q0lMLDhCQTlDSixtQkErQ2pCZCxVQS9DaUIsZ0NBZ0RMSixXQUFXLENBQUNFLEtBaERQLDhCQWdEOEJDLFFBaEQ5QiwwQkFpRGRLLGtCQUFXUSxRQUFYLENBQW9CLENBQXBCLENBakRjLHVEQW1EaEJPLDZCQW5EZ0IsU0FtRElKLDJCQW5ESixtQkFvRGpCZixVQXBEaUIsZ0NBcURMSixXQUFXLENBQUNFLEtBckRQLDhCQXFEOEJDLFFBckQ5QiwwQkFzRGRNLGVBQVFPLFFBQVIsQ0FBaUIsQ0FBakIsQ0F0RGMsdURBd0RoQk8sNkJBeERnQixTQXdESUgsNEJBeERKLG1CQXlEakJoQixVQXpEaUIsZ0NBMERMSixXQUFXLENBQUNFLEtBMURQLDhCQTBEOEJDLFFBMUQ5QiwwQkEyRGRPLGdCQUFTTSxRQUFULENBQWtCLENBQWxCLENBM0RjLHVEQTZEaEJPLDZCQTdEZ0IsU0E2RElGLDJCQTdESixtQkE4RGpCakIsVUE5RGlCLGdDQStETEosV0FBVyxDQUFDRSxLQS9EUCw4QkErRDhCQyxRQS9EOUIsMEJBZ0VkUSxlQUFRSyxRQUFSLENBQWlCLENBQWpCLENBaEVjLHVEQWtFaEJPLDZCQWxFZ0IsU0FrRUlELHFDQWxFSixtQkFtRWpCbEIsVUFuRWlCLGdDQW9FTEosV0FBVyxDQUFDRSxLQXBFUCw4QkFvRThCQyxRQXBFOUIsMEJBcUVkUyx3QkFBaUJJLFFBQWpCLENBQTBCLENBQTFCLENBckVjLDRCQUFoQjs7QUF5RUEsSUFBTVEsTUFBTSxHQUFHO0FBQ25CQyxFQUFBQSxRQUFRLEVBQUUsa0JBQUNDLEtBQUQ7QUFBQTtBQUFBLEdBRFM7QUFvQm5CQyxFQUFBQSxXQUFXLEVBQUUscUJBQUNELEtBQUQ7QUFBQTtBQUFBLEdBcEJNO0FBc0JuQkUsRUFBQUEsSUFBSSxFQUFFLGNBQUNGLEtBQUQ7QUFBQTtBQUFBLEdBdEJhO0FBNEJuQkcsRUFBQUEsUUFBUSxFQUFFLGtCQUFDSCxLQUFEO0FBQUEsV0FBb0IsK0RBQXBCO0FBQUEsR0E1QlM7QUE2Qm5CSSxFQUFBQSxLQUFLLEVBQUUsZUFBQ0osS0FBRDtBQUFBLFdBQW9CLCtEQUFwQjtBQUFBLEdBN0JZO0FBOEJuQkssRUFBQUEsT0FBTyxFQUFFLGlCQUFDTCxLQUFEO0FBQUEsV0FBb0IsK0RBQXBCO0FBQUE7QUE5QlUsQ0FBZjs7O0FBc0NBLFNBQVNNLGlCQUFULENBQTJCQyxRQUEzQixFQUFzREMsU0FBdEQsRUFBeUVDLEtBQXpFLEVBQXdGO0FBQzVGLE1BQU1DLElBQUksR0FBR0gsUUFBUSxDQUFDSSxHQUFULENBQWEsVUFBQ0MsR0FBRCxFQUFTO0FBQ2hDLDhCQUFtQkEsR0FBRyxDQUFDQyxDQUF2QixrQkFBZ0NELEdBQUcsQ0FBQ0UsQ0FBcEMsc0NBQWlFTCxLQUFqRSxlQUEyRUcsR0FBRyxDQUFDRyxDQUEvRTtBQUNGLEdBRlksRUFFVkMsSUFGVSxDQUVMLEVBRkssQ0FBYjtBQUdBLE1BQU1DLEdBQUcsMkVBQW9FVCxTQUFwRSx3QkFBMkZBLFNBQTNGLHlCQUNKRSxJQURJLGdCQUFUO0FBR0EsaURBQXVDUSxrQkFBa0IsQ0FBQ0QsR0FBRCxDQUF6RDtBQUNGIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIENvcHlyaWdodCAoYykgMjAyMSwgSzR1c1xuICogQXV0aG9yOiBSYWtzYSBFbmcgPGVuZy5yYWtzYUBnbWFpbC5jb20+XG4gKiBBbGwgcmlnaHRzIHJlc2VydmVkLlxuICpcbiAqIFJlZGlzdHJpYnV0aW9uIGFuZCB1c2UgaW4gc291cmNlIGFuZCBiaW5hcnkgZm9ybXMsIHdpdGggb3Igd2l0aG91dFxuICogbW9kaWZpY2F0aW9uLCBhcmUgcGVybWl0dGVkIHByb3ZpZGVkIHRoYXQgdGhlIGZvbGxvd2luZyBjb25kaXRpb25zIGFyZSBtZXQ6XG4gKlxuICogMS4gUmVkaXN0cmlidXRpb25zIG9mIHNvdXJjZSBjb2RlIG11c3QgcmV0YWluIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuICogICAgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lci5cbiAqIDIuIFJlZGlzdHJpYnV0aW9ucyBpbiBiaW5hcnkgZm9ybSBtdXN0IHJlcHJvZHVjZSB0aGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSxcbiAqICAgIHRoaXMgbGlzdCBvZiBjb25kaXRpb25zIGFuZCB0aGUgZm9sbG93aW5nIGRpc2NsYWltZXIgaW4gdGhlIGRvY3VtZW50YXRpb25cbiAqICAgIGFuZC9vciBvdGhlciBtYXRlcmlhbHMgcHJvdmlkZWQgd2l0aCB0aGUgZGlzdHJpYnV0aW9uLlxuICpcbiAqIFRISVMgU09GVFdBUkUgSVMgUFJPVklERUQgQlkgVEhFIENPUFlSSUdIVCBIT0xERVJTIEFORCBDT05UUklCVVRPUlMgXCJBUyBJU1wiXG4gKiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFXG4gKiBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRVxuICogQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFXG4gKiBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SXG4gKiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRlxuICogU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTXG4gKiBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTlxuICogQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSlcbiAqIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFXG4gKiBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAqXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cbmltcG9ydCB7XG4gICBQSUVDRV9DT0xPUl9CTEFDSyxcbiAgIFBJRUNFX0NPTE9SX1dISVRFLFxuICAgUElFQ0VfVFlQRV9CT0FULFxuICAgUElFQ0VfVFlQRV9UUkFOU0ZPUk1fRklTSCxcbiAgIFBJRUNFX1RZUEVfR0VORVJBTCxcbiAgIFBJRUNFX1RZUEVfUVVFRU4sXG4gICBQSUVDRV9UWVBFX0tJTkcsXG4gICBQSUVDRV9UWVBFX0hPUlNFLFxuICAgUElFQ0VfVFlQRV9GSVNILFxufSBmcm9tICdraG1lci1jaGVzcyc7XG5pbXBvcnQge1xuICAgYm9hdFNWRyxcbiAgIGZpc2hTVkcsXG4gICBnZW5lcmFsU1ZHLFxuICAgaG9yc2VTVkcsXG4gICBraW5nU1ZHLFxuICAgcXVlZW5TVkcsXG4gICB0cmFuc2Zvcm1GaXNoU1ZHLFxufSBmcm9tICdrNHVzLXNoYXJlL3R5cGVzJztcblxuZXhwb3J0IGNvbnN0IFdPT0RfQ09MT1JTID0ge1xuICAgV0hJVEU6ICcjZmZmZmZmJyxcbiAgIEJMQUNLOiAnIzQyMjAwNycsXG59O1xuXG5jb25zdCBmaWx0ZXJJZCA9ICdkcm9wLXNoYWRvdyc7XG5jb25zdCBTVkdfRklMVEVSID0gYDxkZWZzPlxuPGZpbHRlciBpZD1cIiR7ZmlsdGVySWR9XCIgaGVpZ2h0PVwiMTMwJVwiPlxuICA8ZmVHYXVzc2lhbkJsdXIgaW49XCJTb3VyY2VBbHBoYVwiIHN0ZERldmlhdGlvbj1cIjVcIi8+XG4gIDxmZU9mZnNldCBkeD1cIjVcIiBkeT1cIjVcIiByZXN1bHQ9XCJvZmZzZXRibHVyXCIvPlxuICA8ZmVNZXJnZT5cbiAgICA8ZmVNZXJnZU5vZGUvPlxuICAgIDxmZU1lcmdlTm9kZSBpbj1cIlNvdXJjZUdyYXBoaWNcIi8+XG4gIDwvZmVNZXJnZT5cbjwvZmlsdGVyPlxuPC9kZWZzPmA7XG5cbmJvYXRTVkcuaW5pdCgpO1xuaG9yc2VTVkcuaW5pdCgpO1xuZ2VuZXJhbFNWRy5pbml0KCk7XG5raW5nU1ZHLmluaXQoKTtcbnF1ZWVuU1ZHLmluaXQoKTtcbmZpc2hTVkcuaW5pdCgpO1xudHJhbnNmb3JtRmlzaFNWRy5pbml0KCk7XG5cbmV4cG9ydCBjb25zdCBQSUVDRVNfU1ZHID0ge1xuICAgW2Ake1BJRUNFX0NPTE9SX1dISVRFfSR7UElFQ0VfVFlQRV9CT0FUfWBdOiBgXG4gICAgJHtTVkdfRklMVEVSfVxuICAgIDxwYXRoIGZpbGw9XCIke1dPT0RfQ09MT1JTLldISVRFfVwiIGZpbHRlcj1cInVybCgjJHtmaWx0ZXJJZH0pXCJcbiAgICBkPVwiJHtib2F0U1ZHLnBhdGhEYXRhWzBdfVwiIC8+XG4gYCxcbiAgIFtgJHtQSUVDRV9DT0xPUl9XSElURX0ke1BJRUNFX1RZUEVfSE9SU0V9YF06IGBcbiAgICAke1NWR19GSUxURVJ9XG4gICAgPHBhdGggZmlsbD1cIiR7V09PRF9DT0xPUlMuV0hJVEV9XCIgZmlsdGVyPVwidXJsKCMke2ZpbHRlcklkfSlcIlxuICAgIGQ9XCIke2hvcnNlU1ZHLnBhdGhEYXRhWzBdfVwiIC8+XG4gYCxcbiAgIFtgJHtQSUVDRV9DT0xPUl9XSElURX0ke1BJRUNFX1RZUEVfR0VORVJBTH1gXTogYFxuICAgICR7U1ZHX0ZJTFRFUn1cbiAgICA8cGF0aCBmaWxsPVwiJHtXT09EX0NPTE9SUy5XSElURX1cIiBmaWx0ZXI9XCJ1cmwoIyR7ZmlsdGVySWR9KVwiXG4gICAgZD1cIiR7Z2VuZXJhbFNWRy5wYXRoRGF0YVswXX1cIiAvPlxuIGAsXG4gICBbYCR7UElFQ0VfQ09MT1JfV0hJVEV9JHtQSUVDRV9UWVBFX0tJTkd9YF06IGBcbiAgICAke1NWR19GSUxURVJ9XG4gICAgPHBhdGggZmlsbD1cIiR7V09PRF9DT0xPUlMuV0hJVEV9XCIgZmlsdGVyPVwidXJsKCMke2ZpbHRlcklkfSlcIlxuICAgIGQ9XCIke2tpbmdTVkcucGF0aERhdGFbMF19XCIgLz5cbiBgLFxuICAgW2Ake1BJRUNFX0NPTE9SX1dISVRFfSR7UElFQ0VfVFlQRV9RVUVFTn1gXTogYFxuICAgICR7U1ZHX0ZJTFRFUn1cbiAgICA8cGF0aCBmaWxsPVwiJHtXT09EX0NPTE9SUy5XSElURX1cIiBmaWx0ZXI9XCJ1cmwoIyR7ZmlsdGVySWR9KVwiXG4gICAgZD1cIiR7cXVlZW5TVkcucGF0aERhdGFbMF19XCIgLz5cbiBgLFxuICAgW2Ake1BJRUNFX0NPTE9SX1dISVRFfSR7UElFQ0VfVFlQRV9GSVNIfWBdOiBgXG4gICAgJHtTVkdfRklMVEVSfVxuICAgIDxwYXRoIGZpbGw9XCIke1dPT0RfQ09MT1JTLldISVRFfVwiIGZpbHRlcj1cInVybCgjJHtmaWx0ZXJJZH0pXCJcbiAgICBkPVwiJHtmaXNoU1ZHLnBhdGhEYXRhWzBdfVwiIC8+XG4gYCxcbiAgIFtgJHtQSUVDRV9DT0xPUl9XSElURX0ke1BJRUNFX1RZUEVfVFJBTlNGT1JNX0ZJU0h9YF06IGBcbiAgICAke1NWR19GSUxURVJ9XG4gICAgIDxwYXRoIGZpbGw9XCIke1dPT0RfQ09MT1JTLldISVRFfVwiIGZpbHRlcj1cInVybCgjJHtmaWx0ZXJJZH0pXCJcbiAgICAgZD1cIiR7dHJhbnNmb3JtRmlzaFNWRy5wYXRoRGF0YVswXX1cIiAvPlxuIGAsXG4gICBbYCR7UElFQ0VfQ09MT1JfQkxBQ0t9JHtQSUVDRV9UWVBFX0JPQVR9YF06IGBcbiAgICAke1NWR19GSUxURVJ9XG4gICAgPHBhdGggZmlsbD1cIiR7V09PRF9DT0xPUlMuQkxBQ0t9XCIgZmlsdGVyPVwidXJsKCMke2ZpbHRlcklkfSlcIlxuICAgIGQ9XCIke2JvYXRTVkcucGF0aERhdGFbMF19XCIgLz5cbiBgLFxuICAgW2Ake1BJRUNFX0NPTE9SX0JMQUNLfSR7UElFQ0VfVFlQRV9IT1JTRX1gXTogYFxuICAgICR7U1ZHX0ZJTFRFUn1cbiAgICA8cGF0aCBmaWxsPVwiJHtXT09EX0NPTE9SUy5CTEFDS31cIiBmaWx0ZXI9XCJ1cmwoIyR7ZmlsdGVySWR9KVwiXG4gICAgZD1cIiR7aG9yc2VTVkcucGF0aERhdGFbMF19XCIgLz5cbiBgLFxuICAgW2Ake1BJRUNFX0NPTE9SX0JMQUNLfSR7UElFQ0VfVFlQRV9HRU5FUkFMfWBdOiBgXG4gICAgJHtTVkdfRklMVEVSfVxuICAgIDxwYXRoIGZpbGw9XCIke1dPT0RfQ09MT1JTLkJMQUNLfVwiIGZpbHRlcj1cInVybCgjJHtmaWx0ZXJJZH0pXCJcbiAgICBkPVwiJHtnZW5lcmFsU1ZHLnBhdGhEYXRhWzBdfVwiIC8+XG4gYCxcbiAgIFtgJHtQSUVDRV9DT0xPUl9CTEFDS30ke1BJRUNFX1RZUEVfS0lOR31gXTogYFxuICAgICR7U1ZHX0ZJTFRFUn1cbiAgICA8cGF0aCBmaWxsPVwiJHtXT09EX0NPTE9SUy5CTEFDS31cIiBmaWx0ZXI9XCJ1cmwoIyR7ZmlsdGVySWR9KVwiXG4gICAgZD1cIiR7a2luZ1NWRy5wYXRoRGF0YVswXX1cIiAvPlxuIGAsXG4gICBbYCR7UElFQ0VfQ09MT1JfQkxBQ0t9JHtQSUVDRV9UWVBFX1FVRUVOfWBdOiBgXG4gICAgJHtTVkdfRklMVEVSfVxuICAgIDxwYXRoIGZpbGw9XCIke1dPT0RfQ09MT1JTLkJMQUNLfVwiIGZpbHRlcj1cInVybCgjJHtmaWx0ZXJJZH0pXCJcbiAgICBkPVwiJHtxdWVlblNWRy5wYXRoRGF0YVswXX1cIiAvPlxuIGAsXG4gICBbYCR7UElFQ0VfQ09MT1JfQkxBQ0t9JHtQSUVDRV9UWVBFX0ZJU0h9YF06IGBcbiAgICAke1NWR19GSUxURVJ9XG4gICAgPHBhdGggZmlsbD1cIiR7V09PRF9DT0xPUlMuQkxBQ0t9XCIgZmlsdGVyPVwidXJsKCMke2ZpbHRlcklkfSlcIlxuICAgIGQ9XCIke2Zpc2hTVkcucGF0aERhdGFbMF19XCIgLz5cbiBgLFxuICAgW2Ake1BJRUNFX0NPTE9SX0JMQUNLfSR7UElFQ0VfVFlQRV9UUkFOU0ZPUk1fRklTSH1gXTogYFxuICAgICR7U1ZHX0ZJTFRFUn1cbiAgICA8cGF0aCBmaWxsPVwiJHtXT09EX0NPTE9SUy5CTEFDS31cIiBmaWx0ZXI9XCJ1cmwoIyR7ZmlsdGVySWR9KVwiXG4gICAgZD1cIiR7dHJhbnNmb3JtRmlzaFNWRy5wYXRoRGF0YVswXX1cIiAvPlxuIGAsXG59O1xuXG5leHBvcnQgY29uc3Qgc3ZnQ1NTID0ge1xuICAgYXR0YWNrZWQ6IChjb2xvcj86IHN0cmluZykgPT4gYHBhdGgge1xuICAgICAgc3Ryb2tlOiByZWQ7XG4gICAgICBzdHJva2Utd2lkdGg6IDFweDtcbiAgICAgIHN0cm9rZS1saW5lam9pbjogcm91bmQ7XG4gICAgICBhbmltYXRpb24tbmFtZTogYXR0YWNraW5nO1xuICAgICAgYW5pbWF0aW9uLWR1cmF0aW9uOiAxcztcbiAgICAgIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6IGluZmluaXRlO1xuICAgfVxuICAgQGtleWZyYW1lcyBhdHRhY2tpbmcge1xuICAgICAgMCUge1xuICAgICAgICAgc3Ryb2tlLXdpZHRoOiAyMHB4O1xuICAgICAgfVxuICAgICAgNTAlIHtcbiAgICAgICAgIHN0cm9rZS13aWR0aDogMXB4O1xuICAgICAgfVxuICAgICAgMTAwJSB7XG4gICAgICAgICBzdHJva2Utd2lkdGg6IDIwcHg7XG4gICAgICB9XG4gICB9YCxcbiAgIG5vdEF0dGFja2VkOiAoY29sb3I/OiBzdHJpbmcpID0+IGBwYXRoIHtcbiAgIH1gLFxuICAgdHVybjogKGNvbG9yPzogc3RyaW5nKSA9PiBgcGF0aCB7XG4gICAgICBzdHJva2U6ICMzZDhhMzY1ZjtcbiAgICAgIHN0cm9rZS13aWR0aDogMTBweDtcbiAgICAgIHN0cm9rZS1saW5lam9pbjogcm91bmQ7XG4gICB9XG4gICBgLFxuICAgc2VsZWN0ZWQ6IChjb2xvcj86IHN0cmluZykgPT4gJ2JhY2tncm91bmQ6IHJhZGlhbC1ncmFkaWVudCgjZmYwMGY1NzcsICMzZDhhMzY3NykgIWltcG9ydGFudDsnLFxuICAgbW92ZWQ6IChjb2xvcj86IHN0cmluZykgPT4gJ2JhY2tncm91bmQ6IHJhZGlhbC1ncmFkaWVudCgjYzBhZWVlOTksICM5NGU5ZDc4OCkgIWltcG9ydGFudDsnLFxuICAgY2FuTW92ZTogKGNvbG9yPzogc3RyaW5nKSA9PiAnYmFja2dyb3VuZDogcmFkaWFsLWdyYWRpZW50KCNmZjAwZjUwMCwgIzNkOGEzNjc3KSAhaW1wb3J0YW50OycsXG59O1xuXG50eXBlIE5vdGVUZXh0ID0ge1xuICAgeDogbnVtYmVyLFxuICAgeTogbnVtYmVyLFxuICAgdDogc3RyaW5nXG59XG5leHBvcnQgZnVuY3Rpb24gZ2VuQmFja2dyb3VuZE5vdGUodE9iamVjdHM6IEFycmF5PE5vdGVUZXh0PiwgY2VsbFdpZHRoOiBudW1iZXIsIGZTaXplOiBudW1iZXIpIHtcbiAgIGNvbnN0IHRleHQgPSB0T2JqZWN0cy5tYXAoKG9iaikgPT4ge1xuICAgICAgcmV0dXJuIGA8dGV4dCB4PScke29iai54fScgeT0nJHtvYmoueX0nIGZpbGw9J2dyZXknIGZvbnQtc2l6ZT0nJHtmU2l6ZX0nPiR7b2JqLnR9PC90ZXh0PmA7XG4gICB9KS5qb2luKCcnKTtcbiAgIGNvbnN0IHN2ZyA9IGA8c3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycgdmVyc2lvbj0nMS4xJyBoZWlnaHQ9JyR7Y2VsbFdpZHRofXB4JyB3aWR0aD0nJHtjZWxsV2lkdGh9cHgnPlxuICAgICAgJHt0ZXh0fVxuICAgPC9zdmc+YDtcbiAgIHJldHVybiBgdXJsKFwiZGF0YTppbWFnZS9zdmcreG1sO3V0ZjgsJHtlbmNvZGVVUklDb21wb25lbnQoc3ZnKX1cIilgO1xufVxuIl19