"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = addCssNote;

var _khmerChess = require("khmer-chess");

var _appendCss = _interopRequireDefault(require("./appendCss"));

var _svg = require("../providers/svg");

var _constance = require("../providers/constance");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

function addCssNote(_ref) {
  var uniqueClassName = _ref.uniqueClassName,
      options = _ref.options,
      isEnglish = _ref.isEnglish;
  var verticalLetters = isEnglish ? _khmerChess.VERTICAL_NOTE_LETTERS_ENGLISH : _khmerChess.VERTICAL_NOTE_LETTERS;
  var horizontalLetters = isEnglish ? _khmerChess.HORIZONTAL_NOTE_LETTERS_ENGLISH : _khmerChess.HORIZONTAL_NOTE_LETTERS;
  var width = options.width,
      cellWidth = options.cellWidth;
  var selector = "".concat(_constance.CSS_TABLE_SELECTOR, ".").concat(uniqueClassName);
  var css = '';
  var fSize = 15 * width / 600;

  for (var i = 0; i < _constance.TD_GRAVEYARD_NUMBER; i++) {
    var _bgImg = (0, _svg.genBackgroundNote)([{
      x: cellWidth / 2 - cellWidth / 10,
      y: cellWidth,
      t: verticalLetters[i]
    }], cellWidth, fSize);

    css += "\n        ".concat(selector, " td").concat(isEnglish ? '.' + options.enClass : '', ".").concat(_constance.GRAVEYARD_NOTE_PREFIX_CLASS, "-").concat(i + 1).concat(_constance.CSS_PSEUDO_NOTE, " {\n            background-image: ").concat(_bgImg, ";\n        }\n        ");
  }

  var hx = cellWidth / 2 - cellWidth / 10;
  var vy = cellWidth / 2 + cellWidth / 10;

  var bgImg = function bgImg(i) {
    return (0, _svg.genBackgroundNote)([{
      x: hx,
      y: cellWidth,
      t: horizontalLetters[i]
    }], cellWidth, fSize);
  };

  for (var _i = 0; _i < _khmerChess.ROW_NUMBER; _i++) {
    css += "\n        ".concat(selector, " td").concat(isEnglish ? '.' + options.enClass : '', ".").concat(_constance.BOARD_NOTE_H_PREFIX_CLASS, "-").concat(_i + 1).concat(_constance.CSS_PSEUDO_NOTE, " {\n            background-image: ").concat(bgImg(_i), ";\n        }\n        ").concat(selector, " td").concat(isEnglish ? '.' + options.enClass : '', ".").concat(_constance.FLIPPED_CLASS, ".").concat(_constance.BOARD_NOTE_H_PREFIX_CLASS, "-").concat(_i + 1).concat(_constance.CSS_PSEUDO_NOTE, " {\n            background-image: ").concat(bgImg(_khmerChess.ROW_NUMBER - _i - 1), ";\n        }\n        ");
  }

  bgImg = function bgImg(i) {
    return (0, _svg.genBackgroundNote)([{
      x: 0,
      y: vy,
      t: verticalLetters[i]
    }], cellWidth, fSize);
  };

  for (var j = 0; j < _khmerChess.ROW_NUMBER; j++) {
    css += "\n            ".concat(selector, " td").concat(isEnglish ? '.' + options.enClass : '', ".").concat(_constance.BOARD_NOTE_V_PREFIX_CLASS, "-").concat(j + 1).concat(_constance.CSS_PSEUDO_NOTE, " {\n                background-image: ").concat(bgImg(j), ";\n            }\n            ").concat(selector, " td").concat(isEnglish ? '.' + options.enClass : '', ".flipped.").concat(_constance.BOARD_NOTE_V_PREFIX_CLASS, "-").concat(j + 1).concat(_constance.CSS_PSEUDO_NOTE, " {\n                background-image: ").concat(bgImg(_khmerChess.ROW_NUMBER - j - 1), ";\n            }\n            ");
  }

  bgImg = function bgImg(i) {
    return (0, _svg.genBackgroundNote)([{
      x: hx,
      y: cellWidth,
      t: horizontalLetters[i]
    }, {
      x: 0,
      y: vy,
      t: verticalLetters[i]
    }], cellWidth, fSize);
  };

  css += "\n    ".concat(selector, " td").concat(isEnglish ? '.' + options.enClass : '', ".").concat(_constance.BOARD_NOTE_V_PREFIX_CLASS, "-1.").concat(_constance.BOARD_NOTE_H_PREFIX_CLASS, "-1").concat(_constance.CSS_PSEUDO_NOTE, " {\n        background-image: ").concat(bgImg(0), ";\n    }\n    ").concat(selector, " td").concat(isEnglish ? '.' + options.enClass : '', ".").concat(_constance.FLIPPED_CLASS, ".").concat(_constance.BOARD_NOTE_V_PREFIX_CLASS, "-1.").concat(_constance.BOARD_NOTE_H_PREFIX_CLASS, "-1").concat(_constance.CSS_PSEUDO_NOTE, " {\n        background-image: ").concat(bgImg(7), ";\n    }\n    ");
  (0, _appendCss["default"])(uniqueClassName, css);
}
/*
 * Copyright (c) 2021, K4us
 * Author: Raksa Eng <eng.raksa@gmail.com>
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * 1. Redistributions of source code must retain the above copyright notice,
 *    this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright notice,
 *    this list of conditions and the following disclaimer in the documentation
 *    and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
 * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
 * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
 * POSSIBILITY OF SUCH DAMAGE.
 *
 **/
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9oZWxwZXJzL2FkZENzc05vdGUudHMiXSwibmFtZXMiOlsiYWRkQ3NzTm90ZSIsInVuaXF1ZUNsYXNzTmFtZSIsIm9wdGlvbnMiLCJpc0VuZ2xpc2giLCJ2ZXJ0aWNhbExldHRlcnMiLCJWRVJUSUNBTF9OT1RFX0xFVFRFUlNfRU5HTElTSCIsIlZFUlRJQ0FMX05PVEVfTEVUVEVSUyIsImhvcml6b250YWxMZXR0ZXJzIiwiSE9SSVpPTlRBTF9OT1RFX0xFVFRFUlNfRU5HTElTSCIsIkhPUklaT05UQUxfTk9URV9MRVRURVJTIiwid2lkdGgiLCJjZWxsV2lkdGgiLCJzZWxlY3RvciIsIkNTU19UQUJMRV9TRUxFQ1RPUiIsImNzcyIsImZTaXplIiwiaSIsIlREX0dSQVZFWUFSRF9OVU1CRVIiLCJiZ0ltZyIsIngiLCJ5IiwidCIsImVuQ2xhc3MiLCJHUkFWRVlBUkRfTk9URV9QUkVGSVhfQ0xBU1MiLCJDU1NfUFNFVURPX05PVEUiLCJoeCIsInZ5IiwiUk9XX05VTUJFUiIsIkJPQVJEX05PVEVfSF9QUkVGSVhfQ0xBU1MiLCJGTElQUEVEX0NMQVNTIiwiaiIsIkJPQVJEX05PVEVfVl9QUkVGSVhfQ0xBU1MiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFFQTs7QUFPQTs7QUFDQTs7QUFDQTs7OztBQVVlLFNBQVNBLFVBQVQsT0FDZ0U7QUFBQSxNQUQxQ0MsZUFDMEMsUUFEMUNBLGVBQzBDO0FBQUEsTUFEekJDLE9BQ3lCLFFBRHpCQSxPQUN5QjtBQUFBLE1BRGhCQyxTQUNnQixRQURoQkEsU0FDZ0I7QUFDM0UsTUFBTUMsZUFBZSxHQUFHRCxTQUFTLEdBQUdFLHlDQUFILEdBQW1DQyxpQ0FBcEU7QUFDQSxNQUFNQyxpQkFBaUIsR0FBR0osU0FBUyxHQUFHSywyQ0FBSCxHQUFxQ0MsbUNBQXhFO0FBQ0EsTUFBUUMsS0FBUixHQUE2QlIsT0FBN0IsQ0FBUVEsS0FBUjtBQUFBLE1BQWVDLFNBQWYsR0FBNkJULE9BQTdCLENBQWVTLFNBQWY7QUFDQSxN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QTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IE9wdGlvbnNNYW5hZ2VyIGZyb20gJy4uL09wdGlvbnNNYW5hZ2VyJztcblxuaW1wb3J0IHtcbiAgICBIT1JJWk9OVEFMX05PVEVfTEVUVEVSUyxcbiAgICBIT1JJWk9OVEFMX05PVEVfTEVUVEVSU19FTkdMSVNILFxuICAgIFJPV19OVU1CRVIsXG4gICAgVkVSVElDQUxfTk9URV9MRVRURVJTLFxuICAgIFZFUlRJQ0FMX05PVEVfTEVUVEVSU19FTkdMSVNILFxufSBmcm9tICdraG1lci1jaGVzcyc7XG5pbXBvcnQgYXBwZW5kQ3NzIGZyb20gJy4vYXBwZW5kQ3NzJztcbmltcG9ydCB7IGdlbkJhY2tncm91bmROb3RlIH0gZnJvbSAnLi4vcHJvdmlkZXJzL3N2Zyc7XG5pbXBvcnQge1xuICAgIFREX0dSQVZFWUFSRF9OVU1CRVIsXG4gICAgQ1NTX1RBQkxFX1NFTEVDVE9SLFxuICAgIEdSQVZFWUFSRF9OT1RFX1BSRUZJWF9DTEFTUyxcbiAgICBCT0FSRF9OT1RFX1ZfUFJFRklYX0NMQVNTLFxuICAgIEJPQVJEX05PVEVfSF9QUkVGSVhfQ0xBU1MsXG4gICAgRkxJUFBFRF9DTEFTUyxcbiAgICBDU1NfUFNFVURPX05PVEUsXG59IGZyb20gJy4uL3Byb3ZpZGVycy9jb25zdGFuY2UnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRDc3NOb3RlKHsgdW5pcXVlQ2xhc3NOYW1lLCBvcHRpb25zLCBpc0VuZ2xpc2ggfTpcbiAgICB7IHVuaXF1ZUNsYXNzTmFtZTogc3RyaW5nLCBvcHRpb25zOiBPcHRpb25zTWFuYWdlciwgaXNFbmdsaXNoPzogYm9vbGVhbiB9KSB7XG4gICAgY29uc3QgdmVydGljYWxMZXR0ZXJzID0gaXNFbmdsaXNoID8gVkVSVElDQUxfTk9URV9MRVRURVJTX0VOR0xJU0ggOiBWRVJUSUNBTF9OT1RFX0xFVFRFUlM7XG4gICAgY29uc3QgaG9yaXpvbnRhbExldHRlcnMgPSBpc0VuZ2xpc2ggPyBIT1JJWk9OVEFMX05PVEVfTEVUVEVSU19FTkdMSVNIIDogSE9SSVpPTlRBTF9OT1RFX0xFVFRFUlM7XG4gICAgY29uc3QgeyB3aWR0aCwgY2VsbFdpZHRoIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IHNlbGVjdG9yID0gYCR7Q1NTX1RBQkxFX1NFTEVDVE9SfS4ke3VuaXF1ZUNsYXNzTmFtZX1gO1xuICAgIGxldCBjc3MgPSAnJztcbiAgICBjb25zdCBmU2l6ZSA9IDE1ICogd2lkdGggLyA2MDA7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBURF9HUkFWRVlBUkRfTlVNQkVSOyBpKyspIHtcbiAgICAgICAgY29uc3QgYmdJbWcgPSBnZW5CYWNrZ3JvdW5kTm90ZShbe1xuICAgICAgICAgICAgeDogY2VsbFdpZHRoIC8gMiAtIGNlbGxXaWR0aCAvIDEwLFxuICAgICAgICAgICAgeTogY2VsbFdpZHRoLFxuICAgICAgICAgICAgdDogdmVydGljYWxMZXR0ZXJzW2ldLFxuICAgICAgICB9XSwgY2VsbFdpZHRoLCBmU2l6ZSk7XG4gICAgICAgIGNzcyArPSBgXG4gICAgICAgICR7c2VsZWN0b3J9IHRkJHtpc0VuZ2xpc2ggPyAnLicgKyBvcHRpb25zLmVuQ2xhc3MgOiAnJ30uJHtHUkFWRVlBUkRfTk9URV9QUkVGSVhfQ0xBU1N9LSR7aSArIDF9JHtDU1NfUFNFVURPX05PVEV9IHtcbiAgICAgICAgICAgIGJhY2tncm91bmQtaW1hZ2U6ICR7YmdJbWd9O1xuICAgICAgICB9XG4gICAgICAgIGA7XG4gICAgfVxuXG4gICAgY29uc3QgaHggPSBjZWxsV2lkdGggLyAyIC0gY2VsbFdpZHRoIC8gMTA7XG4gICAgY29uc3QgdnkgPSBjZWxsV2lkdGggLyAyICsgY2VsbFdpZHRoIC8gMTA7XG4gICAgbGV0IGJnSW1nID0gKGk6IG51bWJlcikgPT4gZ2VuQmFja2dyb3VuZE5vdGUoW3tcbiAgICAgICAgeDogaHgsXG4gICAgICAgIHk6IGNlbGxXaWR0aCxcbiAgICAgICAgdDogaG9yaXpvbnRhbExldHRlcnNbaV0sXG4gICAgfV0sIGNlbGxXaWR0aCwgZlNpemUpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgUk9XX05VTUJFUjsgaSsrKSB7XG4gICAgICAgIGNzcyArPSBgXG4gICAgICAgICR7c2VsZWN0b3J9IHRkJHtpc0VuZ2xpc2ggPyAnLicgKyBvcHRpb25zLmVuQ2xhc3MgOiAnJ30uJHtCT0FSRF9OT1RFX0hfUFJFRklYX0NMQVNTfS0ke2kgKyAxfSR7Q1NTX1BTRVVET19OT1RFfSB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiAke2JnSW1nKGkpfTtcbiAgICAgICAgfVxuICAgICAgICAke3NlbGVjdG9yfSB0ZCR7aXNFbmdsaXNoID8gJy4nICsgb3B0aW9ucy5lbkNsYXNzIDogJyd9LiR7RkxJUFBFRF9DTEFTU30uJHtCT0FSRF9OT1RFX0hfUFJFRklYX0NMQVNTfS0ke2kgKyAxfSR7Q1NTX1BTRVVET19OT1RFfSB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiAke2JnSW1nKFJPV19OVU1CRVIgLSBpIC0gMSl9O1xuICAgICAgICB9XG4gICAgICAgIGA7XG4gICAgfVxuICAgIGJnSW1nID0gKGkpID0+IGdlbkJhY2tncm91bmROb3RlKFt7XG4gICAgICAgIHg6IDAsXG4gICAgICAgIHk6IHZ5LFxuICAgICAgICB0OiB2ZXJ0aWNhbExldHRlcnNbaV0sXG4gICAgfV0sIGNlbGxXaWR0aCwgZlNpemUpO1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgUk9XX05VTUJFUjsgaisrKSB7XG4gICAgICAgIGNzcyArPSBgXG4gICAgICAgICAgICAke3NlbGVjdG9yfSB0ZCR7aXNFbmdsaXNoID8gJy4nICsgb3B0aW9ucy5lbkNsYXNzIDogJyd9LiR7Qk9BUkRfTk9URV9WX1BSRUZJWF9DTEFTU30tJHtqICsgMX0ke0NTU19QU0VVRE9fTk9URX0ge1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtaW1hZ2U6ICR7YmdJbWcoail9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgJHtzZWxlY3Rvcn0gdGQke2lzRW5nbGlzaCA/ICcuJyArIG9wdGlvbnMuZW5DbGFzcyA6ICcnfS5mbGlwcGVkLiR7Qk9BUkRfTk9URV9WX1BSRUZJWF9DTEFTU30tJHtqICsgMX0ke0NTU19QU0VVRE9fTk9URX0ge1xuICAgICAgICAgICAgICAgIGJhY2tncm91bmQtaW1hZ2U6ICR7YmdJbWcoUk9XX05VTUJFUiAtIGogLSAxKX07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBgO1xuICAgIH1cblxuICAgIGJnSW1nID0gKGkpID0+IGdlbkJhY2tncm91bmROb3RlKFtcbiAgICAgICAge1xuICAgICAgICAgICAgeDogaHgsXG4gICAgICAgICAgICB5OiBjZWxsV2lkdGgsXG4gICAgICAgICAgICB0OiBob3Jpem9udGFsTGV0dGVyc1tpXSxcbiAgICAgICAgfSwge1xuICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgIHk6IHZ5LFxuICAgICAgICAgICAgdDogdmVydGljYWxMZXR0ZXJzW2ldLFxuICAgICAgICB9LFxuICAgIF0sIGNlbGxXaWR0aCwgZlNpemUpO1xuICAgIGNzcyArPSBgXG4gICAgJHtzZWxlY3Rvcn0gdGQke2lzRW5nbGlzaCA/ICcuJyArIG9wdGlvbnMuZW5DbGFzcyA6ICcnfS4ke0JPQVJEX05PVEVfVl9QUkVGSVhfQ0xBU1N9LTEuJHtCT0FSRF9OT1RFX0hfUFJFRklYX0NMQVNTfS0xJHtDU1NfUFNFVURPX05PVEV9IHtcbiAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogJHtiZ0ltZygwKX07XG4gICAgfVxuICAgICR7c2VsZWN0b3J9IHRkJHtpc0VuZ2xpc2ggPyAnLicgKyBvcHRpb25zLmVuQ2xhc3MgOiAnJ30uJHtGTElQUEVEX0NMQVNTfS4ke0JPQVJEX05PVEVfVl9QUkVGSVhfQ0xBU1N9LTEuJHtCT0FSRF9OT1RFX0hfUFJFRklYX0NMQVNTfS0xJHtDU1NfUFNFVURPX05PVEV9IHtcbiAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogJHtiZ0ltZyg3KX07XG4gICAgfVxuICAgIGA7XG5cbiAgICBhcHBlbmRDc3ModW5pcXVlQ2xhc3NOYW1lLCBjc3MpO1xufVxuXG4vKlxuICogQ29weXJpZ2h0IChjKSAyMDIxLCBLNHVzXG4gKiBBdXRob3I6IFJha3NhIEVuZyA8ZW5nLnJha3NhQGdtYWlsLmNvbT5cbiAqIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4gKlxuICogUmVkaXN0cmlidXRpb24gYW5kIHVzZSBpbiBzb3VyY2UgYW5kIGJpbmFyeSBmb3Jtcywgd2l0aCBvciB3aXRob3V0XG4gKiBtb2RpZmljYXRpb24sIGFyZSBwZXJtaXR0ZWQgcHJvdmlkZWQgdGhhdCB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnMgYXJlIG1ldDpcbiAqXG4gKiAxLiBSZWRpc3RyaWJ1dGlvbnMgb2Ygc291cmNlIGNvZGUgbXVzdCByZXRhaW4gdGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UsXG4gKiAgICB0aGlzIGxpc3Qgb2YgY29uZGl0aW9ucyBhbmQgdGhlIGZvbGxvd2luZyBkaXNjbGFpbWVyLlxuICogMi4gUmVkaXN0cmlidXRpb25zIGluIGJpbmFyeSBmb3JtIG11c3QgcmVwcm9kdWNlIHRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlLFxuICogICAgdGhpcyBsaXN0IG9mIGNvbmRpdGlvbnMgYW5kIHRoZSBmb2xsb3dpbmcgZGlzY2xhaW1lciBpbiB0aGUgZG9jdW1lbnRhdGlvblxuICogICAgYW5kL29yIG90aGVyIG1hdGVyaWFscyBwcm92aWRlZCB3aXRoIHRoZSBkaXN0cmlidXRpb24uXG4gKlxuICogVEhJUyBTT0ZUV0FSRSBJUyBQUk9WSURFRCBCWSBUSEUgQ09QWVJJR0hUIEhPTERFUlMgQU5EIENPTlRSSUJVVE9SUyAnQVMgSVMnXG4gKiBBTkQgQU5ZIEVYUFJFU1MgT1IgSU1QTElFRCBXQVJSQU5USUVTLCBJTkNMVURJTkcsIEJVVCBOT1QgTElNSVRFRCBUTywgVEhFXG4gKiBJTVBMSUVEIFdBUlJBTlRJRVMgT0YgTUVSQ0hBTlRBQklMSVRZIEFORCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRVxuICogQVJFIERJU0NMQUlNRUQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBDT1BZUklHSFQgT1dORVIgT1IgQ09OVFJJQlVUT1JTIEJFXG4gKiBMSUFCTEUgRk9SIEFOWSBESVJFQ1QsIElORElSRUNULCBJTkNJREVOVEFMLCBTUEVDSUFMLCBFWEVNUExBUlksIE9SXG4gKiBDT05TRVFVRU5USUFMIERBTUFHRVMgKElOQ0xVRElORywgQlVUIE5PVCBMSU1JVEVEIFRPLCBQUk9DVVJFTUVOVCBPRlxuICogU1VCU1RJVFVURSBHT09EUyBPUiBTRVJWSUNFUzsgTE9TUyBPRiBVU0UsIERBVEEsIE9SIFBST0ZJVFM7IE9SIEJVU0lORVNTXG4gKiBJTlRFUlJVUFRJT04pIEhPV0VWRVIgQ0FVU0VEIEFORCBPTiBBTlkgVEhFT1JZIE9GIExJQUJJTElUWSwgV0hFVEhFUiBJTlxuICogQ09OVFJBQ1QsIFNUUklDVCBMSUFCSUxJVFksIE9SIFRPUlQgKElOQ0xVRElORyBORUdMSUdFTkNFIE9SIE9USEVSV0lTRSlcbiAqIEFSSVNJTkcgSU4gQU5ZIFdBWSBPVVQgT0YgVEhFIFVTRSBPRiBUSElTIFNPRlRXQVJFLCBFVkVOIElGIEFEVklTRUQgT0YgVEhFXG4gKiBQT1NTSUJJTElUWSBPRiBTVUNIIERBTUFHRS5cbiAqXG4gKiovIl19