{"version":3,"file":"khmer-chess-board.bundle.js","mappings":"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","sources":["webpack://khmer-chess-board/webpack/universalModuleDefinition","webpack://khmer-chess-board/./src/BoardManager.js","webpack://khmer-chess-board/./src/CellManager.js","webpack://khmer-chess-board/./src/GraveyardManager.js","webpack://khmer-chess-board/./src/KhmerChessBoard.js","webpack://khmer-chess-board/./src/MessageManager.js","webpack://khmer-chess-board/./src/MoveData.js","webpack://khmer-chess-board/./src/OptionsManager.js","webpack://khmer-chess-board/./src/PieceShadowManager.js","webpack://khmer-chess-board/./src/PlayManager.js","webpack://khmer-chess-board/./src/SoundManager.js","webpack://khmer-chess-board/./src/event/BoardManagerEventController.js","webpack://khmer-chess-board/./src/event/BoardStatusEvent.js","webpack://khmer-chess-board/./src/event/BoardStatusEventController.js","webpack://khmer-chess-board/./src/event/PlayManagerEventController.js","webpack://khmer-chess-board/./src/helpers/addCss.js","webpack://khmer-chess-board/./src/helpers/addCssNote.js","webpack://khmer-chess-board/./src/helpers/appendCss.js","webpack://khmer-chess-board/./src/helpers/drawBoardAndGraveyard.js","webpack://khmer-chess-board/./src/helpers/uniqueIdHelper.js","webpack://khmer-chess-board/./src/index.js","webpack://khmer-chess-board/./src/index.umd.js","webpack://khmer-chess-board/./src/providers/audio.js","webpack://khmer-chess-board/./src/providers/constance.js","webpack://khmer-chess-board/./src/providers/svg.js","webpack://khmer-chess-board/./public/assets/Capture.mp3","webpack://khmer-chess-board/./public/assets/Check.mp3","webpack://khmer-chess-board/./public/assets/Move.mp3","webpack://khmer-chess-board/../node_modules/k4us-share/dist/index.js","webpack://khmer-chess-board/../node_modules/k4us-share/dist/khmerChessPieces.js","webpack://khmer-chess-board/../node_modules/khmer-chess/dist/src/KhmerChess.js","webpack://khmer-chess-board/../node_modules/khmer-chess/dist/src/brain/HVPont.js","webpack://khmer-chess-board/../node_modules/khmer-chess/dist/src/brain/MoveHelper.js","webpack://khmer-chess-board/../node_modules/khmer-chess/dist/src/brain/Rectangle.js","webpack://khmer-chess-board/../node_modules/khmer-chess/dist/src/brain/boardHelper.js","webpack://khmer-chess-board/../node_modules/khmer-chess/dist/src/brain/constant.js","webpack://khmer-chess-board/../node_modules/khmer-chess/dist/src/brain/genMask.js","webpack://khmer-chess-board/../node_modules/khmer-chess/dist/src/brain/index.js","webpack://khmer-chess-board/../node_modules/khmer-chess/dist/src/index.js","webpack://khmer-chess-board/../node_modules/khmer-chess/dist/src/kpgn/Captured.js","webpack://khmer-chess-board/../node_modules/khmer-chess/dist/src/kpgn/KPGN.js","webpack://khmer-chess-board/../node_modules/khmer-chess/dist/src/kpgn/Move.js","webpack://khmer-chess-board/../node_modules/khmer-chess/dist/src/kpgn/Player.js","webpack://khmer-chess-board/../node_modules/khmer-chess/dist/src/kpgn/Result.js","webpack://khmer-chess-board/../node_modules/khmer-chess/dist/src/kpgn/Timer.js","webpack://khmer-chess-board/../node_modules/khmer-chess/dist/src/kpgn/index.js","webpack://khmer-chess-board/../node_modules/khmer-chess/dist/src/other/EventHandler.js","webpack://khmer-chess-board/../node_modules/khmer-chess/dist/src/other/base64Helper.js","webpack://khmer-chess-board/../node_modules/khmer-chess/dist/src/other/index.js","webpack://khmer-chess-board/../node_modules/khmer-chess/dist/src/other/table.js","webpack://khmer-chess-board/../node_modules/khmer-chess/dist/src/ren/Board.js","webpack://khmer-chess-board/../node_modules/khmer-chess/dist/src/ren/CountUp.js","webpack://khmer-chess-board/../node_modules/khmer-chess/dist/src/ren/Graveyard.js","webpack://khmer-chess-board/../node_modules/khmer-chess/dist/src/ren/KAttacked.js","webpack://khmer-chess-board/../node_modules/khmer-chess/dist/src/ren/KqJumped.js","webpack://khmer-chess-board/../node_modules/khmer-chess/dist/src/ren/Piece.js","webpack://khmer-chess-board/../node_modules/khmer-chess/dist/src/ren/PieceIndex.js","webpack://khmer-chess-board/../node_modules/khmer-chess/dist/src/ren/Point.js","webpack://khmer-chess-board/../node_modules/khmer-chess/dist/src/ren/REN.js","webpack://khmer-chess-board/../node_modules/khmer-chess/dist/src/ren/constant.js","webpack://khmer-chess-board/../node_modules/khmer-chess/dist/src/ren/index.js","webpack://khmer-chess-board/../node_modules/k4us-share/font/svg-optimized/$B_KhmerChess.svg","webpack://khmer-chess-board/../node_modules/k4us-share/font/svg-optimized/$F_KhmerChess.svg","webpack://khmer-chess-board/../node_modules/k4us-share/font/svg-optimized/$G_KhmerChess.svg","webpack://khmer-chess-board/../node_modules/k4us-share/font/svg-optimized/$H_KhmerChess.svg","webpack://khmer-chess-board/../node_modules/k4us-share/font/svg-optimized/$K_KhmerChess.svg","webpack://khmer-chess-board/../node_modules/k4us-share/font/svg-optimized/$Q_KhmerChess.svg","webpack://khmer-chess-board/../node_modules/k4us-share/font/svg-optimized/$T_KhmerChess.svg","webpack://khmer-chess-board/../node_modules/svgson/dist/svgson.umd.js","webpack://khmer-chess-board/webpack/bootstrap","webpack://khmer-chess-board/webpack/runtime/define property getters","webpack://khmer-chess-board/webpack/runtime/global","webpack://khmer-chess-board/webpack/runtime/hasOwnProperty shorthand","webpack://khmer-chess-board/webpack/runtime/publicPath","webpack://khmer-chess-board/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(self, function() {\nreturn ","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar constance_1 = require(\"./providers/constance\");\r\nvar CellManager_1 = __importDefault(require(\"./CellManager\"));\r\nvar khmer_chess_1 = require(\"khmer-chess\");\r\nvar BoardManagerEventController_1 = __importDefault(require(\"./event/BoardManagerEventController\"));\r\nvar BoardStatusEventController_1 = __importDefault(require(\"./event/BoardStatusEventController\"));\r\nvar BoardManager = /** @class */ (function () {\r\n    function BoardManager(khmerChessBoard) {\r\n        var _this = this;\r\n        this._cells = Array.from({ length: khmer_chess_1.CELL_COUNT }, function (_, i) {\r\n            var dom = document.createElement('div');\r\n            return new CellManager_1.default(_this.khmerChessBoard, khmer_chess_1.Point.fromIndex(i), dom, null);\r\n        });\r\n        this.isUpsideDown = false;\r\n        this.khmerChessBoard = khmerChessBoard;\r\n        this.boardStatusEventController = new BoardStatusEventController_1.default();\r\n        this.boardEventController = new BoardManagerEventController_1.default();\r\n    }\r\n    BoardManager.prototype.destroy = function () {\r\n        this._cells.forEach(function (cell) {\r\n            cell.destroy();\r\n        });\r\n        this._cells = [];\r\n        this.boardEventController = null;\r\n        this.boardStatusEventController = null;\r\n        this.khmerChessBoard = null;\r\n    };\r\n    BoardManager.prototype.selectCell = function (cell) {\r\n        this.boardEventController.click(cell);\r\n        var selectedList = this.selectedCells;\r\n        var selectedCell = selectedList[0];\r\n        if (selectedCell) {\r\n            if (cell === selectedCell) {\r\n                cell.select(false);\r\n                return this.boardEventController.deselected(selectedCell);\r\n            }\r\n            else {\r\n                if (cell.isCanMove) {\r\n                    return this.boardEventController.attemptMove(selectedCell, cell);\r\n                }\r\n            }\r\n        }\r\n        if (cell.isCanSelect) {\r\n            if (selectedCell) {\r\n                selectedCell.select(false);\r\n                this.boardEventController.deselected(selectedCell);\r\n            }\r\n            cell.select(true);\r\n            return this.boardEventController.selected(cell);\r\n        }\r\n    };\r\n    BoardManager.prototype.attachClickEvent = function () {\r\n        var _this = this;\r\n        this._cells.forEach(function (cell) {\r\n            return cell.setOnClick(_this.selectCell.bind(_this, cell));\r\n        });\r\n    };\r\n    BoardManager.prototype.detachClickEvent = function () {\r\n        this._cells.forEach(function (cell) {\r\n            return cell.removeOnClick();\r\n        });\r\n    };\r\n    BoardManager.prototype.set = function (i, cell) {\r\n        this._cells[i] = cell;\r\n    };\r\n    BoardManager.prototype.get = function (index) {\r\n        return this._cells[index];\r\n    };\r\n    BoardManager.prototype.getKing = function (color) {\r\n        var pieceIndex = this.khmerChessBoard.khmerChess.kpgn.ren.board.getKing(color);\r\n        if (!pieceIndex) {\r\n            return null;\r\n        }\r\n        return this.get(pieceIndex.point.index);\r\n    };\r\n    BoardManager.prototype.getByIndexCode = function (indexCode) {\r\n        var index = khmer_chess_1.Point.indexCodeToIndex(indexCode);\r\n        return this.get(index);\r\n    };\r\n    BoardManager.prototype.getByXY = function (x, y) {\r\n        var index = khmer_chess_1.Point.xyToIndex(x, y);\r\n        return this.get(index);\r\n    };\r\n    BoardManager.prototype.flip = function () {\r\n        this.isUpsideDown = !this.isUpsideDown;\r\n        this._applyFlip();\r\n    };\r\n    BoardManager.prototype._applyFlip = function () {\r\n        var _this = this;\r\n        // backup\r\n        var backupPiecesList = this._cells.map(function (cell) {\r\n            return cell.clone();\r\n        });\r\n        var backupSelectedList = this.selectedCells.map(function (cell) {\r\n            return cell.clone();\r\n        });\r\n        // clear\r\n        this.clearSelectedCells();\r\n        this.removePiecesFromCells();\r\n        // flip\r\n        this.applyFlippingFlag();\r\n        // restore\r\n        backupPiecesList.forEach(function (clonedCell) {\r\n            var cell = _this.getByXY(clonedCell.point.x, clonedCell.point.y);\r\n            cell.setPiece(clonedCell.piece);\r\n        });\r\n        backupSelectedList.forEach(function (clonedCell) {\r\n            var cell = _this.getByXY(clonedCell.point.x, clonedCell.point.y);\r\n            cell.select(true);\r\n        });\r\n    };\r\n    Object.defineProperty(BoardManager.prototype, \"pieceCells\", {\r\n        get: function () {\r\n            return this._cells.filter(function (cell) {\r\n                return cell.piece;\r\n            });\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(BoardManager.prototype, \"pieceInTurnCells\", {\r\n        get: function () {\r\n            var turn = this.khmerChessBoard.khmerChess.turn;\r\n            return this._cells.filter(function (cell) {\r\n                return cell.piece && cell.piece.color === turn;\r\n            });\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(BoardManager.prototype, \"pieceNotInTurnCells\", {\r\n        get: function () {\r\n            var turn = this.khmerChessBoard.khmerChess.turn;\r\n            return this._cells.filter(function (cell) {\r\n                return cell.piece && cell.piece.color !== turn;\r\n            });\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(BoardManager.prototype, \"selectedCells\", {\r\n        get: function () {\r\n            return this._cells.filter(function (cell) {\r\n                return cell.isSelected;\r\n            });\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(BoardManager.prototype, \"canMoveCells\", {\r\n        get: function () {\r\n            return this._cells.filter(function (cell) {\r\n                return cell.isCanMove;\r\n            });\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(BoardManager.prototype, \"movedCells\", {\r\n        get: function () {\r\n            return this._cells.filter(function (cell) {\r\n                return cell.isMoved;\r\n            });\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(BoardManager.prototype, \"attackedCells\", {\r\n        get: function () {\r\n            return this._cells.filter(function (cell) {\r\n                return cell.isAttacked;\r\n            });\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(BoardManager.prototype, \"turnCells\", {\r\n        get: function () {\r\n            return this._cells.filter(function (cell) {\r\n                return cell.isTurning;\r\n            });\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(BoardManager.prototype, \"piecesInBoard\", {\r\n        get: function () {\r\n            return this._cells.map(function (cell) {\r\n                return cell.piece;\r\n            });\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(BoardManager.prototype, \"isTurning\", {\r\n        get: function () {\r\n            return !!this._cells.find(function (cell) {\r\n                return cell.isTurning;\r\n            });\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    BoardManager.prototype.toString = function () {\r\n        var pieceIndices = this.piecesInBoard.map(function (piece, i) {\r\n            return new khmer_chess_1.PieceIndex(khmer_chess_1.Point.fromIndex(i), piece);\r\n        });\r\n        var str = this.khmerChessBoard.khmerChess.kpgn.ren.board.toString(pieceIndices);\r\n        return str;\r\n    };\r\n    BoardManager.prototype.clearSelectedCells = function () {\r\n        var _this = this;\r\n        this.selectedCells.forEach(function (cell) {\r\n            cell.select(false);\r\n            _this.boardEventController.deselected(cell);\r\n        });\r\n    };\r\n    BoardManager.prototype.clearCanMoveCells = function () {\r\n        this.canMoveCells.forEach(function (cell) {\r\n            cell.clearCanMoved();\r\n        });\r\n    };\r\n    BoardManager.prototype.highlightMovedCells = function (fromCell, toCell) {\r\n        fromCell.moved();\r\n        toCell.moved();\r\n    };\r\n    BoardManager.prototype.clearMovedCells = function () {\r\n        this.movedCells.forEach(function (cell) {\r\n            cell.clearMoved();\r\n        });\r\n    };\r\n    BoardManager.prototype.clearAttackCells = function () {\r\n        this.attackedCells.forEach(function (cell) {\r\n            cell.attack(false);\r\n        });\r\n    };\r\n    BoardManager.prototype.enableTurnCells = function () {\r\n        this.pieceInTurnCells.forEach(function (cell) {\r\n            cell.turn(true);\r\n        });\r\n    };\r\n    BoardManager.prototype.clearTurnCells = function () {\r\n        this.turnCells.forEach(function (cell) {\r\n            cell.turn(false);\r\n        });\r\n    };\r\n    BoardManager.prototype.removePiecesFromCells = function () {\r\n        this._cells.forEach(function (cell) {\r\n            cell.removePiece();\r\n        });\r\n    };\r\n    BoardManager.prototype.applyFlippingFlag = function () {\r\n        var _this = this;\r\n        this._cells.forEach(function (cell) {\r\n            cell.setFlipped(_this.isUpsideDown);\r\n        });\r\n    };\r\n    BoardManager.prototype.setCellNote = function () {\r\n        for (var i = 0; i < khmer_chess_1.ROW_NUMBER; i++) {\r\n            var cell = this.getByXY(i, 0);\r\n            cell.addClassName(constance_1.BOARD_NOTE_H_PREFIX_CLASS + \"-\" + (i + 1));\r\n            if (this.khmerChessBoard.options.isEnglish) {\r\n                cell.addClassName(this.khmerChessBoard.options.enClass);\r\n            }\r\n        }\r\n        for (var j = 0; j < khmer_chess_1.ROW_NUMBER; j++) {\r\n            var cell = this.getByXY(0, j);\r\n            cell.addClassName(constance_1.BOARD_NOTE_V_PREFIX_CLASS + \"-\" + (j + 1));\r\n            if (this.khmerChessBoard.options.isEnglish) {\r\n                cell.addClassName(this.khmerChessBoard.options.enClass);\r\n            }\r\n        }\r\n    };\r\n    BoardManager.prototype.clearCellNote = function () {\r\n        for (var i = 0; i < khmer_chess_1.ROW_NUMBER; i++) {\r\n            var cell = this.getByXY(i, 0);\r\n            cell.removeClassName(constance_1.BOARD_NOTE_H_PREFIX_CLASS + \"-\" + (i + 1));\r\n            cell.removeClassName(this.khmerChessBoard.options.enClass);\r\n        }\r\n        for (var j = 0; j < khmer_chess_1.ROW_NUMBER; j++) {\r\n            var cell = this.getByXY(0, j);\r\n            cell.removeClassName(constance_1.BOARD_NOTE_V_PREFIX_CLASS + \"-\" + (j + 1));\r\n            cell.removeClassName(this.khmerChessBoard.options.enClass);\r\n        }\r\n    };\r\n    BoardManager.prototype.renderKhmerChessPieces = function () {\r\n        var _this = this;\r\n        this.removePiecesFromCells();\r\n        this.khmerChessBoard.khmerChess.piecesInBoard.forEach(function (piece, i) {\r\n            var cell = _this.get(i);\r\n            cell.setPiece(piece);\r\n        });\r\n    };\r\n    Object.defineProperty(BoardManager.prototype, \"isP2P\", {\r\n        get: function () {\r\n            return this.khmerChessBoard.domRootBoard.classList.contains(constance_1.CSS_P2P);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    BoardManager.prototype.setP2P = function (b) {\r\n        this.khmerChessBoard.domRootBoard.classList.remove(constance_1.CSS_P2P);\r\n        if (b) {\r\n            this.khmerChessBoard.domRootBoard.classList.add(constance_1.CSS_P2P);\r\n        }\r\n        this.isUpsideDown = false;\r\n        this._applyFlip();\r\n    };\r\n    BoardManager.prototype.takeTurn = function () {\r\n        this.clearTurnCells();\r\n        this.enableTurnCells();\r\n    };\r\n    BoardManager.prototype.checkBoardEvent = function () {\r\n        this.boardStatusEventController.checkBoardEvent(this.khmerChessBoard);\r\n    };\r\n    BoardManager.prototype.getBoardStatusEvents = function () {\r\n        return this.boardStatusEventController.getBoardEvents(this.khmerChessBoard);\r\n    };\r\n    BoardManager.prototype.addBoardStatusEventListener = function (listener) {\r\n        this.boardStatusEventController.addBoardStatusEventListener(listener);\r\n        this.checkBoardEvent();\r\n    };\r\n    BoardManager.prototype.removeBoardStatusEventListener = function (listener) {\r\n        this.boardStatusEventController.removeBoardStatusEventListener(listener);\r\n    };\r\n    BoardManager.prototype.forceCount = function () {\r\n        var move = this.khmerChessBoard.playManager.currentMove;\r\n        if (move === null) {\r\n            return false;\r\n        }\r\n        var ren = this.khmerChessBoard.khmerChess.kpgn.ren;\r\n        if (!ren.countUp.isCounting && move.piece.colorOpponent === ren.turn) {\r\n            this.khmerChessBoard.khmerChess.kpgn.ren.checkCountStatus(move, true);\r\n            this.khmerChessBoard.playManager.render();\r\n            if (move.isStartCounting) {\r\n                this.checkBoardEvent();\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    return BoardManager;\r\n}());\r\nexports.default = BoardManager;\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>, K4us Net <k4us.net@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n **/ \r\n//# sourceMappingURL=BoardManager.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar khmer_chess_1 = require(\"khmer-chess\");\r\nvar constance_1 = require(\"./providers/constance\");\r\nvar CellManager = /** @class */ (function () {\r\n    function CellManager(khmerChessBoard, point, container, piece, isGraveyard) {\r\n        if (isGraveyard === void 0) { isGraveyard = false; }\r\n        this.piece = null;\r\n        this.containerDom = document.createElement('td');\r\n        this.isGraveyard = false;\r\n        this.isUpsideDown = false;\r\n        this.khmerChessBoard = khmerChessBoard;\r\n        this.point = point;\r\n        this.setPiece(piece);\r\n        this.containerDom = container;\r\n        this.isGraveyard = isGraveyard;\r\n    }\r\n    CellManager.prototype.destroy = function () {\r\n        this.setPiece(null);\r\n        this.containerDom = null;\r\n        this.point = null;\r\n        this.khmerChessBoard = null;\r\n    };\r\n    CellManager.prototype.removePieceClasses = function () {\r\n        var _this = this;\r\n        this.removeClassName(constance_1.PIECE_CLASS_NAME);\r\n        khmer_chess_1.Piece.colorChars.forEach(function (color) {\r\n            _this.removeClassName(\"color-\" + color);\r\n        });\r\n        khmer_chess_1.Piece.pieceChars.forEach(function (type) {\r\n            _this.removeClassName(\"type-\" + type);\r\n        });\r\n    };\r\n    CellManager.prototype.removePiece = function () {\r\n        this.removePieceClasses();\r\n        this.piece = null;\r\n    };\r\n    CellManager.prototype.setPiece = function (piece) {\r\n        this.removePiece();\r\n        this.piece = piece;\r\n        if (this.piece) {\r\n            this.addClassName(\"type-\" + this.piece.type);\r\n            this.addClassName(\"color-\" + this.piece.color);\r\n            this.addClassName(constance_1.PIECE_CLASS_NAME);\r\n        }\r\n    };\r\n    CellManager.prototype.addClassName = function (className) {\r\n        this.containerDom.classList.add(className);\r\n    };\r\n    CellManager.prototype.removeClassName = function (className) {\r\n        this.containerDom.classList.remove(className);\r\n    };\r\n    CellManager.prototype.hasClassName = function (className) {\r\n        return this.containerDom.classList.contains(className);\r\n    };\r\n    CellManager.prototype.select = function (selected) {\r\n        this.removeClassName(constance_1.SELECTED_CLASS_NAME);\r\n        if (selected && this.piece) {\r\n            this.addClassName(constance_1.SELECTED_CLASS_NAME);\r\n        }\r\n    };\r\n    Object.defineProperty(CellManager.prototype, \"canMovePoints\", {\r\n        get: function () {\r\n            var points = this.khmerChessBoard.khmerChess.getCanMovePointsByPoint(this.point);\r\n            return points;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CellManager.prototype, \"isSelected\", {\r\n        get: function () {\r\n            return this.hasClassName(constance_1.SELECTED_CLASS_NAME);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CellManager.prototype, \"isCanMove\", {\r\n        get: function () {\r\n            return this.hasClassName(constance_1.CAN_MOVE_CLASS_NAME);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CellManager.prototype, \"isMoved\", {\r\n        get: function () {\r\n            return this.hasClassName(constance_1.MOVED_CLASS_NAME);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CellManager.prototype, \"isCanSelect\", {\r\n        get: function () {\r\n            return this.hasClassName(constance_1.TURN_CLASS_NAME);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    CellManager.prototype.attack = function (attacked) {\r\n        this.removeClassName(constance_1.ATTACKED_CLASS_NAME);\r\n        if (attacked) {\r\n            this.addClassName(constance_1.ATTACKED_CLASS_NAME);\r\n        }\r\n    };\r\n    CellManager.prototype.turn = function (attacked) {\r\n        this.removeClassName(constance_1.TURN_CLASS_NAME);\r\n        if (attacked) {\r\n            this.addClassName(constance_1.TURN_CLASS_NAME);\r\n        }\r\n    };\r\n    Object.defineProperty(CellManager.prototype, \"isAttacked\", {\r\n        get: function () {\r\n            return this.hasClassName(constance_1.ATTACKED_CLASS_NAME);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CellManager.prototype, \"isTurning\", {\r\n        get: function () {\r\n            return this.hasClassName(constance_1.TURN_CLASS_NAME);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CellManager.prototype, \"onClick\", {\r\n        get: function () {\r\n            return this.containerDom.onclick;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    CellManager.prototype.setOnClick = function (listener) {\r\n        this.containerDom.onclick = listener;\r\n    };\r\n    CellManager.prototype.removeOnClick = function () {\r\n        this.containerDom.onclick = null;\r\n    };\r\n    CellManager.prototype.setFlipped = function (isUpsideDown) {\r\n        this.removeClassName(constance_1.FLIPPED_CLASS);\r\n        if (this.isUpsideDown !== isUpsideDown) {\r\n            var xy = khmer_chess_1.Point.indexToXY(khmer_chess_1.CELL_COUNT - 1 - this.point.index);\r\n            this.point.x = xy.x;\r\n            this.point.y = xy.y;\r\n        }\r\n        this.isUpsideDown = isUpsideDown;\r\n        if (isUpsideDown) {\r\n            this.addClassName(constance_1.FLIPPED_CLASS);\r\n        }\r\n    };\r\n    CellManager.prototype.clone = function () {\r\n        var div = document.createElement('div');\r\n        return new CellManager(this.khmerChessBoard, new khmer_chess_1.Point(this.point.x, this.point.y), div, this.piece);\r\n    };\r\n    CellManager.prototype.scrollIntoView = function (quick) {\r\n        if (quick) {\r\n            this.containerDom.scrollIntoView();\r\n            return;\r\n        }\r\n        this.containerDom.scrollIntoView({\r\n            behavior: 'smooth',\r\n            block: 'end',\r\n            inline: 'nearest',\r\n        });\r\n    };\r\n    CellManager.prototype.movePieceTo = function (toCell) {\r\n        var piece = this.piece;\r\n        this.removePiece();\r\n        toCell.setPiece(piece);\r\n    };\r\n    CellManager.prototype.movePieceToGraveyard = function (toGYCell) {\r\n        var deadPiece = this.piece;\r\n        this.removePiece();\r\n        toGYCell.setPiece(deadPiece);\r\n        toGYCell.scrollIntoView();\r\n    };\r\n    CellManager.prototype.movePieceFromGraveyard = function (toCell) {\r\n        this.scrollIntoView();\r\n        var raisePiece = this.piece;\r\n        this.removePiece();\r\n        toCell.setPiece(raisePiece);\r\n    };\r\n    CellManager.prototype.moved = function () {\r\n        this.addClassName(constance_1.MOVED_CLASS_NAME);\r\n    };\r\n    CellManager.prototype.clearMoved = function () {\r\n        this.removeClassName(constance_1.MOVED_CLASS_NAME);\r\n    };\r\n    CellManager.prototype.setCanMove = function () {\r\n        this.addClassName(constance_1.CAN_MOVE_CLASS_NAME);\r\n    };\r\n    CellManager.prototype.clearCanMoved = function () {\r\n        this.removeClassName(constance_1.CAN_MOVE_CLASS_NAME);\r\n    };\r\n    CellManager.prototype.upgrade = function () {\r\n        if (this.piece && this.piece.upgrade()) {\r\n            this.setPiece(this.piece);\r\n        }\r\n    };\r\n    CellManager.prototype.downgrade = function () {\r\n        if (this.piece && this.piece.downgrade()) {\r\n            this.setPiece(this.piece);\r\n        }\r\n    };\r\n    return CellManager;\r\n}());\r\nexports.default = CellManager;\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>, K4us Net <k4us.net@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n **/ \r\n//# sourceMappingURL=CellManager.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar constance_1 = require(\"./providers/constance\");\r\nvar GraveyardManager = /** @class */ (function () {\r\n    function GraveyardManager(khmerChessBoard) {\r\n        this._cells = [];\r\n        this.khmerChessBoard = khmerChessBoard;\r\n        this.domGraveyard = document.createElement('div');\r\n    }\r\n    GraveyardManager.prototype.destroy = function () {\r\n        this._cells.forEach(function (cell) {\r\n            cell.destroy();\r\n        });\r\n        this._cells = [];\r\n        this.khmerChessBoard = null;\r\n        this.domGraveyard = null;\r\n    };\r\n    GraveyardManager.prototype.setDom = function (domGraveyard) {\r\n        this.domGraveyard = domGraveyard;\r\n    };\r\n    GraveyardManager.prototype.push = function (cell) {\r\n        this._cells.push(cell);\r\n    };\r\n    GraveyardManager.prototype.get = function (index) {\r\n        return this._cells[index];\r\n    };\r\n    Object.defineProperty(GraveyardManager.prototype, \"latestPieceCell\", {\r\n        get: function () {\r\n            for (var i = this._cells.length - 1; i >= 0; i--) {\r\n                if (this._cells[i].piece !== null) {\r\n                    return this._cells[i];\r\n                }\r\n            }\r\n            return null;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(GraveyardManager.prototype, \"firstEmptyCell\", {\r\n        get: function () {\r\n            var latestPieceCell = this.latestPieceCell;\r\n            if (latestPieceCell === null) {\r\n                return this._cells[0];\r\n            }\r\n            return this._cells[latestPieceCell.point.index + 1] || null;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    GraveyardManager.prototype.setCellNote = function () {\r\n        for (var i = 0; i < constance_1.TD_GRAVEYARD_NUMBER; i++) {\r\n            var cell = this.get(i);\r\n            cell.addClassName(constance_1.GRAVEYARD_NOTE_PREFIX_CLASS + \"-\" + (i + 1));\r\n            if (this.khmerChessBoard.options.isEnglish) {\r\n                cell.addClassName(this.khmerChessBoard.options.enClass);\r\n            }\r\n        }\r\n    };\r\n    GraveyardManager.prototype.clearCellNote = function () {\r\n        for (var i = 0; i < constance_1.TD_GRAVEYARD_NUMBER; i++) {\r\n            var cell = this.get(i);\r\n            cell.removeClassName(constance_1.GRAVEYARD_NOTE_PREFIX_CLASS + \"-\" + (i + 1));\r\n            cell.removeClassName(this.khmerChessBoard.options.enClass);\r\n        }\r\n    };\r\n    GraveyardManager.prototype.removePiecesFromCells = function () {\r\n        for (var i = 0; i < constance_1.TD_GRAVEYARD_NUMBER; i++) {\r\n            var cell = this.get(i);\r\n            cell.removePiece();\r\n        }\r\n    };\r\n    GraveyardManager.prototype.applyPiecesFromKhmerChess = function () {\r\n        var _this = this;\r\n        var _a;\r\n        this.khmerChessBoard.khmerChess.piecesInGraveyard.forEach(function (piece, i) {\r\n            var cell = _this.get(i);\r\n            cell.setPiece(piece);\r\n        });\r\n        (_a = this.latestPieceCell) === null || _a === void 0 ? void 0 : _a.scrollIntoView(true);\r\n    };\r\n    GraveyardManager.prototype.renderKhmerChessPieces = function () {\r\n        this.removePiecesFromCells();\r\n        this.applyPiecesFromKhmerChess();\r\n    };\r\n    return GraveyardManager;\r\n}());\r\nexports.default = GraveyardManager;\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>, K4us Net <k4us.net@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n **/ \r\n//# sourceMappingURL=GraveyardManager.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// FIXME: chrome horizontal scroll not work\r\nvar package_json_1 = __importDefault(require(\"../package.json\"));\r\nvar GraveyardManager_1 = __importDefault(require(\"./GraveyardManager\"));\r\nvar SoundManager_1 = __importDefault(require(\"./SoundManager\"));\r\nvar BoardManager_1 = __importDefault(require(\"./BoardManager\"));\r\nvar constance_1 = require(\"./providers/constance\");\r\nvar addCss_1 = __importDefault(require(\"./helpers/addCss\"));\r\nvar addCssNote_1 = __importDefault(require(\"./helpers/addCssNote\"));\r\nvar drawBoardAndGraveyard_1 = __importDefault(require(\"./helpers/drawBoardAndGraveyard\"));\r\nvar OptionsManager_1 = __importDefault(require(\"./OptionsManager\"));\r\nvar khmer_chess_1 = require(\"khmer-chess\");\r\nvar MessageManager_1 = __importDefault(require(\"./MessageManager\"));\r\nvar PlayManager_1 = __importDefault(require(\"./PlayManager\"));\r\nvar PieceShadowManager_1 = __importDefault(require(\"./PieceShadowManager\"));\r\nvar BoardStatusEvent_1 = require(\"./event/BoardStatusEvent\");\r\nvar KhmerChessBoard = /** @class */ (function () {\r\n    function KhmerChessBoard() {\r\n        this.containerDom = document.createElement('div');\r\n        this.domRootBoard = document.createElement('table');\r\n        this.khmerChess = new khmer_chess_1.KhmerChess();\r\n        this.options = new OptionsManager_1.default();\r\n        this.playManager = new PlayManager_1.default(this);\r\n        this.graveyardManager = new GraveyardManager_1.default(this);\r\n        this.boardManager = new BoardManager_1.default(this);\r\n        this.soundManager = new SoundManager_1.default(this);\r\n        this.messageManager = new MessageManager_1.default(this);\r\n        this.pieceShadowManager = new PieceShadowManager_1.default(this);\r\n    }\r\n    KhmerChessBoard.prototype.setOptions = function (options) {\r\n        var _this = this;\r\n        if (!options.container) {\r\n            throw new Error('Container is required!');\r\n        }\r\n        this.containerDom = options.container;\r\n        if (options.width < this.options.minWidth) {\r\n            throw new Error(\"Board width must more than \" + this.options.minWidth + \" \");\r\n        }\r\n        if (options.width) {\r\n            this.options.width = options.width;\r\n        }\r\n        if (options.width) {\r\n            this.options.width = options.width;\r\n        }\r\n        this.render();\r\n        this.boardManager.attachClickEvent();\r\n        var boardEventController = this.boardManager.boardEventController;\r\n        boardEventController.addOnCellSelectedEventListener(function (cell) {\r\n            var points = cell.canMovePoints;\r\n            points.forEach(function (point) {\r\n                var targetCell = _this.boardManager.get(point.index);\r\n                targetCell.setCanMove();\r\n            });\r\n        });\r\n        boardEventController.addOnCellDeselectedEventListener(function (cell) {\r\n            _this.boardManager.clearCanMoveCells();\r\n        });\r\n        boardEventController.addOnAttemptMoveEventListener(function (_a) {\r\n            var fromCell = _a.fromCell, toCell = _a.toCell;\r\n            _this.move(fromCell.point.index, toCell.point.index);\r\n        });\r\n    };\r\n    KhmerChessBoard.prototype.move = function (fromIndex, toIndex) {\r\n        var _this = this;\r\n        var move = this.khmerChess.move(fromIndex, toIndex);\r\n        if (move !== null) {\r\n            this.boardManager.clearTurnCells();\r\n            this.playManager.next(function () {\r\n                _this.playManager.turning();\r\n            });\r\n            var boardEvent = new BoardStatusEvent_1.BoardStatusEvent({\r\n                khmerChessBoard: this,\r\n                flag: khmer_chess_1.EVENT_FLAG_MOVING,\r\n                move: move,\r\n            });\r\n            this.boardManager.boardStatusEventController.fireEvent(boardEvent);\r\n        }\r\n    };\r\n    KhmerChessBoard.prototype.setFullScreen = function (isFullScreen) {\r\n        this.options.isFullScreen = isFullScreen;\r\n        var table = this.domRootBoard;\r\n        table.classList.remove(constance_1.POPUP_CLASS_NAME);\r\n        table.style.top = '0';\r\n        table.style.left = '0';\r\n        table.style.transform = '';\r\n        table.style.zIndex = '';\r\n        if (isFullScreen) {\r\n            table.classList.add(constance_1.POPUP_CLASS_NAME);\r\n            table.style.top = '50%';\r\n            table.style.left = '50%';\r\n            var scaleFit = this.options.getScaleFit(table.getBoundingClientRect());\r\n            table.style.transform = \"translate(-50%,-50%) scale(\" + scaleFit + \")\";\r\n            table.style.zIndex = '9999';\r\n        }\r\n    };\r\n    KhmerChessBoard.prototype.render = function () {\r\n        this.addAllDomCss();\r\n        var _a = (0, drawBoardAndGraveyard_1.default)({\r\n            uniqueClassName: this.options.uniqueClassName,\r\n            options: this.options,\r\n            container: this.containerDom,\r\n            boardManager: this.boardManager,\r\n            graveyardManager: this.graveyardManager,\r\n        }), domRootBoard = _a.domRootBoard, domGraveyard = _a.domGraveyard, playerContainer = _a.playerContainer, tdShadow = _a.tdShadow;\r\n        this.domRootBoard = domRootBoard;\r\n        this.graveyardManager.setDom(domGraveyard);\r\n        this.pieceShadowManager.setTdShadow(tdShadow);\r\n        this.setCellNote();\r\n        this.applyPieces();\r\n        this.messageManager.draw();\r\n        this.playManager.draw(playerContainer);\r\n    };\r\n    KhmerChessBoard.prototype.setLocale = function (locale) {\r\n        var locales = [KhmerChessBoard.LOCALE_ENGLISH, KhmerChessBoard.LOCALE_KHMER];\r\n        if (!~locales.indexOf(locale)) {\r\n            throw new Error(\"Unsupported locale: \" + locale + \", supported locales: \" + locales.join(','));\r\n        }\r\n        else {\r\n            this.options.isEnglish = locale === locales[0];\r\n            this.setCellNote();\r\n        }\r\n    };\r\n    KhmerChessBoard.prototype.setCellNote = function () {\r\n        this.boardManager.clearCellNote();\r\n        this.graveyardManager.clearCellNote();\r\n        this.boardManager.setCellNote();\r\n        this.graveyardManager.setCellNote();\r\n    };\r\n    KhmerChessBoard.prototype.addAllDomCss = function () {\r\n        (0, addCss_1.default)({\r\n            uniqueClassName: this.options.uniqueClassName,\r\n            options: this.options,\r\n        });\r\n        (0, addCssNote_1.default)({\r\n            uniqueClassName: this.options.uniqueClassName,\r\n            options: this.options,\r\n        });\r\n        (0, addCssNote_1.default)({\r\n            uniqueClassName: this.options.uniqueClassName,\r\n            options: this.options,\r\n            isEnglish: true,\r\n        });\r\n    };\r\n    KhmerChessBoard.prototype.loadKpng = function (kpng) {\r\n        if (typeof kpng === 'string') {\r\n            this.khmerChess.kpgn.fromBase64(kpng);\r\n        }\r\n        else {\r\n            this.khmerChess.kpgn.fromJson(kpng);\r\n        }\r\n        this.applyPieces();\r\n        this.playManager.resetCurrentIndex();\r\n        this.playManager.highlightCurrentMove();\r\n        this.boardManager.checkBoardEvent();\r\n    };\r\n    KhmerChessBoard.prototype.reset = function () {\r\n        this.playManager.pause();\r\n        this.loadKpng({});\r\n        this.boardManager.attachClickEvent();\r\n    };\r\n    KhmerChessBoard.prototype.loadRen = function (renStr) {\r\n        this.khmerChess.kpgn.loadRENStr(renStr);\r\n        this.applyPieces();\r\n    };\r\n    KhmerChessBoard.prototype.applyPieces = function () {\r\n        this.graveyardManager.renderKhmerChessPieces();\r\n        this.boardManager.renderKhmerChessPieces();\r\n    };\r\n    KhmerChessBoard.prototype.removeAllDomElements = function () {\r\n        var elements = document.querySelectorAll(\"table.\" + this.options.uniqueClassName + \" \");\r\n        elements.forEach(function (element) {\r\n            var _a;\r\n            (_a = element.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(element);\r\n        });\r\n        this.removeAllDomCss();\r\n    };\r\n    KhmerChessBoard.prototype.removeAllDomCss = function () {\r\n        var elements = document.querySelectorAll(\"style.\" + this.options.uniqueClassName + \" \");\r\n        elements.forEach(function (element) {\r\n            var _a;\r\n            (_a = element.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(element);\r\n        });\r\n    };\r\n    KhmerChessBoard.prototype.destroy = function () {\r\n        this.removeAllDomElements();\r\n        this.playManager.destroy();\r\n        this.graveyardManager.destroy();\r\n        this.boardManager.destroy();\r\n        this.soundManager.destroy();\r\n        this.messageManager.destroy();\r\n        this.pieceShadowManager.destroy();\r\n        this.khmerChess = null;\r\n        this.options = null;\r\n        this.playManager = null;\r\n        this.graveyardManager = null;\r\n        this.boardManager = null;\r\n        this.soundManager = null;\r\n        this.messageManager = null;\r\n        this.pieceShadowManager = null;\r\n    };\r\n    KhmerChessBoard.LOCALE_ENGLISH = 'en';\r\n    KhmerChessBoard.LOCALE_KHMER = 'km';\r\n    KhmerChessBoard.info = package_json_1.default;\r\n    KhmerChessBoard.title = package_json_1.default.name;\r\n    KhmerChessBoard.version = package_json_1.default.version;\r\n    return KhmerChessBoard;\r\n}());\r\nexports.default = KhmerChessBoard;\r\n/*\r\n  ┏━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┓\r\n8 ┃   ┃   ┃   ┃   ┃ k ┃   ┃   ┃   ┃\r\n  ┣━━━╋━━━╋━━━╋━━━╋━━━╋━━━╋━━━╋━━━┫\r\n7 ┃   ┃   ┃   ┃   ┃   ┃   ┃   ┃   ┃\r\n  ┣━━━╋━━━╋━━━╋━━━╋━━━╋━━━╋━━━╋━━━┫\r\n6 ┃   ┃   ┃   ┃   ┃   ┃   ┃   ┃   ┃\r\n  ┣━━━╋━━━╋━━━╋━━━╋━━━╋━━━╋━━━╋━━━┫\r\n5 ┃   ┃   ┃   ┃   ┃   ┃   ┃   ┃   ┃\r\n  ┣━━━╋━━━╋━━━╋━━━╋━━━╋━━━╋━━━╋━━━┫\r\n4 ┃   ┃   ┃   ┃   ┃   ┃   ┃   ┃   ┃\r\n  ┣━━━╋━━━╋━━━╋━━━╋━━━╋━━━╋━━━╋━━━┫\r\n3 ┃   ┃   ┃   ┃   ┃   ┃   ┃   ┃   ┃\r\n  ┣━━━╋━━━╋━━━╋━━━╋━━━╋━━━╋━━━╋━━━┫\r\n2 ┃   ┃   ┃   ┃   ┃   ┃   ┃   ┃   ┃\r\n  ┣━━━╋━━━╋━━━╋━━━╋━━━╋━━━╋━━━╋━━━┫\r\n1 ┃   ┃   ┃   ┃ K ┃   ┃   ┃   ┃   ┃\r\n  ┗━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┛\r\n    a   b   c   d   e   f   g   h\r\n  ┏━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┓\r\n  ┃ b ┃ h ┃ g ┃ q ┃ g ┃ h ┃ b ┃ f ┃ f ┃ f ┃ f ┃ f ┃ f ┃ f ┃ f ┃ F ┃ F ┃ F ┃ F ┃ F ┃ F ┃ F ┃ F ┃ B ┃ H ┃ G ┃ Q ┃ G ┃ H ┃ B ┃\r\n  ┗━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┛\r\n */\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>, K4us Net <k4us.net@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n **/ \r\n//# sourceMappingURL=KhmerChessBoard.js.map","\"use strict\";\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar appendCss_1 = __importDefault(require(\"./helpers/appendCss\"));\r\nvar MessageManager = /** @class */ (function () {\r\n    function MessageManager(khmerChessBoard) {\r\n        this.containerClassName = 'message-container';\r\n        this.messageClassName = 'message';\r\n        this.logEnabled = true;\r\n        this.khmerChessBoard = khmerChessBoard;\r\n        this.domContainer = document.createElement('div');\r\n        this.domMessage = document.createElement('div');\r\n        (0, appendCss_1.default)(this.khmerChessBoard.options.uniqueClassName, this.css());\r\n    }\r\n    MessageManager.prototype.destroy = function () {\r\n        this.domContainer = null;\r\n        this.domMessage = null;\r\n        this.khmerChessBoard = null;\r\n    };\r\n    MessageManager.prototype.enableLog = function () {\r\n        this.logEnabled = true;\r\n    };\r\n    MessageManager.prototype.disableLog = function () {\r\n        this.logEnabled = false;\r\n    };\r\n    MessageManager.prototype.log = function (message) {\r\n        var optionalParams = [];\r\n        for (var _i = 1; _i < arguments.length; _i++) {\r\n            optionalParams[_i - 1] = arguments[_i];\r\n        }\r\n        if (!this.logEnabled) {\r\n            return;\r\n        }\r\n        console.log.apply(console, __spreadArray([message], optionalParams, false));\r\n    };\r\n    MessageManager.prototype.showMessage = function (message) {\r\n        this.domContainer.style.display = 'block';\r\n        this.domMessage.innerHTML = message;\r\n    };\r\n    MessageManager.prototype.hide = function () {\r\n        this.domContainer.style.display = 'none';\r\n    };\r\n    MessageManager.prototype.draw = function () {\r\n        var container = this.khmerChessBoard.domRootBoard;\r\n        var bc = this.khmerChessBoard.domRootBoard.getBoundingClientRect();\r\n        var div = document.createElement('div');\r\n        this.domContainer = div;\r\n        div.classList.add(this.khmerChessBoard.options.uniqueClassName);\r\n        div.classList.add(this.containerClassName);\r\n        container.appendChild(div);\r\n        div.style.height = bc.height + \"px\";\r\n        div.style.transform = \"translateY(-\" + bc.height + \"px)\";\r\n        var divMessage = document.createElement('div');\r\n        this.domMessage = divMessage;\r\n        divMessage.classList.add(this.messageClassName);\r\n        div.appendChild(divMessage);\r\n        this.hide();\r\n    };\r\n    MessageManager.prototype.css = function () {\r\n        var containerSelector = \".\" + this.khmerChessBoard.options.uniqueClassName + \".\" + this.containerClassName;\r\n        return \"\\n        \" + containerSelector + \" {\\n            width: \" + this.khmerChessBoard.options.width + \"px;\\n            text-align: center;\\n            border: 0px;\\n            padding: 10px;\\n            box-sizing: border-box;\\n            margin: auto;\\n            position: absolute;\\n            background-color: rgba(0, 0, 0, 0.8);\\n            color: white;\\n            font-size: 18px;\\n        }\\n        \" + containerSelector + \" .\" + this.messageClassName + \" {\\n            margin-top: 50%;\\n        }\\n        \";\r\n    };\r\n    return MessageManager;\r\n}());\r\nexports.default = MessageManager;\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>, K4us Net <k4us.net@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n **/ \r\n//# sourceMappingURL=MessageManager.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar khmer_chess_1 = require(\"khmer-chess\");\r\nvar MoveData = /** @class */ (function () {\r\n    function MoveData(_a) {\r\n        var _this = this;\r\n        var index = _a.index, containerDom = _a.containerDom, renData = _a.renData, title = _a.title, str = _a.str, onClick = _a.onClick;\r\n        this.index = index;\r\n        this.renData = renData;\r\n        var span = document.createElement('span');\r\n        span.title = title;\r\n        containerDom.appendChild(span);\r\n        this.dom = span;\r\n        var indexSpan = document.createElement('span');\r\n        indexSpan.innerText = khmer_chess_1.KhmerChess.toKhmerNum(index);\r\n        indexSpan.classList.add('index');\r\n        span.appendChild(indexSpan);\r\n        var infoSpan = document.createElement('span');\r\n        infoSpan.classList.add('info');\r\n        infoSpan.innerText = str;\r\n        span.appendChild(infoSpan);\r\n        infoSpan.onclick = function () {\r\n            if (!_this.isCurrent) {\r\n                onClick();\r\n            }\r\n        };\r\n    }\r\n    Object.defineProperty(MoveData.prototype, \"isCurrent\", {\r\n        get: function () {\r\n            return this.dom.classList.contains('current');\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    MoveData.prototype.current = function (b) {\r\n        this.dom.classList.remove('current');\r\n        if (b) {\r\n            this.dom.classList.add('current');\r\n        }\r\n    };\r\n    MoveData.prototype.destroy = function () {\r\n        var _a;\r\n        if (this.dom !== null) {\r\n            this.dom.onclick = null;\r\n            (_a = this.dom.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(this.dom);\r\n        }\r\n    };\r\n    MoveData.prototype.scrollIntoView = function () {\r\n        this.dom.scrollIntoView();\r\n    };\r\n    return MoveData;\r\n}());\r\nexports.default = MoveData;\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>, K4us Net <k4us.net@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n **/ \r\n//# sourceMappingURL=MoveData.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar constance_1 = require(\"./providers/constance\");\r\nvar uniqueIdHelper_1 = require(\"./helpers/uniqueIdHelper\");\r\nvar khmer_chess_1 = require(\"khmer-chess\");\r\nvar KhmerChessBoard_1 = __importDefault(require(\"./KhmerChessBoard\"));\r\nvar OptionsManager = /** @class */ (function () {\r\n    function OptionsManager() {\r\n        this._width = 500;\r\n        this.isFullScreen = false;\r\n        this.uniqueClassName = '';\r\n        this.isEnglish = false;\r\n        this.uniqueClassName = \"kcb-\" + (0, uniqueIdHelper_1.genId)();\r\n    }\r\n    Object.defineProperty(OptionsManager.prototype, \"width\", {\r\n        get: function () {\r\n            return this._width;\r\n        },\r\n        set: function (width) {\r\n            this._width = width;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(OptionsManager.prototype, \"enClass\", {\r\n        get: function () {\r\n            return KhmerChessBoard_1.default.LOCALE_ENGLISH;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    OptionsManager.prototype.getScaleFit = function (btr) {\r\n        if (this.isFullScreen && btr) {\r\n            var vw = Math.max(document.documentElement.clientWidth || 0, window.innerWidth || 0);\r\n            var vh = Math.max(document.documentElement.clientHeight || 0, window.innerHeight || 0);\r\n            if (vw < vh) {\r\n                return vw / btr.width;\r\n            }\r\n            return vh / btr.height;\r\n        }\r\n        return 1;\r\n    };\r\n    Object.defineProperty(OptionsManager.prototype, \"cellWidth\", {\r\n        get: function () {\r\n            var sqWidth = (this.width - (khmer_chess_1.ROW_NUMBER - 1) * this.borderWidth) / khmer_chess_1.ROW_NUMBER;\r\n            return sqWidth;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(OptionsManager.prototype, \"graveyardContainerHeight\", {\r\n        get: function () {\r\n            var gyCHeight = this.cellWidth + 10 * this.borderWidth;\r\n            return gyCHeight;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(OptionsManager.prototype, \"minWidth\", {\r\n        get: function () {\r\n            return (khmer_chess_1.ROW_NUMBER - 1) * this.borderWidth + khmer_chess_1.ROW_NUMBER * constance_1.MIN_CELL_WIDTH;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(OptionsManager.prototype, \"graveyardWidth\", {\r\n        get: function () {\r\n            return this.borderWidth * (constance_1.TD_GRAVEYARD_NUMBER - 1) + this.cellWidth * constance_1.TD_GRAVEYARD_NUMBER;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(OptionsManager.prototype, \"graveyardContainerPadding\", {\r\n        get: function () {\r\n            return 8 * this.borderWidth * this.width / 600;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(OptionsManager.prototype, \"borderWidth\", {\r\n        get: function () {\r\n            return this.width * constance_1.BORDER_WIDTH / this._width;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return OptionsManager;\r\n}());\r\nexports.default = OptionsManager;\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>, K4us Net <k4us.net@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n **/ \r\n//# sourceMappingURL=OptionsManager.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar PieceShadowManager = /** @class */ (function () {\r\n    function PieceShadowManager(khmerChessBoard) {\r\n        this._quickMove = false;\r\n        this.pending = {\r\n            resolvers: [],\r\n            callbacks: [],\r\n        };\r\n        this.khmerChessBoard = khmerChessBoard;\r\n        this.tdShadowDom = document.createElement('div');\r\n    }\r\n    PieceShadowManager.prototype.destroy = function () {\r\n        this.khmerChessBoard = null;\r\n        this.tdShadowDom = null;\r\n    };\r\n    PieceShadowManager.prototype.quickMove = function (enable) {\r\n        this._quickMove = enable;\r\n        if (enable) {\r\n            this.finishAnimations();\r\n        }\r\n    };\r\n    PieceShadowManager.prototype.setTdShadow = function (tdShadowDown) {\r\n        this.tdShadowDom = tdShadowDown;\r\n    };\r\n    PieceShadowManager.prototype.movingPiece = function (fromCell, toCell, callback) {\r\n        var _this = this;\r\n        if (this._quickMove) {\r\n            fromCell.removePieceClasses();\r\n            callback();\r\n        }\r\n        else {\r\n            var div_1 = document.createElement('div');\r\n            var pice = fromCell.piece;\r\n            if (!pice || !div_1.animate || this.khmerChessBoard.options.isFullScreen) {\r\n                callback();\r\n            }\r\n            else {\r\n                var fromBc = fromCell.containerDom.getBoundingClientRect();\r\n                var toBc = toCell.containerDom.getBoundingClientRect();\r\n                this.tdShadowDom.appendChild(div_1);\r\n                div_1.style.top = \"\" + fromBc.top;\r\n                div_1.style.left = \"\" + fromBc.left;\r\n                div_1.classList.add(\"type-\" + pice.type);\r\n                div_1.classList.add(\"color-\" + pice.color);\r\n                fromCell.removePieceClasses();\r\n                var option = [\r\n                    {\r\n                        transform: 'translate(0px)',\r\n                        opacity: 1,\r\n                    },\r\n                    {\r\n                        transform: \"translate(\" + (toBc.left - fromBc.left) + \"px, \" + (toBc.top - fromBc.top) + \"px)\",\r\n                        opacity: 0,\r\n                    },\r\n                ];\r\n                var animation_1 = div_1.animate(option, 100);\r\n                var pendingCallback_1 = function () {\r\n                    animation_1.cancel();\r\n                    _this.removePendingCallback(pendingCallback_1);\r\n                    _this._resolve();\r\n                };\r\n                this.addPendingCallback(pendingCallback_1);\r\n                var timeout_1 = setTimeout(function () { return pendingCallback_1(); }, 1e3);\r\n                animation_1.onfinish = animation_1.oncancel = function () {\r\n                    clearTimeout(timeout_1);\r\n                    _this.removePendingCallback(pendingCallback_1);\r\n                    _this.tdShadowDom.removeChild(div_1);\r\n                    callback();\r\n                    callback = function () { };\r\n                };\r\n            }\r\n        }\r\n    };\r\n    PieceShadowManager.prototype.addPendingCallback = function (callback) {\r\n        this.pending.callbacks.push(callback);\r\n    };\r\n    PieceShadowManager.prototype.removePendingCallback = function (callback) {\r\n        this.pending.callbacks = this.pending.callbacks.filter(function (cb) {\r\n            return cb !== callback;\r\n        });\r\n    };\r\n    PieceShadowManager.prototype.finishAnimations = function () {\r\n        while (this.pending.callbacks.length) {\r\n            this.pending.callbacks[0]();\r\n        }\r\n        this._resolve();\r\n    };\r\n    PieceShadowManager.prototype._resolve = function () {\r\n        while (!this.pending.callbacks.length &&\r\n            this.pending.resolvers.length) {\r\n            var resolve = this.pending.resolvers.shift();\r\n            if (resolve) {\r\n                resolve();\r\n            }\r\n        }\r\n    };\r\n    PieceShadowManager.prototype.resolveAnimation = function () {\r\n        var _this = this;\r\n        return new Promise(function (resolve, _) {\r\n            _this.pending.resolvers.push(resolve);\r\n            _this._resolve();\r\n        });\r\n    };\r\n    return PieceShadowManager;\r\n}());\r\nexports.default = PieceShadowManager;\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>, K4us Net <k4us.net@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n **/ \r\n//# sourceMappingURL=PieceShadowManager.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar appendCss_1 = __importDefault(require(\"./helpers/appendCss\"));\r\nvar PlayManagerEventController_1 = __importDefault(require(\"./event/PlayManagerEventController\"));\r\nvar MoveData_1 = __importDefault(require(\"./MoveData\"));\r\nvar PlayManager = /** @class */ (function () {\r\n    function PlayManager(khmerChessBoard) {\r\n        this.renDataList = [];\r\n        this.containerClassName = 'player-table';\r\n        this.currentIndex = 0;\r\n        this.khmerChessBoard = khmerChessBoard;\r\n        this.playEventController = new PlayManagerEventController_1.default();\r\n        (0, appendCss_1.default)(this.khmerChessBoard.options.uniqueClassName, this.css());\r\n        this.containerDom = document.createElement('div');\r\n        this.backBtnDom = document.createElement('button');\r\n        this.playBtnDom = document.createElement('button');\r\n        this.pauseBtnDom = document.createElement('button');\r\n        this.nextBtnDom = document.createElement('button');\r\n    }\r\n    PlayManager.prototype.destroy = function () {\r\n        this.renDataList.forEach(function (moveData) {\r\n            moveData.destroy();\r\n        });\r\n        this.renDataList = [];\r\n        this.containerDom = null;\r\n        this.renDataList = null;\r\n        this.playEventController = null;\r\n        this.backBtnDom = null;\r\n        this.playBtnDom = null;\r\n        this.pauseBtnDom = null;\r\n        this.nextBtnDom = null;\r\n        this.khmerChessBoard = null;\r\n    };\r\n    Object.defineProperty(PlayManager.prototype, \"isCanBack\", {\r\n        get: function () {\r\n            return !!(this.khmerChessBoard.khmerChess.kpgn.moves.length && this.currentIndex);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PlayManager.prototype, \"isCanNext\", {\r\n        get: function () {\r\n            var movesLength = this.khmerChessBoard.khmerChess.kpgn.moves.length;\r\n            return this.khmerChessBoard.khmerChess.kpgn.moves.length && this.currentIndex < movesLength;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    PlayManager.prototype.renderMoveData = function () {\r\n        var _this = this;\r\n        this.renDataList.forEach(function (moveData) {\r\n            moveData.destroy();\r\n        });\r\n        var isEnglish = this.khmerChessBoard.options.isEnglish;\r\n        var current = this.currentIndex - 1;\r\n        var moves = this.khmerChessBoard.khmerChess.kpgn.moves;\r\n        this.renDataList = moves.map(function (move, i) {\r\n            var moveData = new MoveData_1.default({\r\n                index: i + 1,\r\n                containerDom: _this.containerDom,\r\n                renData: '',\r\n                title: move.getMessage(isEnglish),\r\n                str: move.toString(),\r\n                onClick: function () {\r\n                    _this.toIndex(moveData.index);\r\n                    _this.playEventController.click(moveData);\r\n                },\r\n            });\r\n            if (current === i) {\r\n                moveData.current(true);\r\n            }\r\n            return moveData;\r\n        });\r\n        if (this.renDataList.length) {\r\n            this.renDataList[this.renDataList.length - 1].scrollIntoView();\r\n        }\r\n    };\r\n    PlayManager.prototype.draw = function (playerContainer) {\r\n        var containerWidth = ~~(this.khmerChessBoard.options.width * 3 / 4);\r\n        var table = document.createElement('table');\r\n        table.classList.add(this.khmerChessBoard.options.uniqueClassName);\r\n        table.classList.add(this.containerClassName);\r\n        playerContainer.appendChild(table);\r\n        var tbody = document.createElement('tbody');\r\n        table.appendChild(tbody);\r\n        var tr = document.createElement('tr');\r\n        tbody.appendChild(tr);\r\n        var tdHistory = document.createElement('td');\r\n        var div = document.createElement('div');\r\n        div.style.width = containerWidth + \"px\";\r\n        div.style.height = '28px';\r\n        div.classList.add('container');\r\n        this.containerDom = div;\r\n        tdHistory.appendChild(div);\r\n        tdHistory.style.width = containerWidth + \"px\";\r\n        tr.appendChild(tdHistory);\r\n        tdHistory = document.createElement('td');\r\n        var btn = document.createElement('button');\r\n        btn.innerHTML = '<';\r\n        this.backBtnDom = btn;\r\n        tdHistory.appendChild(btn);\r\n        tr.appendChild(tdHistory);\r\n        tdHistory = document.createElement('td');\r\n        btn = document.createElement('button');\r\n        btn.innerHTML = '^';\r\n        this.playBtnDom = btn;\r\n        tdHistory.appendChild(btn);\r\n        btn = document.createElement('button');\r\n        btn.innerHTML = '#';\r\n        this.pauseBtnDom = btn;\r\n        tdHistory.appendChild(btn);\r\n        btn.style.display = 'none';\r\n        tr.appendChild(tdHistory);\r\n        tdHistory = document.createElement('td');\r\n        btn = document.createElement('button');\r\n        btn.innerHTML = '>';\r\n        this.nextBtnDom = btn;\r\n        tdHistory.appendChild(btn);\r\n        tr.appendChild(tdHistory);\r\n        this.btnListen();\r\n    };\r\n    PlayManager.prototype.btnListen = function () {\r\n        var _this = this;\r\n        this.backBtnDom.onclick = function () {\r\n            _this.back();\r\n        };\r\n        this.playBtnDom.onclick = function () {\r\n            _this.play();\r\n        };\r\n        this.pauseBtnDom.onclick = function () {\r\n            _this.pause();\r\n        };\r\n        this.nextBtnDom.onclick = function () {\r\n            _this.next();\r\n        };\r\n    };\r\n    PlayManager.prototype.css = function () {\r\n        var containerSelector = \"table.\" + this.khmerChessBoard.options.uniqueClassName + \".\" + this.containerClassName;\r\n        return \"\\n        \" + containerSelector + \" {\\n            width: 100%;\\n            height: 100%;\\n            box-shadow: rgb(0, 0, 0) 0px 0px 2px inset;\\n        }\\n        \" + containerSelector + \" td {\\n            padding: 0px;\\n            margin: 0px;\\n            text-align: center;\\n            box-shadow: rgba(0, 0, 0, 0.2) 0px 0px 1px inset;\\n        }\\n        \" + containerSelector + \" .container {\\n            font-size: 14px;\\n            text-align: right;\\n            overflow-x: auto;\\n        }\\n        \" + containerSelector + \" .container::-webkit-scrollbar {\\n            width: 1em;\\n        }\\n        \" + containerSelector + \" .container > span {\\n            margin: 0 2px;\\n            padding: 0 2px;\\n            border: 1px solid green;\\n            border-radius: 2px;\\n            cursor: pointer;\\n        }\\n        \" + containerSelector + \" .container > span.current {\\n            background-color: rgba(255, 255, 255, 0.3);\\n            cursor: not-allowed;\\n        }\\n        \" + containerSelector + \" .container span.index {\\n            color: grey;\\n            padding-right: 2px;\\n            border-right: 1px solid gray;\\n            margin-right: 2px;\\n            font-size: 12px;\\n        }\\n        \";\r\n    };\r\n    Object.defineProperty(PlayManager.prototype, \"isCanUndo\", {\r\n        get: function () {\r\n            return !!this.khmerChessBoard.khmerChess.kpgn.latestMove;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    PlayManager.prototype.undo = function () {\r\n        var _this = this;\r\n        if (this.isCanUndo) {\r\n            this.offTurning();\r\n            this.toIndex(this.khmerChessBoard.khmerChess.kpgn.moves.length);\r\n            this.back(function () {\r\n                _this.khmerChessBoard.khmerChess.kpgn.moves.pop();\r\n                _this.turning();\r\n            });\r\n        }\r\n    };\r\n    Object.defineProperty(PlayManager.prototype, \"isCanPlay\", {\r\n        get: function () {\r\n            return !this.isCanNext;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(PlayManager.prototype, \"isPlaying\", {\r\n        get: function () {\r\n            return this.khmerChessBoard.boardManager.isTurning;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    PlayManager.prototype.offTurning = function () {\r\n        this.khmerChessBoard.boardManager.clearTurnCells();\r\n        this.render();\r\n    };\r\n    PlayManager.prototype.turning = function () {\r\n        this.khmerChessBoard.boardManager.takeTurn();\r\n        this.render();\r\n    };\r\n    PlayManager.prototype.play = function () {\r\n        if (!this.isCanPlay) {\r\n            return false;\r\n        }\r\n        this.playEventController.play();\r\n        this.turning();\r\n        return true;\r\n    };\r\n    PlayManager.prototype.pause = function () {\r\n        this.playEventController.pause();\r\n        this.offTurning();\r\n        return true;\r\n    };\r\n    PlayManager.prototype.toggle = function () {\r\n        if (this.isPlaying) {\r\n            this.pause();\r\n        }\r\n        else {\r\n            this.play();\r\n        }\r\n    };\r\n    PlayManager.prototype.render = function () {\r\n        this.playBtnDom.style.display = 'none';\r\n        this.pauseBtnDom.style.display = 'none';\r\n        this.backBtnDom.disabled = true;\r\n        this.nextBtnDom.disabled = true;\r\n        if (this.isPlaying) {\r\n            this.pauseBtnDom.style.display = '';\r\n        }\r\n        else {\r\n            this.playBtnDom.style.display = '';\r\n        }\r\n        this.backBtnDom.disabled = !this.isCanBack;\r\n        this.nextBtnDom.disabled = !this.isCanNext;\r\n        this.playBtnDom.disabled = !this.isCanPlay;\r\n        this.renderMoveData();\r\n    };\r\n    PlayManager.prototype.loadCurrentRen = function () {\r\n        var _a;\r\n        this.khmerChessBoard.loadRen((_a = this.currentMove) === null || _a === void 0 ? void 0 : _a.renStr);\r\n        this.khmerChessBoard.boardManager.checkBoardEvent();\r\n    };\r\n    Object.defineProperty(PlayManager.prototype, \"currentMove\", {\r\n        get: function () {\r\n            return this.khmerChessBoard.khmerChess.kpgn.getMove(this.currentIndex - 1);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    PlayManager.prototype.back = function (callback) {\r\n        if (callback === void 0) { callback = function () { }; }\r\n        if (!this.isCanBack) {\r\n            return false;\r\n        }\r\n        this.offTurning();\r\n        this.playEventController.back();\r\n        this.currentIndex--;\r\n        var kpgn = this.khmerChessBoard.khmerChess.kpgn;\r\n        var move = kpgn.getMove(this.currentIndex);\r\n        if (move === null) {\r\n            return false;\r\n        }\r\n        this.applyMoveBack(move, function (error) {\r\n            callback(error);\r\n        });\r\n        return true;\r\n    };\r\n    PlayManager.prototype.next = function (callback) {\r\n        if (callback === void 0) { callback = function () { }; }\r\n        var kpgn = this.khmerChessBoard.khmerChess.kpgn;\r\n        this.playEventController.next();\r\n        var move = kpgn.getMove(this.currentIndex);\r\n        if (move === null) {\r\n            return false;\r\n        }\r\n        this.applyMove(move, function (error) {\r\n            callback(error);\r\n        });\r\n        this.currentIndex++;\r\n        return true;\r\n    };\r\n    PlayManager.prototype.applyMove = function (move, callback) {\r\n        var _this = this;\r\n        if (callback === void 0) { callback = function () { }; }\r\n        var _a = this.khmerChessBoard, boardManager = _a.boardManager, graveyardManager = _a.graveyardManager, pieceShadowManager = _a.pieceShadowManager, soundManager = _a.soundManager;\r\n        pieceShadowManager.finishAnimations();\r\n        var finish = function () {\r\n            var fromCell = boardManager.get(move.moveFrom.index);\r\n            var toCell = boardManager.get(move.moveTo.index);\r\n            pieceShadowManager.movingPiece(fromCell, toCell, function () {\r\n                fromCell.movePieceTo(toCell);\r\n                if (move.isUpgrading) {\r\n                    toCell.upgrade();\r\n                }\r\n                _this.loadCurrentRen();\r\n                _this.highlightCurrentMove();\r\n                soundManager.playMove();\r\n                _this.render();\r\n                callback();\r\n            });\r\n        };\r\n        if (move.captured) {\r\n            var fromBCell_1 = boardManager.get(move.captured.fromBoardPoint.index);\r\n            var toGYCell_1 = graveyardManager.get(move.captured.toGraveyardPoint.index);\r\n            pieceShadowManager.movingPiece(fromBCell_1, toGYCell_1, function () {\r\n                fromBCell_1.movePieceToGraveyard(toGYCell_1);\r\n                finish();\r\n            });\r\n            soundManager.playCapture();\r\n        }\r\n        else {\r\n            finish();\r\n        }\r\n    };\r\n    PlayManager.prototype.applyMoveBack = function (move, callback) {\r\n        var _this = this;\r\n        if (callback === void 0) { callback = function () { }; }\r\n        var _a = this.khmerChessBoard, boardManager = _a.boardManager, graveyardManager = _a.graveyardManager, pieceShadowManager = _a.pieceShadowManager, soundManager = _a.soundManager;\r\n        pieceShadowManager.finishAnimations();\r\n        pieceShadowManager;\r\n        var fromCell = boardManager.get(move.moveTo.index);\r\n        var toCell = boardManager.get(move.moveFrom.index);\r\n        var finish = function () {\r\n            _this.loadCurrentRen();\r\n            _this.highlightCurrentMove();\r\n            soundManager.playMove();\r\n            _this.render();\r\n            callback();\r\n        };\r\n        pieceShadowManager.movingPiece(fromCell, toCell, function () {\r\n            fromCell.movePieceTo(toCell);\r\n            if (move.isUpgrading) {\r\n                toCell.downgrade();\r\n            }\r\n            if (move.captured) {\r\n                var fromGYCell_1 = graveyardManager.get(move.captured.toGraveyardPoint.index);\r\n                var toBCell_1 = boardManager.get(move.captured.fromBoardPoint.index);\r\n                pieceShadowManager.movingPiece(fromGYCell_1, toBCell_1, function () {\r\n                    fromGYCell_1.movePieceFromGraveyard(toBCell_1);\r\n                    finish();\r\n                });\r\n                soundManager.playCapture();\r\n            }\r\n            else {\r\n                finish();\r\n            }\r\n        });\r\n    };\r\n    PlayManager.prototype.highlightCurrentMove = function () {\r\n        var boardManager = this.khmerChessBoard.boardManager;\r\n        boardManager.clearSelectedCells();\r\n        boardManager.clearMovedCells();\r\n        boardManager.clearAttackCells();\r\n        var currentMove = this.currentMove;\r\n        if (currentMove) {\r\n            var lastFromCell = boardManager.get(currentMove.moveFrom.index);\r\n            var lastToCell = boardManager.get(currentMove.moveTo.index);\r\n            if (lastFromCell !== null && lastToCell !== null) {\r\n                boardManager.highlightMovedCells(lastFromCell, lastToCell);\r\n            }\r\n            if (currentMove.attacker) {\r\n                var attacker = currentMove.attacker;\r\n                var cell = boardManager.get(attacker.point.index);\r\n                cell.attack(true);\r\n                if (attacker.piece !== null) {\r\n                    var king = boardManager.getKing(attacker.piece.colorOpponent);\r\n                    if (king != null) {\r\n                        king.attack(true);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    };\r\n    PlayManager.prototype.toIndex = function (index) {\r\n        var pieceShadowManager = this.khmerChessBoard.pieceShadowManager;\r\n        while (this.currentIndex !== index) {\r\n            if (this.currentIndex < index) {\r\n                this.next();\r\n            }\r\n            else {\r\n                this.back();\r\n            }\r\n        }\r\n        pieceShadowManager.quickMove(false);\r\n        this.highlightCurrentMove();\r\n    };\r\n    PlayManager.prototype.resetCurrentIndex = function () {\r\n        var moves = this.khmerChessBoard.khmerChess.kpgn.moves;\r\n        this.currentIndex = moves.length;\r\n    };\r\n    return PlayManager;\r\n}());\r\nexports.default = PlayManager;\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>, K4us Net <k4us.net@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n **/ \r\n//# sourceMappingURL=PlayManager.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar audio_1 = __importDefault(require(\"./providers/audio\"));\r\nvar SoundManager = /** @class */ (function () {\r\n    function SoundManager(khmerChessBoard) {\r\n        this.move = null;\r\n        this.capture = null;\r\n        this.check = null;\r\n        this.isEnable = false;\r\n        this.khmerChessBoard = khmerChessBoard;\r\n    }\r\n    SoundManager.prototype.destroy = function () {\r\n        this.move = null;\r\n        this.capture = null;\r\n        this.check = null;\r\n        this.khmerChessBoard = null;\r\n    };\r\n    SoundManager.prototype.disable = function () {\r\n        var _a, _b, _c, _d, _e;\r\n        this.isEnable = false;\r\n        if (this.move) {\r\n            (_b = (_a = this.move) === null || _a === void 0 ? void 0 : _a.parentElement) === null || _b === void 0 ? void 0 : _b.removeChild(this.move);\r\n            this.move = null;\r\n        }\r\n        if (this.capture) {\r\n            (_d = (_c = this.capture) === null || _c === void 0 ? void 0 : _c.parentElement) === null || _d === void 0 ? void 0 : _d.removeChild(this.capture);\r\n            this.capture = null;\r\n        }\r\n        if (this.check !== null) {\r\n            (_e = this.check.parentElement) === null || _e === void 0 ? void 0 : _e.removeChild(this.check);\r\n            this.check = null;\r\n        }\r\n        this.khmerChessBoard.messageManager.log('Sound is disabled');\r\n    };\r\n    SoundManager.prototype.enable = function () {\r\n        this.isEnable = true;\r\n        this.move = this._addSound(audio_1.default.move);\r\n        this.capture = this._addSound(audio_1.default.capture);\r\n        this.check = this._addSound(audio_1.default.check);\r\n        this.khmerChessBoard.messageManager.log('Sound is enabled');\r\n    };\r\n    SoundManager.prototype._addSound = function (src) {\r\n        var sound = document.createElement('audio');\r\n        sound.src = src;\r\n        sound.setAttribute('preload', 'auto');\r\n        sound.setAttribute('controls', 'none');\r\n        sound.style.display = 'none';\r\n        document.body.appendChild(sound);\r\n        return sound;\r\n    };\r\n    SoundManager.prototype.play = function (flag) {\r\n        if (!this.isEnable) {\r\n            this.khmerChessBoard.messageManager.log('Sound is disable');\r\n            return;\r\n        }\r\n        try {\r\n            switch (flag) {\r\n                case SoundManager.MOVE_FLAG:\r\n                    this.move && this.move.play();\r\n                    break;\r\n                case SoundManager.CAPTURE_FLAG:\r\n                    this.capture && this.capture.play();\r\n                    break;\r\n                case SoundManager.CHECK_FLAG:\r\n                    this.check && this.check.play();\r\n                    break;\r\n                default:\r\n                    this.khmerChessBoard.messageManager.log('Invalid sound flag');\r\n            }\r\n        }\r\n        catch (error) { }\r\n    };\r\n    SoundManager.prototype.playMove = function () {\r\n        this.play(SoundManager.MOVE_FLAG);\r\n    };\r\n    SoundManager.prototype.playCapture = function () {\r\n        this.play(SoundManager.CAPTURE_FLAG);\r\n    };\r\n    SoundManager.prototype.playCheck = function () {\r\n        this.play(SoundManager.CHECK_FLAG);\r\n    };\r\n    SoundManager.MOVE_FLAG = 'm';\r\n    SoundManager.CAPTURE_FLAG = 'ct';\r\n    SoundManager.CHECK_FLAG = 'c';\r\n    return SoundManager;\r\n}());\r\nexports.default = SoundManager;\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>, K4us Net <k4us.net@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n **/ \r\n//# sourceMappingURL=SoundManager.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar khmer_chess_1 = require(\"khmer-chess\");\r\nvar BoardManagerEventController = /** @class */ (function (_super) {\r\n    __extends(BoardManagerEventController, _super);\r\n    function BoardManagerEventController() {\r\n        return _super.call(this, {\r\n            events: {\r\n                CLICK: BoardManagerEventController.CLICK,\r\n                SELECTED: BoardManagerEventController.SELECTED,\r\n                ATTEMPT_MOVE: BoardManagerEventController.ATTEMPT_MOVE,\r\n            },\r\n        }) || this;\r\n    }\r\n    BoardManagerEventController.prototype.click = function (data) {\r\n        this._addPropEvent(BoardManagerEventController.CLICK, data);\r\n    };\r\n    BoardManagerEventController.prototype.selected = function (data) {\r\n        this._addPropEvent(BoardManagerEventController.SELECTED, data);\r\n    };\r\n    BoardManagerEventController.prototype.deselected = function (data) {\r\n        this._addPropEvent(BoardManagerEventController.DESELECTED, data);\r\n    };\r\n    BoardManagerEventController.prototype.attemptMove = function (fromCell, toCell) {\r\n        this._addPropEvent(BoardManagerEventController.ATTEMPT_MOVE, {\r\n            fromCell: fromCell,\r\n            toCell: toCell,\r\n        });\r\n    };\r\n    BoardManagerEventController.prototype.addOnCellClickEventListener = function (listener) {\r\n        this._addOnEventListener(BoardManagerEventController.CLICK, listener);\r\n    };\r\n    BoardManagerEventController.prototype.removeOnCellClickEventListener = function (listener) {\r\n        this._removeOnEventListener(BoardManagerEventController.CLICK, listener);\r\n    };\r\n    BoardManagerEventController.prototype.addOnCellSelectedEventListener = function (listener) {\r\n        this._addOnEventListener(BoardManagerEventController.SELECTED, listener);\r\n    };\r\n    BoardManagerEventController.prototype.removeOnCellSelectedEventListener = function (listener) {\r\n        this._removeOnEventListener(BoardManagerEventController.SELECTED, listener);\r\n    };\r\n    BoardManagerEventController.prototype.addOnCellDeselectedEventListener = function (listener) {\r\n        this._addOnEventListener(BoardManagerEventController.DESELECTED, listener);\r\n    };\r\n    BoardManagerEventController.prototype.removeOnCellDeselectedEventListener = function (listener) {\r\n        this._removeOnEventListener(BoardManagerEventController.DESELECTED, listener);\r\n    };\r\n    BoardManagerEventController.prototype.addOnAttemptMoveEventListener = function (listener) {\r\n        this._addOnEventListener(BoardManagerEventController.ATTEMPT_MOVE, listener);\r\n    };\r\n    BoardManagerEventController.prototype.removeOnAttemptMoveEventListener = function (listener) {\r\n        this._removeOnEventListener(BoardManagerEventController.ATTEMPT_MOVE, listener);\r\n    };\r\n    BoardManagerEventController.CLICK = 'click';\r\n    BoardManagerEventController.SELECTED = 'selected';\r\n    BoardManagerEventController.DESELECTED = 'deselected';\r\n    BoardManagerEventController.ATTEMPT_MOVE = 'attempt-move';\r\n    return BoardManagerEventController;\r\n}(khmer_chess_1.EventHandler));\r\nexports.default = BoardManagerEventController;\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>, K4us Net <k4us.net@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n **/ \r\n//# sourceMappingURL=BoardManagerEventController.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.BoardStatusEvent = void 0;\r\nvar khmer_chess_1 = require(\"khmer-chess\");\r\nvar BoardStatusEvent = /** @class */ (function () {\r\n    function BoardStatusEvent(_a) {\r\n        var khmerChessBoard = _a.khmerChessBoard, countingToNumber = _a.countingToNumber, countingNumber = _a.countingNumber, flag = _a.flag, actorPieceIndex = _a.actorPieceIndex, color = _a.color, move = _a.move;\r\n        this.isMoving = false;\r\n        this.move = null;\r\n        this.message = '';\r\n        this.actorPieceIndex = null;\r\n        this.isWhite = false;\r\n        this.isAttacking = false;\r\n        this.color = khmer_chess_1.PIECE_COLOR_WHITE;\r\n        this.isWin = false;\r\n        this.isDraw = false;\r\n        this.isCannotMove = false;\r\n        this.isStartCounting = false;\r\n        this.isCountingUp = false;\r\n        this.isCountUpOut = false;\r\n        this.countingToNumber = null;\r\n        this.countingNumber = null;\r\n        this.color = color;\r\n        this.flag = flag;\r\n        var isWhite = !!(color ? color === khmer_chess_1.PIECE_COLOR_WHITE : move === null || move === void 0 ? void 0 : move.piece.color);\r\n        this.isWhite = isWhite;\r\n        this.isMoving = flag === khmer_chess_1.EVENT_FLAG_MOVING;\r\n        this.move = move || null;\r\n        this.actorPieceIndex = actorPieceIndex || null;\r\n        this.isWin = flag === khmer_chess_1.EVENT_FLAG_WIN;\r\n        this.isAttacking = flag === khmer_chess_1.EVENT_FLAG_ATTACK;\r\n        this.isStartCounting = flag === khmer_chess_1.EVENT_FLAG_START_COUNTING;\r\n        if (this.isStartCounting) {\r\n            this.applyCount(countingToNumber || null, countingNumber || null);\r\n        }\r\n        this.isCountingUp = flag === khmer_chess_1.EVENT_FLAG_COUNTING_UP;\r\n        if (this.isCountingUp) {\r\n            this.applyCount(countingToNumber || null, countingNumber || null);\r\n        }\r\n        this.isCountUpOut = flag === khmer_chess_1.EVENT_FLAG_COUNT_UP_OUT;\r\n        if (this.isCountUpOut) {\r\n            this.applyCount(countingToNumber || null, countingNumber || null);\r\n        }\r\n        this.isDraw = this.isCountUpOut || flag === khmer_chess_1.EVENT_FLAG_DRAW;\r\n        if (this.isDraw && !this.isCountUpOut) {\r\n            this.isCannotMove = true;\r\n        }\r\n        this.message = this._getMessage(khmerChessBoard);\r\n    }\r\n    BoardStatusEvent.prototype.applyCount = function (countingToNumber, countingNumber) {\r\n        this.countingToNumber = countingToNumber;\r\n        this.countingNumber = countingNumber;\r\n    };\r\n    BoardStatusEvent.prototype._getMessage = function (khmerChessBoard) {\r\n        var _a;\r\n        var isEnglish = khmerChessBoard.options.isEnglish;\r\n        var color = this.isWhite ? khmer_chess_1.PIECE_COLOR_WHITE : khmer_chess_1.PIECE_COLOR_BLACK;\r\n        var boardManager = khmerChessBoard.boardManager;\r\n        var tran = function (arr) {\r\n            return arr[isEnglish ? 0 : 1];\r\n        };\r\n        var pTitle = function (root) {\r\n            if (!root || !root.piece) {\r\n                return tran(['unknown', 'មិន​ស្គាល់']);\r\n            }\r\n            return isEnglish ? root.piece.titleEnglish : root.piece.title;\r\n        };\r\n        if (this.isMoving && this.move) {\r\n            return this.move.getMessage();\r\n        }\r\n        if (this.isAttacking) {\r\n            var piece = (_a = this.actorPieceIndex) === null || _a === void 0 ? void 0 : _a.piece;\r\n            var king = piece && boardManager.getKing(piece.colorOpponent);\r\n            return pTitle(this.actorPieceIndex) + \" \" + tran(['is attacking', 'អុក']) + \" \" + pTitle(king);\r\n        }\r\n        if (this.isWin) {\r\n            var king = boardManager.getKing(color);\r\n            return pTitle(king) + \" \" + tran(['wins', 'ឈ្នះ']);\r\n        }\r\n        if (this.isDraw) {\r\n            var king = boardManager.getKing(color);\r\n            if (this.isCannotMove) {\r\n                return pTitle(king) + \" \" + tran(['stuck', 'អាប់']);\r\n            }\r\n            else if (this.isCountUpOut) {\r\n                return pTitle(king) + \" \" + (isEnglish ? 'count all' : 'រាប់​អស់');\r\n            }\r\n            else {\r\n                return \"\" + tran(['draw', 'ស្មើ']);\r\n            }\r\n        }\r\n        if (this.isCannotMove) {\r\n            var king = boardManager.getKing(color);\r\n            return pTitle(king) + \" \" + tran(['stuck', 'អាប់']);\r\n        }\r\n        if (this.isStartCounting) {\r\n            var king = boardManager.getKing(color);\r\n            return pTitle(king) + \" \" + tran(['start counting​ from', 'ចាប់​ផ្តើម​រាប់​ពី']) + \" \" + this.countingNumber + \" \" + tran(['to', 'ទៅ']) + \" \" + this.countingToNumber;\r\n        }\r\n        if (this.isCountingUp) {\r\n            var king = boardManager.getKing(color);\r\n            return pTitle(king) + \" \" + tran(['counting​ to', 'រាប់បាន']) + \" \" + this.countingNumber + \" \" + tran(['of', 'នៃ']) + \" \" + this.countingToNumber;\r\n        }\r\n        if (this.isCountUpOut) {\r\n            var king = boardManager.getKing(color);\r\n            return pTitle(king) + \" \" + (isEnglish ? 'count all' : 'រាប់​អស់');\r\n        }\r\n        return this.flag;\r\n    };\r\n    return BoardStatusEvent;\r\n}());\r\nexports.BoardStatusEvent = BoardStatusEvent;\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>, K4us Net <k4us.net@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n *---------------------------------------------------------------------------- */ \r\n//# sourceMappingURL=BoardStatusEvent.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar khmer_chess_1 = require(\"khmer-chess\");\r\nvar BoardStatusEvent_1 = require(\"./BoardStatusEvent\");\r\nvar BoardStatusEventController = /** @class */ (function (_super) {\r\n    __extends(BoardStatusEventController, _super);\r\n    function BoardStatusEventController() {\r\n        return _super.call(this, {\r\n            events: {\r\n                EVENT: BoardStatusEventController.STATUS_EVENT,\r\n            },\r\n        }) || this;\r\n    }\r\n    BoardStatusEventController.prototype.fireEvent = function (boardEvent) {\r\n        this._addPropEvent(BoardStatusEventController.STATUS_EVENT, boardEvent);\r\n    };\r\n    BoardStatusEventController.prototype.addBoardStatusEventListener = function (listener) {\r\n        this._addOnEventListener(BoardStatusEventController.STATUS_EVENT, listener);\r\n    };\r\n    BoardStatusEventController.prototype.removeBoardStatusEventListener = function (listener) {\r\n        this._removeOnEventListener(BoardStatusEventController.STATUS_EVENT, listener);\r\n    };\r\n    BoardStatusEventController.prototype.getBoardEvents = function (khmerChessBoard) {\r\n        var playManager = khmerChessBoard.playManager;\r\n        var move = playManager.currentMove;\r\n        var events = [];\r\n        if (!move) {\r\n            return events;\r\n        }\r\n        var ren = khmer_chess_1.REN.fromString(move.renStr);\r\n        ren.syncWithMove(move);\r\n        if (move.attacker && move.attacker.piece) {\r\n            var boardEvent = new BoardStatusEvent_1.BoardStatusEvent({\r\n                khmerChessBoard: khmerChessBoard,\r\n                flag: khmer_chess_1.EVENT_FLAG_ATTACK,\r\n                actorPieceIndex: move.attacker,\r\n                color: move.attacker.piece.color,\r\n            });\r\n            events.push(boardEvent);\r\n        }\r\n        var winColor = move.winColor;\r\n        if (winColor) {\r\n            var boardEvent = new BoardStatusEvent_1.BoardStatusEvent({\r\n                khmerChessBoard: khmerChessBoard,\r\n                flag: khmer_chess_1.EVENT_FLAG_WIN,\r\n                actorPieceIndex: move.attacker,\r\n                color: winColor,\r\n            });\r\n            events.push(boardEvent);\r\n        }\r\n        var stuckColor = move.stuckColor;\r\n        if (stuckColor) {\r\n            var boardEvent = new BoardStatusEvent_1.BoardStatusEvent({\r\n                khmerChessBoard: khmerChessBoard,\r\n                flag: khmer_chess_1.EVENT_FLAG_DRAW,\r\n                color: stuckColor,\r\n            });\r\n            events.push(boardEvent);\r\n        }\r\n        if (move.isStartCounting) {\r\n            var boardEvent = new BoardStatusEvent_1.BoardStatusEvent({\r\n                khmerChessBoard: khmerChessBoard,\r\n                flag: khmer_chess_1.EVENT_FLAG_START_COUNTING,\r\n                color: ren.countUp.color,\r\n                countingToNumber: ren.countUp.countingToNumber,\r\n                countingNumber: ren.countUp.countingNumber,\r\n            });\r\n            events.push(boardEvent);\r\n        }\r\n        if (ren.countUp.isCountingUp) {\r\n            var boardEvent = new BoardStatusEvent_1.BoardStatusEvent({\r\n                khmerChessBoard: khmerChessBoard,\r\n                flag: khmer_chess_1.EVENT_FLAG_COUNTING_UP,\r\n                color: ren.countUp.color,\r\n                countingToNumber: ren.countUp.countingToNumber,\r\n                countingNumber: ren.countUp.countingNumber,\r\n            });\r\n            events.push(boardEvent);\r\n        }\r\n        if (ren.countUp.isCountingOut) {\r\n            var boardEvent = new BoardStatusEvent_1.BoardStatusEvent({\r\n                khmerChessBoard: khmerChessBoard,\r\n                flag: khmer_chess_1.EVENT_FLAG_COUNT_UP_OUT,\r\n                color: ren.countUp.color,\r\n                countingToNumber: ren.countUp.countingToNumber,\r\n                countingNumber: ren.countUp.countingToNumber,\r\n            });\r\n            events.push(boardEvent);\r\n        }\r\n        return events;\r\n    };\r\n    BoardStatusEventController.prototype.checkBoardEvent = function (khmerChessBoard) {\r\n        var _this = this;\r\n        var events = this.getBoardEvents(khmerChessBoard);\r\n        events.forEach(function (event) {\r\n            _this.fireEvent(event);\r\n        });\r\n    };\r\n    BoardStatusEventController.STATUS_EVENT = 'status-event';\r\n    return BoardStatusEventController;\r\n}(khmer_chess_1.EventHandler));\r\nexports.default = BoardStatusEventController;\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>, K4us Net <k4us.net@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n *---------------------------------------------------------------------------- */ \r\n//# sourceMappingURL=BoardStatusEventController.js.map","\"use strict\";\r\nvar __extends = (this && this.__extends) || (function () {\r\n    var extendStatics = function (d, b) {\r\n        extendStatics = Object.setPrototypeOf ||\r\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n        return extendStatics(d, b);\r\n    };\r\n    return function (d, b) {\r\n        if (typeof b !== \"function\" && b !== null)\r\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n        extendStatics(d, b);\r\n        function __() { this.constructor = d; }\r\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n    };\r\n})();\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar khmer_chess_1 = require(\"khmer-chess\");\r\nvar PlayManagerEventController = /** @class */ (function (_super) {\r\n    __extends(PlayManagerEventController, _super);\r\n    function PlayManagerEventController() {\r\n        return _super.call(this, {\r\n            events: {\r\n                CLICK: PlayManagerEventController.CLICK,\r\n                SELECTED: PlayManagerEventController.BLACK,\r\n                ATTEMPT_MOVE: PlayManagerEventController.PAUSE,\r\n                CHANGE_TURN: PlayManagerEventController.NEXT,\r\n            },\r\n        }) || this;\r\n    }\r\n    PlayManagerEventController.prototype.click = function (data) {\r\n        this._addPropEvent(PlayManagerEventController.CLICK, data);\r\n    };\r\n    PlayManagerEventController.prototype.back = function () {\r\n        this._addPropEvent(PlayManagerEventController.BLACK);\r\n    };\r\n    PlayManagerEventController.prototype.play = function () {\r\n        this._addPropEvent(PlayManagerEventController.PLAY);\r\n    };\r\n    PlayManagerEventController.prototype.pause = function () {\r\n        this._addPropEvent(PlayManagerEventController.PAUSE);\r\n    };\r\n    PlayManagerEventController.prototype.next = function () {\r\n        this._addPropEvent(PlayManagerEventController.NEXT);\r\n    };\r\n    PlayManagerEventController.prototype.addOnDataClickEventListener = function (listener) {\r\n        this._addOnEventListener(PlayManagerEventController.CLICK, listener);\r\n    };\r\n    PlayManagerEventController.prototype.removeOnDataClickEventListener = function (listener) {\r\n        this._removeOnEventListener(PlayManagerEventController.CLICK, listener);\r\n    };\r\n    PlayManagerEventController.prototype.addOnBackEventListener = function (listener) {\r\n        this._addOnEventListener(PlayManagerEventController.BLACK, listener);\r\n    };\r\n    PlayManagerEventController.prototype.removeOnBackEventListener = function (listener) {\r\n        this._removeOnEventListener(PlayManagerEventController.BLACK, listener);\r\n    };\r\n    PlayManagerEventController.prototype.addOnPlayEventListener = function (listener) {\r\n        this._addOnEventListener(PlayManagerEventController.PLAY, listener);\r\n    };\r\n    PlayManagerEventController.prototype.removeOnPlayEventListener = function (listener) {\r\n        this._removeOnEventListener(PlayManagerEventController.PLAY, listener);\r\n    };\r\n    PlayManagerEventController.prototype.addOnPauseEventListener = function (listener) {\r\n        this._addOnEventListener(PlayManagerEventController.PAUSE, listener);\r\n    };\r\n    PlayManagerEventController.prototype.removeOnPauseEventListener = function (listener) {\r\n        this._removeOnEventListener(PlayManagerEventController.PAUSE, listener);\r\n    };\r\n    PlayManagerEventController.prototype.addOnNextEventListener = function (listener) {\r\n        this._addOnEventListener(PlayManagerEventController.NEXT, listener);\r\n    };\r\n    PlayManagerEventController.prototype.removeOnNextEventListener = function (listener) {\r\n        this._removeOnEventListener(PlayManagerEventController.NEXT, listener);\r\n    };\r\n    PlayManagerEventController.CLICK = 'click';\r\n    PlayManagerEventController.BLACK = 'back';\r\n    PlayManagerEventController.PLAY = 'play';\r\n    PlayManagerEventController.PAUSE = 'pause';\r\n    PlayManagerEventController.NEXT = 'next';\r\n    return PlayManagerEventController;\r\n}(khmer_chess_1.EventHandler));\r\nexports.default = PlayManagerEventController;\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>, K4us Net <k4us.net@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n **/ \r\n//# sourceMappingURL=PlayManagerEventController.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar khmer_chess_1 = require(\"khmer-chess\");\r\nvar svg_1 = require(\"../providers/svg\");\r\nvar constance_1 = require(\"../providers/constance\");\r\nvar appendCss_1 = __importDefault(require(\"./appendCss\"));\r\nfunction addCss(_a) {\r\n    var uniqueClassName = _a.uniqueClassName, options = _a.options;\r\n    var width = options.width, cellWidth = options.cellWidth;\r\n    var pieceFontSize = width / 12;\r\n    var selector = constance_1.CSS_TABLE_SELECTOR + \".\" + uniqueClassName;\r\n    var p2pSelector = constance_1.CSS_TABLE_SELECTOR + \".\" + constance_1.CSS_P2P + \".\" + uniqueClassName;\r\n    var css = '';\r\n    css += \"\\n        \" + selector + \" {\\n            table-layout: fixed;\\n            border-collapse: collapse;\\n            border-spacing: 0px;\\n            width: \" + width + \"px;\\n            text-align: center;\\n            border: 0px;\\n            padding: 0px;\\n            margin: auto;\\n            background-color: #f4d1a6;\\n        }\\n        \" + selector + \".\" + constance_1.POPUP_CLASS_NAME + \" {\\n            position: fixed;\\n            box-shadow: 10px 10px 80px #000000, -10px -10px 80px #000000;\\n        }\\n        \" + selector + \" table.\" + constance_1.GRAVEYARD_CLASS_NAME + \" {\\n            table-layout: fixed;\\n            border-collapse: collapse;\\n            border-spacing: 0px;\\n            text-align: center;\\n            border: 0px;\\n            padding: 0px;\\n            margin: auto;\\n            background-color: #ffc57d;\\n        }\\n        \" + selector + \" .\" + constance_1.TR_PIECE_CLASS_NAME + \" {\\n            width: \" + width + \"px;\\n            height: \" + cellWidth + \"px;\\n        }\\n        \" + selector + \" .\" + constance_1.TR_PIECE_SHADOW_CLASS_NAME + \" {\\n            width: \" + width + \"px;\\n            height: 0;\\n        }\\n        \" + selector + \" .\" + constance_1.TR_PIECE_CLASS_NAME + \" td {\\n            user-select: none;\\n            border: 1px solid #9e9e9e87;\\n            padding: 0px;\\n            margin: 0px;\\n            max-width: \" + cellWidth + \"px;\\n            max-height: \" + cellWidth + \"px;\\n            background-repeat: no-repeat;\\n            cursor: pointer;\\n        }\\n        \" + selector + \" .\" + constance_1.TR_PIECE_SHADOW_CLASS_NAME + \" div {\\n            width: \" + cellWidth + \"px;\\n            height: \" + cellWidth + \"px;\\n            position: absolute;\\n        }\\n        \" + selector + \" .\" + constance_1.TR_PIECE_CLASS_NAME + \" td,\\n        \" + selector + \" .\" + constance_1.TR_PIECE_CLASS_NAME + \" td::before,\\n        \" + selector + \" .\" + constance_1.TR_PIECE_CLASS_NAME + \" td::after {\\n            font-size: \" + pieceFontSize + \"px;\\n        }\\n        \" + selector + \" .\" + constance_1.TR_PIECE_CLASS_NAME + \" td::after {\\n            opacity: 0.4;\\n        }\\n        \" + selector + \" .\" + constance_1.TR_PIECE_CLASS_NAME + \" td::before {\\n            float: left;\\n        }\\n        \" + selector + \" .\" + constance_1.TR_PIECE_CLASS_NAME + \" td:not(.graveyard)::before,\\n        \" + selector + \" .\" + constance_1.TR_PIECE_CLASS_NAME + \" td:not(.graveyard)::after {\\n            width: \" + cellWidth + \"px;\\n            height: \" + cellWidth + \"px;\\n            background-size: \" + cellWidth + \"px \" + cellWidth + \"px;\\n            display: block;\\n            content: ' ';\\n        }\\n    \";\r\n    // moved cells\r\n    css += \"\\n    \" + selector + \" .\" + constance_1.TR_PIECE_CLASS_NAME + \" td.\" + constance_1.MOVED_CLASS_NAME + constance_1.CSS_PSEUDO_HIGHLIGHT + \" {\\n        \" + svg_1.svgCSS.moved() + \"\\n    }\";\r\n    // selected pice\r\n    css += \"\\n    \" + selector + \" .\" + constance_1.TR_PIECE_CLASS_NAME + \" td.\" + constance_1.SELECTED_CLASS_NAME + constance_1.CSS_PSEUDO_HIGHLIGHT + \" {\\n        \" + svg_1.svgCSS.selected() + \"\\n    }\";\r\n    // can move\r\n    css += \"\\n    \" + selector + \" .\" + constance_1.TR_PIECE_CLASS_NAME + \" td.\" + constance_1.CAN_MOVE_CLASS_NAME + constance_1.CSS_PSEUDO_HIGHLIGHT + \" {\\n        \" + svg_1.svgCSS.canMove() + \"\\n    }\";\r\n    css += piecesImageBackground(selector);\r\n    css += piecesImageBackground(p2pSelector, {\r\n        color: khmer_chess_1.PIECE_COLOR_BLACK,\r\n        css: \"path {\\n        transform-origin: center;\\n        transform: scaleY(-1);\\n     }\"\r\n    });\r\n    (0, appendCss_1.default)(uniqueClassName, css);\r\n}\r\nexports.default = addCss;\r\nfunction piecesImageBackground(selector, moreBG) {\r\n    var _a;\r\n    var moreCss = (_a = {},\r\n        _a[khmer_chess_1.PIECE_COLOR_WHITE] = '',\r\n        _a[khmer_chess_1.PIECE_COLOR_BLACK] = '',\r\n        _a);\r\n    if (moreBG) {\r\n        if (moreBG.color) {\r\n            moreCss[moreBG.color] = moreBG.css;\r\n        }\r\n        else {\r\n            moreCss[khmer_chess_1.PIECE_COLOR_WHITE] = moreBG.css;\r\n            moreCss[khmer_chess_1.PIECE_COLOR_BLACK] = moreBG.css;\r\n        }\r\n    }\r\n    var css = '';\r\n    // Turn\r\n    css += khmer_chess_1.Piece.colorChars.map(function (color) {\r\n        return khmer_chess_1.Piece.pieceChars.map(function (type) {\r\n            var attackedSVG = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" version=\\\"1.1\\\" viewBox=\\\"-10 0 1024 1000\\\">\\n                <style>\\n                    \" + svg_1.svgCSS.turn() + \"\\n                    \" + moreCss[color] + \"\\n                </style>\\n                \" + svg_1.PIECES_SVG[color + type] + \"\\n            </svg>\";\r\n            return \"\\n                \" + selector + \" .\" + constance_1.TR_PIECE_CLASS_NAME + \" td.\" + constance_1.PIECE_CLASS_NAME + \".\" + constance_1.TURN_CLASS_NAME + \".type-\" + type + \".color-\" + color + constance_1.CSS_PSEUDO_PIECE + \" {\\n                    background-image: url('data:image/svg+xml;utf8,\" + encodeURIComponent(attackedSVG) + \"');\\n                }\\n                \";\r\n        }).join('');\r\n    }).join('');\r\n    // Attacked\r\n    css += khmer_chess_1.Piece.colorChars.map(function (color) {\r\n        return khmer_chess_1.Piece.pieceChars.map(function (type) {\r\n            var attackedSVG = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" version=\\\"1.1\\\" viewBox=\\\"-10 0 1024 1000\\\">\\n                <style>\\n                    \" + svg_1.svgCSS.attacked() + \"\\n                    \" + moreCss[color] + \"\\n                </style>\\n                \" + svg_1.PIECES_SVG[color + type] + \"\\n            </svg>\";\r\n            var notAttackedSVG = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" version=\\\"1.1\\\" viewBox=\\\"-10 0 1024 1000\\\">\\n                <style>\\n                    \" + svg_1.svgCSS.notAttacked() + \"\\n                    \" + moreCss[color] + \"\\n                </style>\\n                \" + svg_1.PIECES_SVG[color + type] + \"\\n            </svg>\";\r\n            return \"\\n                \" + selector + \" .\" + constance_1.TR_PIECE_CLASS_NAME + \" td.\" + constance_1.PIECE_CLASS_NAME + \".\" + constance_1.ATTACKED_CLASS_NAME + \".type-\" + type + \".color-\" + color + constance_1.CSS_PSEUDO_PIECE + \" {\\n                    background-image: url('data:image/svg+xml;utf8,\" + encodeURIComponent(attackedSVG) + \"');\\n                }\\n                \" + selector + \" .\" + constance_1.TR_PIECE_CLASS_NAME + \" td.\" + constance_1.PIECE_CLASS_NAME + \".type-\" + type + \".color-\" + color + constance_1.CSS_PSEUDO_PIECE + \"\\n                , \" + selector + \" .\" + constance_1.TR_PIECE_SHADOW_CLASS_NAME + \" div.type-\" + type + \".color-\" + color + \"{\\n                    background-image: url('data:image/svg+xml;utf8,\" + encodeURIComponent(notAttackedSVG) + \"');\\n                }\\n                \";\r\n        }).join('');\r\n    }).join('');\r\n    return css;\r\n}\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>, K4us Net <k4us.net@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n **/ \r\n//# sourceMappingURL=addCss.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar khmer_chess_1 = require(\"khmer-chess\");\r\nvar appendCss_1 = __importDefault(require(\"./appendCss\"));\r\nvar svg_1 = require(\"../providers/svg\");\r\nvar constance_1 = require(\"../providers/constance\");\r\nfunction addCssNote(_a) {\r\n    var uniqueClassName = _a.uniqueClassName, options = _a.options, isEnglish = _a.isEnglish;\r\n    var tranIndex = function (i) {\r\n        return isEnglish ? \"\" + i : khmer_chess_1.KhmerChess.toKhmerNum(i);\r\n    };\r\n    var horizontalLetters = isEnglish ? khmer_chess_1.HORIZONTAL_NOTE_LETTERS_ENGLISH : khmer_chess_1.HORIZONTAL_NOTE_LETTERS;\r\n    var width = options.width, cellWidth = options.cellWidth;\r\n    var selector = constance_1.CSS_TABLE_SELECTOR + \".\" + uniqueClassName;\r\n    var css = '';\r\n    var fSize = 15 * width / 600;\r\n    for (var i = 0; i < constance_1.TD_GRAVEYARD_NUMBER; i++) {\r\n        var bgImg_1 = (0, svg_1.genBackgroundNote)([{\r\n                x: cellWidth / 2 - cellWidth / 10,\r\n                y: cellWidth,\r\n                t: tranIndex(i),\r\n            }], cellWidth, fSize);\r\n        css += \"\\n        \" + selector + \" td\" + (isEnglish ? '.' + options.enClass : '') + \".\" + constance_1.GRAVEYARD_NOTE_PREFIX_CLASS + \"-\" + (i + 1) + constance_1.CSS_PSEUDO_NOTE + \" {\\n            background-image: \" + bgImg_1 + \";\\n        }\\n        \";\r\n    }\r\n    var hx = cellWidth / 2 - cellWidth / 10;\r\n    var vy = cellWidth / 2 + cellWidth / 10;\r\n    var bgImg = function (i) { return (0, svg_1.genBackgroundNote)([{\r\n            x: hx,\r\n            y: cellWidth,\r\n            t: horizontalLetters[i],\r\n        }], cellWidth, fSize); };\r\n    for (var i = 0; i < khmer_chess_1.ROW_NUMBER; i++) {\r\n        css += \"\\n        \" + selector + \" td\" + (isEnglish ? '.' + options.enClass : '') + \".\" + constance_1.BOARD_NOTE_H_PREFIX_CLASS + \"-\" + (i + 1) + constance_1.CSS_PSEUDO_NOTE + \" {\\n            background-image: \" + bgImg(i) + \";\\n        }\\n        \" + selector + \" td\" + (isEnglish ? '.' + options.enClass : '') + \".\" + constance_1.FLIPPED_CLASS + \".\" + constance_1.BOARD_NOTE_H_PREFIX_CLASS + \"-\" + (i + 1) + constance_1.CSS_PSEUDO_NOTE + \" {\\n            background-image: \" + bgImg(khmer_chess_1.ROW_NUMBER - i - 1) + \";\\n        }\\n        \";\r\n    }\r\n    bgImg = function (i) { return (0, svg_1.genBackgroundNote)([{\r\n            x: 0,\r\n            y: vy,\r\n            t: tranIndex(i),\r\n        }], cellWidth, fSize); };\r\n    for (var j = 0; j < khmer_chess_1.ROW_NUMBER; j++) {\r\n        css += \"\\n            \" + selector + \" td\" + (isEnglish ? '.' + options.enClass : '') + \".\" + constance_1.BOARD_NOTE_V_PREFIX_CLASS + \"-\" + (j + 1) + constance_1.CSS_PSEUDO_NOTE + \" {\\n                background-image: \" + bgImg(j) + \";\\n            }\\n            \" + selector + \" td\" + (isEnglish ? '.' + options.enClass : '') + \".flipped.\" + constance_1.BOARD_NOTE_V_PREFIX_CLASS + \"-\" + (j + 1) + constance_1.CSS_PSEUDO_NOTE + \" {\\n                background-image: \" + bgImg(khmer_chess_1.ROW_NUMBER - j - 1) + \";\\n            }\\n            \";\r\n    }\r\n    bgImg = function (i) { return (0, svg_1.genBackgroundNote)([\r\n        {\r\n            x: hx,\r\n            y: cellWidth,\r\n            t: horizontalLetters[i],\r\n        }, {\r\n            x: 0,\r\n            y: vy,\r\n            t: tranIndex(i),\r\n        },\r\n    ], cellWidth, fSize); };\r\n    css += \"\\n    \" + selector + \" td\" + (isEnglish ? '.' + options.enClass : '') + \".\" + constance_1.BOARD_NOTE_V_PREFIX_CLASS + \"-1.\" + constance_1.BOARD_NOTE_H_PREFIX_CLASS + \"-1\" + constance_1.CSS_PSEUDO_NOTE + \" {\\n        background-image: \" + bgImg(0) + \";\\n    }\\n    \" + selector + \" td\" + (isEnglish ? '.' + options.enClass : '') + \".\" + constance_1.FLIPPED_CLASS + \".\" + constance_1.BOARD_NOTE_V_PREFIX_CLASS + \"-1.\" + constance_1.BOARD_NOTE_H_PREFIX_CLASS + \"-1\" + constance_1.CSS_PSEUDO_NOTE + \" {\\n        background-image: \" + bgImg(7) + \";\\n    }\\n    \";\r\n    (0, appendCss_1.default)(uniqueClassName, css);\r\n}\r\nexports.default = addCssNote;\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>, K4us Net <k4us.net@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n **/ \r\n//# sourceMappingURL=addCssNote.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction appendCss(uniqueClassName, css) {\r\n    var head = document.head || document.getElementsByTagName('head')[0];\r\n    var style = document.createElement('style');\r\n    style.classList.add(uniqueClassName);\r\n    head.appendChild(style);\r\n    style.appendChild(document.createTextNode(css));\r\n}\r\nexports.default = appendCss;\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>, K4us Net <k4us.net@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n **/ \r\n//# sourceMappingURL=appendCss.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar khmer_chess_1 = require(\"khmer-chess\");\r\nvar CellManager_1 = __importDefault(require(\"../CellManager\"));\r\nvar constance_1 = require(\"../providers/constance\");\r\nfunction drawBoardAndGraveyard(_a) {\r\n    var uniqueClassName = _a.uniqueClassName, options = _a.options, container = _a.container, boardManager = _a.boardManager, graveyardManager = _a.graveyardManager;\r\n    var width = options.width, cellWidth = options.cellWidth, graveyardContainerHeight = options.graveyardContainerHeight, graveyardWidth = options.graveyardWidth;\r\n    var createTable = function (parent) {\r\n        if (parent === void 0) { parent = container; }\r\n        var table = document.createElement('table');\r\n        parent.appendChild(table);\r\n        return table;\r\n    };\r\n    var createTbody = function (parent) {\r\n        var tbody = document.createElement('tbody');\r\n        parent.appendChild(tbody);\r\n        return tbody;\r\n    };\r\n    var createTr = function (parent) {\r\n        var tr = document.createElement('tr');\r\n        parent.appendChild(tr);\r\n        return tr;\r\n    };\r\n    var createTd = function (parent) {\r\n        var td = document.createElement('td');\r\n        parent.appendChild(td);\r\n        return td;\r\n    };\r\n    var table = createTable();\r\n    table.classList.add(constance_1.TABLE_CLASS);\r\n    table.classList.add(uniqueClassName);\r\n    var tbody = createTbody(table);\r\n    for (var i = 0; i < khmer_chess_1.ROW_NUMBER; i++) {\r\n        var tr_1 = createTr(tbody);\r\n        tr_1.classList.add(constance_1.TR_PIECE_CLASS_NAME);\r\n        for (var j = 0; j < khmer_chess_1.ROW_NUMBER; j++) {\r\n            var td = createTd(tr_1);\r\n            var cell = new CellManager_1.default(boardManager.khmerChessBoard, new khmer_chess_1.Point(j, khmer_chess_1.ROW_NUMBER - i - 1), td, null);\r\n            var index = khmer_chess_1.Point.xyToIndex(j, khmer_chess_1.ROW_NUMBER - i - 1);\r\n            boardManager.set(index, cell);\r\n        }\r\n    }\r\n    var tr = createTr(tbody);\r\n    tr.classList.add(constance_1.TR_PIECE_SHADOW_CLASS_NAME);\r\n    var tdShadow = createTd(tr);\r\n    var trPlayerContainer = createTr(tbody);\r\n    trPlayerContainer.classList.add('tr-player');\r\n    trPlayerContainer.style.height = \"\" + graveyardContainerHeight / 3;\r\n    var tdPlayerContainer = createTd(trPlayerContainer);\r\n    tdPlayerContainer.classList.add('player');\r\n    tdPlayerContainer.colSpan = 8;\r\n    var trGraveyardContainer = createTr(tbody);\r\n    trGraveyardContainer.classList.add(constance_1.TR_GRAVEYARD_CLASS_NAME);\r\n    trGraveyardContainer.style.height = \"\" + graveyardContainerHeight;\r\n    var tdGraveyardContainer = createTd(trGraveyardContainer);\r\n    tdGraveyardContainer.classList.add('graveyard');\r\n    tdGraveyardContainer.colSpan = 8;\r\n    var div = document.createElement('div');\r\n    div.style.overflowX = 'scroll';\r\n    div.style.overflowY = 'hidden';\r\n    tdGraveyardContainer.appendChild(div);\r\n    var tableGraveyard = createTable(div);\r\n    tableGraveyard.classList.add(constance_1.GRAVEYARD_CLASS_NAME);\r\n    tableGraveyard.style.width = \"\" + graveyardWidth;\r\n    tableGraveyard.style.height = \"\" + cellWidth;\r\n    tableGraveyard.style.boxShadow = \"inset 0 0 \" + width / 60 + \"px #000000\";\r\n    var tbodyGraveyard = createTbody(tableGraveyard);\r\n    var trGraveyard = createTr(tbodyGraveyard);\r\n    trGraveyard.classList.add(constance_1.TR_PIECE_CLASS_NAME);\r\n    trGraveyard.style.width = \"\" + graveyardWidth;\r\n    for (var i = 0; i < constance_1.TD_GRAVEYARD_NUMBER; i++) {\r\n        var tdGraveyard = createTd(trGraveyard);\r\n        var cell = new CellManager_1.default(graveyardManager.khmerChessBoard, new khmer_chess_1.Point(i, 0), tdGraveyard, null, true);\r\n        graveyardManager.push(cell);\r\n    }\r\n    return {\r\n        domRootBoard: table,\r\n        domGraveyard: tableGraveyard,\r\n        playerContainer: tdPlayerContainer,\r\n        tdShadow: tdShadow,\r\n    };\r\n}\r\nexports.default = drawBoardAndGraveyard;\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>, K4us Net <k4us.net@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n **/ \r\n//# sourceMappingURL=drawBoardAndGraveyard.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.genId = exports.randomString = void 0;\r\nfunction randomString(length) {\r\n    if (length === void 0) { length = 8; }\r\n    var result = '';\r\n    var characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n    var charactersLength = characters.length;\r\n    for (var i = 0; i < length; i++) {\r\n        result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n    }\r\n    return result;\r\n}\r\nexports.randomString = randomString;\r\n;\r\nvar _idList = [];\r\nfunction genId() {\r\n    var id = randomString(8);\r\n    while (~_idList.indexOf(id)) {\r\n        id = randomString(4);\r\n    }\r\n    _idList.push(id);\r\n    return id;\r\n}\r\nexports.genId = genId;\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>, K4us Net <k4us.net@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n **/ \r\n//# sourceMappingURL=uniqueIdHelper.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PlayManager = exports.MessageManager = exports.GraveyardManager = exports.PieceShadowManager = exports.CellManager = exports.SoundManager = exports.OptionsManager = exports.BoardManager = exports.MoveData = exports.BoardStatusEvent = exports.KhmerChessBoard = void 0;\r\nvar KhmerChessBoard_1 = require(\"./KhmerChessBoard\");\r\nObject.defineProperty(exports, \"KhmerChessBoard\", { enumerable: true, get: function () { return __importDefault(KhmerChessBoard_1).default; } });\r\nvar BoardStatusEvent_1 = require(\"./event/BoardStatusEvent\");\r\nObject.defineProperty(exports, \"BoardStatusEvent\", { enumerable: true, get: function () { return BoardStatusEvent_1.BoardStatusEvent; } });\r\nvar MoveData_1 = require(\"./MoveData\");\r\nObject.defineProperty(exports, \"MoveData\", { enumerable: true, get: function () { return __importDefault(MoveData_1).default; } });\r\nvar BoardManager_1 = require(\"./BoardManager\");\r\nObject.defineProperty(exports, \"BoardManager\", { enumerable: true, get: function () { return __importDefault(BoardManager_1).default; } });\r\nvar OptionsManager_1 = require(\"./OptionsManager\");\r\nObject.defineProperty(exports, \"OptionsManager\", { enumerable: true, get: function () { return __importDefault(OptionsManager_1).default; } });\r\nvar SoundManager_1 = require(\"./SoundManager\");\r\nObject.defineProperty(exports, \"SoundManager\", { enumerable: true, get: function () { return __importDefault(SoundManager_1).default; } });\r\nvar CellManager_1 = require(\"./CellManager\");\r\nObject.defineProperty(exports, \"CellManager\", { enumerable: true, get: function () { return __importDefault(CellManager_1).default; } });\r\nvar PieceShadowManager_1 = require(\"./PieceShadowManager\");\r\nObject.defineProperty(exports, \"PieceShadowManager\", { enumerable: true, get: function () { return __importDefault(PieceShadowManager_1).default; } });\r\nvar GraveyardManager_1 = require(\"./GraveyardManager\");\r\nObject.defineProperty(exports, \"GraveyardManager\", { enumerable: true, get: function () { return __importDefault(GraveyardManager_1).default; } });\r\nvar MessageManager_1 = require(\"./MessageManager\");\r\nObject.defineProperty(exports, \"MessageManager\", { enumerable: true, get: function () { return __importDefault(MessageManager_1).default; } });\r\nvar PlayManager_1 = require(\"./PlayManager\");\r\nObject.defineProperty(exports, \"PlayManager\", { enumerable: true, get: function () { return __importDefault(PlayManager_1).default; } });\r\n__exportStar(require(\"khmer-chess\"), exports);\r\nvar khmer_chess_1 = require(\"khmer-chess\");\r\nvar KhmerChessBoard_2 = __importDefault(require(\"./KhmerChessBoard\"));\r\nconsole.log(khmer_chess_1.KhmerChess.title, khmer_chess_1.KhmerChess.version);\r\nconsole.log(KhmerChessBoard_2.default.title, KhmerChessBoard_2.default.version);\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>, K4us Net <k4us.net@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n **/ \r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.khmerChessBoardNS = exports.KhmerChessBoard = void 0;\r\nvar KhmerChessBoard_1 = require(\"./KhmerChessBoard\");\r\nObject.defineProperty(exports, \"KhmerChessBoard\", { enumerable: true, get: function () { return __importDefault(KhmerChessBoard_1).default; } });\r\nexports.khmerChessBoardNS = __importStar(require(\"./index\"));\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>, K4us Net <k4us.net@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n **/ \r\n//# sourceMappingURL=index.umd.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar move = require('../../public/assets/Move.mp3').default;\r\nvar capture = require('../../public/assets/Capture.mp3').default;\r\nvar check = require('../../public/assets/Check.mp3').default;\r\nexports.default = {\r\n    move: move,\r\n    capture: capture,\r\n    check: check,\r\n};\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>, K4us Net <k4us.net@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n **/ \r\n//# sourceMappingURL=audio.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CSS_PSEUDO_NOTE = exports.CSS_PSEUDO_PIECE = exports.CSS_PSEUDO_HIGHLIGHT = exports.FLIPPED_CLASS = exports.BOARD_NOTE_H_PREFIX_CLASS = exports.BOARD_NOTE_V_PREFIX_CLASS = exports.GRAVEYARD_NOTE_PREFIX_CLASS = exports.POPUP_CLASS_NAME = exports.PIECE_CLASS_NAME = exports.TR_PIECE_SHADOW_CLASS_NAME = exports.TR_GRAVEYARD_CLASS_NAME = exports.TR_PIECE_CLASS_NAME = exports.GRAVEYARD_CLASS_NAME = exports.TURN_CLASS_NAME = exports.ATTACKED_CLASS_NAME = exports.MOVED_CLASS_NAME = exports.CAN_MOVE_CLASS_NAME = exports.SELECTED_CLASS_NAME = exports.CSS_TABLE_SELECTOR = exports.CSS_P2P = exports.TABLE_CLASS = exports.TD_GRAVEYARD_NUMBER = exports.MIN_CELL_WIDTH = exports.BORDER_WIDTH = void 0;\r\nexports.BORDER_WIDTH = 1;\r\nexports.MIN_CELL_WIDTH = 5;\r\nexports.TD_GRAVEYARD_NUMBER = 30;\r\nexports.TABLE_CLASS = 'khmer-chess-board';\r\nexports.CSS_P2P = 'p2p';\r\nexports.CSS_TABLE_SELECTOR = \"table.\" + exports.TABLE_CLASS;\r\nexports.SELECTED_CLASS_NAME = 'selected';\r\nexports.CAN_MOVE_CLASS_NAME = 'can-move';\r\nexports.MOVED_CLASS_NAME = 'moved';\r\nexports.ATTACKED_CLASS_NAME = 'attacked';\r\nexports.TURN_CLASS_NAME = 'turn';\r\nexports.GRAVEYARD_CLASS_NAME = 'tb-graveyard';\r\nexports.TR_PIECE_CLASS_NAME = 'tr-piece';\r\nexports.TR_GRAVEYARD_CLASS_NAME = 'tr-graveyard';\r\nexports.TR_PIECE_SHADOW_CLASS_NAME = 'tr-piece-shadow';\r\nexports.PIECE_CLASS_NAME = 'piece';\r\nexports.POPUP_CLASS_NAME = 'popup';\r\nexports.GRAVEYARD_NOTE_PREFIX_CLASS = 'note-gy';\r\nexports.BOARD_NOTE_V_PREFIX_CLASS = 'note-board-v';\r\nexports.BOARD_NOTE_H_PREFIX_CLASS = 'note-board-h';\r\nexports.FLIPPED_CLASS = 'flipped';\r\nexports.CSS_PSEUDO_HIGHLIGHT = '::after';\r\nexports.CSS_PSEUDO_PIECE = '';\r\nexports.CSS_PSEUDO_NOTE = '::before';\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>, K4us Net <k4us.net@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n **/ \r\n//# sourceMappingURL=constance.js.map","\"use strict\";\r\nvar _a;\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.genBackgroundNote = exports.svgCSS = exports.PIECES_SVG = exports.WOOD_COLORS = void 0;\r\nvar khmer_chess_1 = require(\"khmer-chess\");\r\nvar k4us_share_1 = require(\"k4us-share\");\r\nvar boatSVG = k4us_share_1.khmerChessPieces.boatSVG, fishSVG = k4us_share_1.khmerChessPieces.fishSVG, generalSVG = k4us_share_1.khmerChessPieces.generalSVG, horseSVG = k4us_share_1.khmerChessPieces.horseSVG, kingSVG = k4us_share_1.khmerChessPieces.kingSVG, queenSVG = k4us_share_1.khmerChessPieces.queenSVG, transformFishSVG = k4us_share_1.khmerChessPieces.transformFishSVG;\r\nexports.WOOD_COLORS = {\r\n    WHITE: '#ffffff',\r\n    BLACK: '#422007',\r\n};\r\nvar filterId = 'drop-shadow';\r\nvar SVG_FILTER = \"<defs>\\n<filter id=\\\"\" + filterId + \"\\\" height=\\\"130%\\\">\\n  <feGaussianBlur in=\\\"SourceAlpha\\\" stdDeviation=\\\"5\\\"/>\\n  <feOffset dx=\\\"5\\\" dy=\\\"5\\\" result=\\\"offsetblur\\\"/>\\n  <feMerge>\\n    <feMergeNode/>\\n    <feMergeNode in=\\\"SourceGraphic\\\"/>\\n  </feMerge>\\n</filter>\\n</defs>\";\r\nboatSVG.init();\r\nhorseSVG.init();\r\ngeneralSVG.init();\r\nkingSVG.init();\r\nqueenSVG.init();\r\nfishSVG.init();\r\ntransformFishSVG.init();\r\nexports.PIECES_SVG = (_a = {},\r\n    _a[\"\" + khmer_chess_1.PIECE_COLOR_WHITE + khmer_chess_1.PIECE_TYPE_BOAT] = \"\\n    \" + SVG_FILTER + \"\\n    <path fill=\\\"\" + exports.WOOD_COLORS.WHITE + \"\\\" filter=\\\"url(#\" + filterId + \")\\\"\\n    d=\\\"\" + boatSVG.pathData[0] + \"\\\" />\\n \",\r\n    _a[\"\" + khmer_chess_1.PIECE_COLOR_WHITE + khmer_chess_1.PIECE_TYPE_HORSE] = \"\\n    \" + SVG_FILTER + \"\\n    <path fill=\\\"\" + exports.WOOD_COLORS.WHITE + \"\\\" filter=\\\"url(#\" + filterId + \")\\\"\\n    d=\\\"\" + horseSVG.pathData[0] + \"\\\" />\\n \",\r\n    _a[\"\" + khmer_chess_1.PIECE_COLOR_WHITE + khmer_chess_1.PIECE_TYPE_GENERAL] = \"\\n    \" + SVG_FILTER + \"\\n    <path fill=\\\"\" + exports.WOOD_COLORS.WHITE + \"\\\" filter=\\\"url(#\" + filterId + \")\\\"\\n    d=\\\"\" + generalSVG.pathData[0] + \"\\\" />\\n \",\r\n    _a[\"\" + khmer_chess_1.PIECE_COLOR_WHITE + khmer_chess_1.PIECE_TYPE_KING] = \"\\n    \" + SVG_FILTER + \"\\n    <path fill=\\\"\" + exports.WOOD_COLORS.WHITE + \"\\\" filter=\\\"url(#\" + filterId + \")\\\"\\n    d=\\\"\" + kingSVG.pathData[0] + \"\\\" />\\n \",\r\n    _a[\"\" + khmer_chess_1.PIECE_COLOR_WHITE + khmer_chess_1.PIECE_TYPE_QUEEN] = \"\\n    \" + SVG_FILTER + \"\\n    <path fill=\\\"\" + exports.WOOD_COLORS.WHITE + \"\\\" filter=\\\"url(#\" + filterId + \")\\\"\\n    d=\\\"\" + queenSVG.pathData[0] + \"\\\" />\\n \",\r\n    _a[\"\" + khmer_chess_1.PIECE_COLOR_WHITE + khmer_chess_1.PIECE_TYPE_FISH] = \"\\n    \" + SVG_FILTER + \"\\n    <path fill=\\\"\" + exports.WOOD_COLORS.WHITE + \"\\\" filter=\\\"url(#\" + filterId + \")\\\"\\n    d=\\\"\" + fishSVG.pathData[0] + \"\\\" />\\n \",\r\n    _a[\"\" + khmer_chess_1.PIECE_COLOR_WHITE + khmer_chess_1.PIECE_TYPE_TRANSFORM_FISH] = \"\\n    \" + SVG_FILTER + \"\\n     <path fill=\\\"\" + exports.WOOD_COLORS.WHITE + \"\\\" filter=\\\"url(#\" + filterId + \")\\\"\\n     d=\\\"\" + transformFishSVG.pathData[0] + \"\\\" />\\n \",\r\n    _a[\"\" + khmer_chess_1.PIECE_COLOR_BLACK + khmer_chess_1.PIECE_TYPE_BOAT] = \"\\n    \" + SVG_FILTER + \"\\n    <path fill=\\\"\" + exports.WOOD_COLORS.BLACK + \"\\\" filter=\\\"url(#\" + filterId + \")\\\"\\n    d=\\\"\" + boatSVG.pathData[0] + \"\\\" />\\n \",\r\n    _a[\"\" + khmer_chess_1.PIECE_COLOR_BLACK + khmer_chess_1.PIECE_TYPE_HORSE] = \"\\n    \" + SVG_FILTER + \"\\n    <path fill=\\\"\" + exports.WOOD_COLORS.BLACK + \"\\\" filter=\\\"url(#\" + filterId + \")\\\"\\n    d=\\\"\" + horseSVG.pathData[0] + \"\\\" />\\n \",\r\n    _a[\"\" + khmer_chess_1.PIECE_COLOR_BLACK + khmer_chess_1.PIECE_TYPE_GENERAL] = \"\\n    \" + SVG_FILTER + \"\\n    <path fill=\\\"\" + exports.WOOD_COLORS.BLACK + \"\\\" filter=\\\"url(#\" + filterId + \")\\\"\\n    d=\\\"\" + generalSVG.pathData[0] + \"\\\" />\\n \",\r\n    _a[\"\" + khmer_chess_1.PIECE_COLOR_BLACK + khmer_chess_1.PIECE_TYPE_KING] = \"\\n    \" + SVG_FILTER + \"\\n    <path fill=\\\"\" + exports.WOOD_COLORS.BLACK + \"\\\" filter=\\\"url(#\" + filterId + \")\\\"\\n    d=\\\"\" + kingSVG.pathData[0] + \"\\\" />\\n \",\r\n    _a[\"\" + khmer_chess_1.PIECE_COLOR_BLACK + khmer_chess_1.PIECE_TYPE_QUEEN] = \"\\n    \" + SVG_FILTER + \"\\n    <path fill=\\\"\" + exports.WOOD_COLORS.BLACK + \"\\\" filter=\\\"url(#\" + filterId + \")\\\"\\n    d=\\\"\" + queenSVG.pathData[0] + \"\\\" />\\n \",\r\n    _a[\"\" + khmer_chess_1.PIECE_COLOR_BLACK + khmer_chess_1.PIECE_TYPE_FISH] = \"\\n    \" + SVG_FILTER + \"\\n    <path fill=\\\"\" + exports.WOOD_COLORS.BLACK + \"\\\" filter=\\\"url(#\" + filterId + \")\\\"\\n    d=\\\"\" + fishSVG.pathData[0] + \"\\\" />\\n \",\r\n    _a[\"\" + khmer_chess_1.PIECE_COLOR_BLACK + khmer_chess_1.PIECE_TYPE_TRANSFORM_FISH] = \"\\n    \" + SVG_FILTER + \"\\n    <path fill=\\\"\" + exports.WOOD_COLORS.BLACK + \"\\\" filter=\\\"url(#\" + filterId + \")\\\"\\n    d=\\\"\" + transformFishSVG.pathData[0] + \"\\\" />\\n \",\r\n    _a);\r\nexports.svgCSS = {\r\n    attacked: function (color) { return \"path {\\n      stroke: red;\\n      stroke-width: 1px;\\n      stroke-linejoin: round;\\n      animation-name: attacking;\\n      animation-duration: 1s;\\n      animation-iteration-count: infinite;\\n   }\\n   @keyframes attacking {\\n      0% {\\n         stroke-width: 20px;\\n      }\\n      50% {\\n         stroke-width: 1px;\\n      }\\n      100% {\\n         stroke-width: 20px;\\n      }\\n   }\"; },\r\n    notAttacked: function (color) { return \"path {\\n   }\"; },\r\n    turn: function (color) { return \"path {\\n      stroke: #3d8a365f;\\n      stroke-width: 10px;\\n      stroke-linejoin: round;\\n   }\\n   \"; },\r\n    selected: function (color) { return 'background: radial-gradient(#ff00f577, #3d8a3677) !important;'; },\r\n    moved: function (color) { return 'background: radial-gradient(#c0aeee99, #94e9d788) !important;'; },\r\n    canMove: function (color) { return 'background: radial-gradient(#ff00f500, #3d8a3677) !important;'; },\r\n};\r\nfunction genBackgroundNote(tObjects, cellWidth, fSize) {\r\n    var text = tObjects.map(function (obj) {\r\n        return \"<text x='\" + obj.x + \"' y='\" + obj.y + \"' fill='grey' font-size='\" + fSize + \"'>\" + obj.t + \"</text>\";\r\n    }).join('');\r\n    var svg = \"<svg xmlns='http://www.w3.org/2000/svg' version='1.1' height='\" + cellWidth + \"px' width='\" + cellWidth + \"px'>\\n      \" + text + \"\\n   </svg>\";\r\n    return \"url(\\\"data:image/svg+xml;utf8,\" + encodeURIComponent(svg) + \"\\\")\";\r\n}\r\nexports.genBackgroundNote = genBackgroundNote;\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>, K4us Net <k4us.net@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n **/ \r\n//# sourceMappingURL=svg.js.map","export default __webpack_public_path__ + \"3871c59aa0d9809025bd8963b779eb48.mp3\";","export default __webpack_public_path__ + \"f39d9eb214416a5a32a0e060e2e4219d.mp3\";","export default __webpack_public_path__ + \"6843b5956a4523cf4ef83c84e0120752.mp3\";","\"use strict\";\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>, K4us Net <k4us.net@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n *---------------------------------------------------------------------------- */\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n});\r\nvar __importStar = (this && this.__importStar) || function (mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.khmerChessPieces = void 0;\r\nexports.khmerChessPieces = __importStar(require(\"./khmerChessPieces\"));\r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.transformFishSVG = exports.fishSVG = exports.boatSVG = exports.horseSVG = exports.generalSVG = exports.queenSVG = exports.kingSVG = void 0;\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>, K4us Net <k4us.net@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n *---------------------------------------------------------------------------- */\r\nvar svgson_1 = __importDefault(require(\"svgson\"));\r\nvar king = require('../font/svg-optimized/$K_KhmerChess.svg');\r\nvar queen = require('../font/svg-optimized/$Q_KhmerChess.svg');\r\nvar general = require('../font/svg-optimized/$G_KhmerChess.svg');\r\nvar horse = require('../font/svg-optimized/$H_KhmerChess.svg');\r\nvar boat = require('../font/svg-optimized/$B_KhmerChess.svg');\r\nvar fish = require('../font/svg-optimized/$F_KhmerChess.svg');\r\nvar transformFish = require('../font/svg-optimized/$T_KhmerChess.svg');\r\nvar SVGManager = /** @class */ (function () {\r\n    function SVGManager(svg) {\r\n        this.svgsonInstant = null;\r\n        this.svg = svg;\r\n    }\r\n    SVGManager.prototype.init = function () {\r\n        this.svgsonInstant = svgson_1.default.parseSync(this.svg);\r\n    };\r\n    Object.defineProperty(SVGManager.prototype, \"pathData\", {\r\n        get: function () {\r\n            if (!this.svgsonInstant) {\r\n                throw new Error('Call init() first');\r\n            }\r\n            return this.svgsonInstant.children.map(function (element) {\r\n                return element.attributes.d;\r\n            });\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(SVGManager.prototype, \"svgString\", {\r\n        get: function () {\r\n            if (!this.svgsonInstant) {\r\n                throw new Error('Call init() first');\r\n            }\r\n            return svgson_1.default.stringify(this.svgsonInstant);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return SVGManager;\r\n}());\r\nexports.kingSVG = new SVGManager(king);\r\nexports.queenSVG = new SVGManager(queen);\r\nexports.generalSVG = new SVGManager(general);\r\nexports.horseSVG = new SVGManager(horse);\r\nexports.boatSVG = new SVGManager(boat);\r\nexports.fishSVG = new SVGManager(fish);\r\nexports.transformFishSVG = new SVGManager(transformFish);\r\n//# sourceMappingURL=khmerChessPieces.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar package_json_1 = __importDefault(require(\"../package.json\"));\r\nvar constant_1 = require(\"./brain/constant\");\r\nvar KPGN_1 = __importDefault(require(\"./kpgn/KPGN\"));\r\nvar table_1 = __importDefault(require(\"./other/table\"));\r\nvar REN_1 = __importDefault(require(\"./ren/REN\"));\r\nvar KhmerChess = /** @class */ (function () {\r\n    function KhmerChess(renStr) {\r\n        var ren = REN_1.default.fromString(renStr);\r\n        this.kpgn = new KPGN_1.default(ren);\r\n    }\r\n    KhmerChess.prototype.loadKpng = function (option) {\r\n        this.kpgn.fromJson(option);\r\n    };\r\n    KhmerChess.prototype.resetBoard = function () {\r\n        this.kpgn.ren = REN_1.default.fromString();\r\n    };\r\n    KhmerChess.prototype.getCanMoves = function () {\r\n        var pieceIndices = this.kpgn.ren.genAllCanMoves();\r\n        return pieceIndices;\r\n    };\r\n    KhmerChess.prototype.getCanMovePointsByPoint = function (point) {\r\n        var canMovePoints = this.kpgn.ren.getCanMovePointsByPoint(point);\r\n        return canMovePoints;\r\n    };\r\n    KhmerChess.prototype.validateRENStr = function (renStr) {\r\n        try {\r\n            REN_1.default.fromString(renStr);\r\n            return { valid: true, error_number: 0, error: 'No errors.' };\r\n        }\r\n        catch (error) {\r\n            return { valid: false, error_number: 1, error: error.message };\r\n        }\r\n    };\r\n    KhmerChess.prototype.getRENStr = function () {\r\n        return this.kpgn.ren.toString();\r\n    };\r\n    Object.defineProperty(KhmerChess.prototype, \"piecesInBoardMultiArray\", {\r\n        get: function () {\r\n            return this.kpgn.ren.board.piecesMultiArray;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(KhmerChess.prototype, \"piecesInBoard\", {\r\n        get: function () {\r\n            return this.kpgn.ren.board.pieces;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(KhmerChess.prototype, \"piecesInGraveyard\", {\r\n        get: function () {\r\n            return this.kpgn.ren.graveyard.pieces;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    // Khmer Portable Game Notation <file-name>.kpgn.json\r\n    KhmerChess.prototype.getKPGN = function () {\r\n        return this.kpgn.toJson();\r\n    };\r\n    KhmerChess.prototype.loadKpgn = function (kpgnJosn, options) {\r\n        this.kpgn = new KPGN_1.default(this.kpgn.ren);\r\n    };\r\n    KhmerChess.prototype.drawAscii = function () {\r\n        return (0, table_1.default)(this.kpgn.ren);\r\n    };\r\n    Object.defineProperty(KhmerChess.prototype, \"turn\", {\r\n        get: function () {\r\n            return this.kpgn.ren.turn;\r\n        },\r\n        set: function (turn) {\r\n            this.kpgn.ren.turn = turn;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    KhmerChess.prototype.move = function (moveFromIndex, moveToIndex) {\r\n        var move = this.kpgn.ren.move(moveFromIndex, moveToIndex);\r\n        this.kpgn.addMove(move);\r\n        return move;\r\n    };\r\n    /**\r\n     * Move all pieces to graveyard except kings\r\n     * -> 4k3/8/8/8/8/8/8/3K4 w ---- -- -.- bhgqghbffffffffFFFFFFFFBHGQGHB\r\n     */\r\n    KhmerChess.prototype.clearBoard = function () {\r\n        this.kpgn.ren = REN_1.default.fromString('4k3/8/8/8/8/8/8/3K4 w ---- -- -.- bhgqghbffffffffFFFFFFFFBHGQGHB');\r\n    };\r\n    KhmerChess.prototype.getHistories = function () {\r\n        return this.kpgn.moves;\r\n    };\r\n    KhmerChess.toKhmerNum = function (englishNum) {\r\n        var str = \"\" + englishNum;\r\n        var result = str.split('').map(function (c) {\r\n            return constant_1.VERTICAL_NOTE_LETTERS[constant_1.VERTICAL_NOTE_LETTERS_ENGLISH.indexOf(c)];\r\n        }).join('');\r\n        return result;\r\n    };\r\n    KhmerChess.title = package_json_1.default.name;\r\n    KhmerChess.version = package_json_1.default.version;\r\n    return KhmerChess;\r\n}());\r\nexports.default = KhmerChess;\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n *---------------------------------------------------------------------------- */ \r\n//# sourceMappingURL=KhmerChess.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar constant_1 = require(\"./constant\");\r\nvar HVPont = /** @class */ (function () {\r\n    function HVPont(h, v) {\r\n        if (!v) {\r\n            h = h[0];\r\n            v = h[1];\r\n        }\r\n        this.h = h;\r\n        this.v = Number(v);\r\n    }\r\n    Object.defineProperty(HVPont.prototype, \"x\", {\r\n        get: function () {\r\n            return constant_1.HORIZONTAL_CODE_LETTERS.indexOf(this.h);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(HVPont.prototype, \"y\", {\r\n        get: function () {\r\n            return this.v - 1;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(HVPont.prototype, \"indexCode\", {\r\n        get: function () {\r\n            return \"\" + this.h + this.v;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    return HVPont;\r\n}());\r\nexports.default = HVPont;\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n *---------------------------------------------------------------------------- */ \r\n//# sourceMappingURL=HVPont.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Piece_1 = __importDefault(require(\"../ren/Piece\"));\r\nvar boardHelper_1 = __importDefault(require(\"./boardHelper\"));\r\nvar constant_1 = require(\"./constant\");\r\nvar MoveHelper = /** @class */ (function () {\r\n    function MoveHelper() {\r\n        this.piecesString = '';\r\n        this.currentTurn = '';\r\n        this.isQueenMoved = false;\r\n        this.isKingMoved = false;\r\n        this.genCanMove = false;\r\n        this.genCanMoveForAnother = false;\r\n        this.whiteMoves = [];\r\n        this.blackMoves = [];\r\n        this.whiteKingInDanger = null;\r\n        this.whiteKingWillInDanger = null;\r\n        this.blackKingInDanger = null;\r\n        this.blackKingWillInDanger = null;\r\n        this.winColor = null;\r\n        this.stuckColor = null;\r\n    }\r\n    Object.defineProperty(MoveHelper.prototype, \"isWhiteTurn\", {\r\n        get: function () {\r\n            return Piece_1.default.isWhiteColor(this.currentTurn);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    MoveHelper.prototype.init = function (option) {\r\n        this.piecesString = option.piecesString;\r\n        this.currentTurn = option.currentTurn;\r\n        this.isQueenMoved = option.isQueenMoved;\r\n        this.isKingMoved = option.isKingMoved;\r\n        this.genCanMove = option.genCanMove;\r\n        this.genCanMoveForAnother = option.genCanMoveForAnother;\r\n        this.whiteMoves = [];\r\n        this.blackMoves = [];\r\n        this.whiteKingInDanger = null;\r\n        this.whiteKingWillInDanger = null;\r\n        this.blackKingInDanger = null;\r\n        this.blackKingWillInDanger = null;\r\n        this.winColor = null;\r\n        this.stuckColor = null;\r\n    };\r\n    MoveHelper.prototype.generateCanMoves = function () {\r\n        var _this = this;\r\n        var filter = boardHelper_1.default.filterPieceInBoard(this.piecesString);\r\n        this.whiteMoves = filter.whitePieces;\r\n        this.blackMoves = filter.blackPieces;\r\n        var genMoves = function (pieceIndices) {\r\n            pieceIndices.forEach(function (pieceIndex) {\r\n                var isHaveMoved = _this.isKingMoved;\r\n                if (pieceIndex.piece !== null) {\r\n                    if (pieceIndex.piece !== null && !pieceIndex.piece.isTypeKing) {\r\n                        isHaveMoved = pieceIndex.piece.isTypeQueen ? _this.isQueenMoved : false;\r\n                    }\r\n                    var canMovePoints = _this.genCanMovePointsByPiecePoint(pieceIndex.point, pieceIndex.piece, _this.piecesString, isHaveMoved);\r\n                    pieceIndex.canMovePoints = canMovePoints;\r\n                }\r\n            });\r\n        };\r\n        genMoves(this.whiteMoves);\r\n        genMoves(this.blackMoves);\r\n    };\r\n    MoveHelper.prototype.cleanPieceNoMove = function () {\r\n        var cleanMoves = function (pieces) {\r\n            var isTrue = true;\r\n            while (isTrue) {\r\n                isTrue = false;\r\n                for (var i = 0; i < pieces.length; i++) {\r\n                    var piece = pieces[i];\r\n                    if (!piece.canMovePoints.length) {\r\n                        pieces.splice(i, 1);\r\n                        isTrue = true;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        cleanMoves(this.whiteMoves);\r\n        cleanMoves(this.blackMoves);\r\n    };\r\n    MoveHelper.prototype.checkIfKingInDanger = function () {\r\n        this.whiteKingInDanger = boardHelper_1.default.getKingInDanger(constant_1.PIECE_COLOR_WHITE, this.piecesString);\r\n        this.whiteKingWillInDanger = boardHelper_1.default.getKingWillInDanger(constant_1.PIECE_COLOR_WHITE, this.piecesString);\r\n        this.blackKingInDanger = boardHelper_1.default.getKingInDanger(constant_1.PIECE_COLOR_BLACK, this.piecesString);\r\n        this.blackKingWillInDanger = boardHelper_1.default.getKingWillInDanger(constant_1.PIECE_COLOR_BLACK, this.piecesString);\r\n    };\r\n    MoveHelper.prototype.genWinLost = function () {\r\n        if (this.whiteKingInDanger && !this.whiteMoves.length) {\r\n            this.winColor = constant_1.PIECE_COLOR_BLACK;\r\n        }\r\n        else if (this.blackKingInDanger && !this.blackMoves.length) {\r\n            this.winColor = constant_1.PIECE_COLOR_WHITE;\r\n        }\r\n    };\r\n    MoveHelper.prototype.getStuck = function () {\r\n        if (this.winColor) {\r\n            return;\r\n        }\r\n        if (this.isWhiteTurn && !this.whiteMoves.length) {\r\n            this.stuckColor = constant_1.PIECE_COLOR_WHITE;\r\n        }\r\n        else if (!this.isWhiteTurn && !this.blackMoves.length) {\r\n            this.stuckColor = constant_1.PIECE_COLOR_BLACK;\r\n        }\r\n    };\r\n    MoveHelper.prototype.calcCanMove = function (option) {\r\n        this.init(option);\r\n        this.generateCanMoves();\r\n        this.cleanPieceNoMove();\r\n        var moves = [];\r\n        if (this.genCanMove) {\r\n            moves = this.isWhiteTurn ? this.whiteMoves : this.blackMoves;\r\n        }\r\n        var anotherMoves = [];\r\n        if (this.genCanMoveForAnother) {\r\n            anotherMoves = !this.isWhiteTurn ? this.whiteMoves : this.blackMoves;\r\n        }\r\n        return {\r\n            moves: moves,\r\n            anotherMoves: anotherMoves,\r\n        };\r\n    };\r\n    MoveHelper.prototype.calcState = function (option) {\r\n        this.init(option);\r\n        this.generateCanMoves();\r\n        this.cleanPieceNoMove();\r\n        this.checkIfKingInDanger();\r\n        this.genWinLost();\r\n        this.getStuck();\r\n        return {\r\n            blackKingInDanger: this.blackKingInDanger,\r\n            whiteKingInDanger: this.whiteKingInDanger,\r\n            blackKingWillInDanger: this.blackKingWillInDanger,\r\n            whiteKingWillInDanger: this.whiteKingWillInDanger,\r\n            winColor: this.winColor,\r\n            stuckColor: this.stuckColor,\r\n        };\r\n    };\r\n    MoveHelper.prototype.calCount = function (_a) {\r\n        var color = _a.color, piecesString = _a.piecesString, force = _a.force;\r\n        return boardHelper_1.default.checkCount(color, piecesString, force);\r\n    };\r\n    MoveHelper.prototype.genCanMovePointsByPiecePoint = function (point, piece, piecesString, isHasMoved) {\r\n        return boardHelper_1.default.genCanMovePointsByPiecePoint(point.index, piece, piecesString, isHasMoved);\r\n    };\r\n    return MoveHelper;\r\n}());\r\nexports.default = MoveHelper;\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n *---------------------------------------------------------------------------- */ \r\n//# sourceMappingURL=MoveHelper.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar constant_1 = require(\"./constant\");\r\nvar Rectangle = /** @class */ (function () {\r\n    function Rectangle(x, y, width, height) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.width = width;\r\n        this.height = height;\r\n    }\r\n    Rectangle.prototype.isContainsPoint = function (point) {\r\n        var x = point.x, y = point.y;\r\n        var isContainsPoint = this.x <= x &&\r\n            (this.x + this.width) >= x &&\r\n            this.y <= y &&\r\n            (this.y + this.height) >= y;\r\n        return isContainsPoint;\r\n    };\r\n    Rectangle.isValidPoint = function (point) {\r\n        return new Rectangle(0, 0, constant_1.ROW_LAST_INDEX, constant_1.ROW_LAST_INDEX).isContainsPoint(point);\r\n    };\r\n    return Rectangle;\r\n}());\r\nexports.default = Rectangle;\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n *---------------------------------------------------------------------------- */ \r\n//# sourceMappingURL=Rectangle.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.CountUpState = void 0;\r\nvar genMask_1 = __importDefault(require(\"./genMask\"));\r\nvar constant_1 = require(\"./constant\");\r\nvar Point_1 = __importDefault(require(\"../ren/Point\"));\r\nvar Piece_1 = __importDefault(require(\"../ren/Piece\"));\r\nvar Rectangle_1 = __importDefault(require(\"./Rectangle\"));\r\nvar ren_1 = require(\"../ren\");\r\nvar mask = (0, genMask_1.default)();\r\nvar CountUpState = /** @class */ (function () {\r\n    function CountUpState(countingNumber, countingToNumber) {\r\n        this.countingNumber = countingNumber;\r\n        this.countingToNumber = countingToNumber;\r\n    }\r\n    return CountUpState;\r\n}());\r\nexports.CountUpState = CountUpState;\r\nvar BoardHelper = /** @class */ (function () {\r\n    function BoardHelper() {\r\n        this.convertMask = function (point1, index, color) {\r\n            var sign = Piece_1.default.isWhiteColor(color) ? 1 : -1;\r\n            var point2 = Point_1.default.fromIndex(index);\r\n            point1.x = point1.x * sign + point2.x;\r\n            point1.y = point1.y * sign + point2.y;\r\n            return Rectangle_1.default.isValidPoint(point1) ? point1.index : null;\r\n        };\r\n    }\r\n    BoardHelper.prototype.getCharPieceFromString = function (piecesString, index) {\r\n        if (Point_1.default.isIndexInBoard(index) && piecesString.length === constant_1.CELL_COUNT) {\r\n            return piecesString[index];\r\n        }\r\n        return constant_1.EMPTY_PIECE;\r\n    };\r\n    BoardHelper.prototype.getCharPieceInPos = function (index, piecesString) {\r\n        return this.getCharPieceFromString(piecesString, index);\r\n    };\r\n    BoardHelper.prototype.getPieceByIndex = function (index, piecesString) {\r\n        var charCode = this.getCharPieceInPos(index, piecesString);\r\n        return {\r\n            isValidPiece: Piece_1.default.isValidPiece(charCode),\r\n            piece: Piece_1.default.fromCharCode(charCode),\r\n        };\r\n    };\r\n    BoardHelper.prototype.getPieceCanMovePoses = function (index, piece) {\r\n        var _this = this;\r\n        var pieceIndices = [];\r\n        mask[piece.type].forEach(function (_pos) {\r\n            var newIndex = _this.convertMask(new Point_1.default(_pos[0], _pos[1]), index, piece.color);\r\n            if (newIndex !== null) {\r\n                pieceIndices.push(newIndex);\r\n            }\r\n        });\r\n        return pieceIndices;\r\n    };\r\n    BoardHelper.prototype.getPieceCanMovePosesValid = function (index, piece, piecesString) {\r\n        var _poses = this.getPieceCanMovePoses(index, piece);\r\n        var pieceIndices = [];\r\n        var n = _poses.length;\r\n        var thisPos = Point_1.default.fromIndex(index);\r\n        for (var i = 0; i < n; i++) {\r\n            var p = Point_1.default.fromIndex(_poses[i]);\r\n            var distPiece = this.getPieceByIndex(p.index, piecesString);\r\n            if (distPiece.isValidPiece) {\r\n                if (distPiece.piece && piece.color === distPiece.piece.color ||\r\n                    (piece.isTypeFish && p.x === thisPos.x)) {\r\n                    p = null;\r\n                }\r\n            }\r\n            else {\r\n                if (piece.isTypeFish && p.x !== thisPos.x) {\r\n                    p = null;\r\n                }\r\n            }\r\n            if (p !== null && piece.isTypeBoat) {\r\n                var _x = thisPos.x;\r\n                var _y = thisPos.y;\r\n                if (p.x === thisPos.x) {\r\n                    var _n = Math.abs(p.y - thisPos.y);\r\n                    var _s = thisPos.y < p.y ? 1 : -1;\r\n                    while (--_n > 0) {\r\n                        if (this.getPieceByIndex(Point_1.default.xyToIndex(_x, _y + _s * _n), piecesString).isValidPiece) {\r\n                            p = null;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                else if (p.y === thisPos.y) {\r\n                    var _n = Math.abs(p.x - thisPos.x);\r\n                    var _s = thisPos.x < p.x ? 1 : -1;\r\n                    while (--_n > 0) {\r\n                        if (this.getPieceByIndex(Point_1.default.xyToIndex(_x + _s * _n, _y), piecesString).isValidPiece) {\r\n                            p = null;\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (p !== null) {\r\n                pieceIndices.push(_poses[i]);\r\n            }\r\n        }\r\n        return pieceIndices;\r\n    };\r\n    BoardHelper.prototype.replacePiecesStringAtIndex = function (piecesString, charCode, index) {\r\n        return piecesString.substring(0, index) + charCode + piecesString.substring(index + 1);\r\n    };\r\n    BoardHelper.prototype.injectPiece = function (piecesString, index1, index2) {\r\n        var c = piecesString[index1];\r\n        if (!this.isCharPiecesInBoard(c, piecesString)) {\r\n            return null;\r\n        }\r\n        piecesString = this.replacePiecesStringAtIndex(piecesString, constant_1.EMPTY_PIECE, index1);\r\n        piecesString = this.replacePiecesStringAtIndex(piecesString, c, index2);\r\n        return piecesString;\r\n    };\r\n    BoardHelper.prototype.getKingWillInDanger = function (color, piecesString) {\r\n        var kingPos = piecesString.indexOf(new Piece_1.default(constant_1.PIECE_TYPE_KING, color).pieceCharCode);\r\n        var n = piecesString.length;\r\n        for (var i = 0; i < n; i++) {\r\n            var p = this.getPieceByIndex(i, piecesString);\r\n            if (p.piece !== null && p.isValidPiece && p.piece.color !== color &&\r\n                p.piece.isTypeBoat) {\r\n                var _poses = this.getPieceCanMovePoses(i, p.piece);\r\n                for (var j = 0; j < _poses.length; j++) {\r\n                    if (_poses[j] === kingPos) {\r\n                        return [Point_1.default.fromIndex(i), Point_1.default.fromIndex(kingPos)];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    BoardHelper.prototype.getKingInDanger = function (color, piecesString) {\r\n        var kingPos = piecesString.indexOf(new Piece_1.default(constant_1.PIECE_TYPE_KING, color).pieceCharCode);\r\n        var n = piecesString.length;\r\n        for (var i = 0; i < n; i++) {\r\n            var p = this.getPieceByIndex(i, piecesString);\r\n            if (p.piece !== null && p.isValidPiece && p.piece.color !== color) {\r\n                var _poses = this.getPieceCanMovePosesValid(i, p.piece, piecesString);\r\n                for (var j = 0; j < _poses.length; j++) {\r\n                    if (_poses[j] === kingPos) {\r\n                        return [Point_1.default.fromIndex(i), Point_1.default.fromIndex(kingPos)];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n    BoardHelper.prototype.genCanMovePointsByPiecePoint = function (index, piece, piecesString, isHasMoved) {\r\n        var _poses = this.getPieceCanMovePosesValid(index, piece, piecesString);\r\n        var isHaveCaptured = this.isHaveCaptured(piecesString);\r\n        if (piece.isTypeKing) {\r\n            if (!isHaveCaptured && !isHasMoved) {\r\n                var p = this.convertMask(new Point_1.default(2, 1), index, piece.color);\r\n                if (p && !this.getPieceByIndex(p, piecesString).isValidPiece) {\r\n                    _poses.push(p);\r\n                }\r\n                p = this.convertMask(new Point_1.default(-2, 1), index, piece.color);\r\n                if (p && !this.getPieceByIndex(p, piecesString).isValidPiece) {\r\n                    _poses.push(p);\r\n                }\r\n            }\r\n        }\r\n        else if (piece.isTypeQueen) {\r\n            if (!isHaveCaptured && !isHasMoved) {\r\n                var p = this.convertMask(new Point_1.default(-0, 2), index, piece.color);\r\n                if (p && !this.getPieceByIndex(p, piecesString).isValidPiece) {\r\n                    _poses.push(p);\r\n                }\r\n            }\r\n        }\r\n        var n = _poses.length;\r\n        var points = [];\r\n        for (var i = 0; i < n; i++) {\r\n            var str = this.injectPiece(piecesString, index, _poses[i]);\r\n            if (str !== null && this.getKingInDanger(piece.color, str) === null) {\r\n                points.push(Point_1.default.fromIndex(_poses[i]));\r\n            }\r\n        }\r\n        return points;\r\n    };\r\n    BoardHelper.prototype.isCharPiecesInBoard = function (code, piecesString) {\r\n        return !!~piecesString.indexOf(code);\r\n    };\r\n    BoardHelper.prototype.getPiecesInBoard = function (piecesString) {\r\n        return piecesString.split('').filter(function (charCode) {\r\n            return Piece_1.default.isValidPiece(charCode);\r\n        });\r\n    };\r\n    BoardHelper.prototype.isHaveCaptured = function (piecesString) {\r\n        return this.getPiecesInBoard(piecesString).length < constant_1.ROW_NUMBER * 4;\r\n    };\r\n    BoardHelper.prototype.filterPieceInBoard = function (piecesString) {\r\n        var whitePieces = [];\r\n        var blackPieces = [];\r\n        for (var i = 0; i < piecesString.length; i++) {\r\n            var charCode = piecesString[i];\r\n            if (Piece_1.default.isValidPiece(charCode)) {\r\n                var pieceIndex = new ren_1.PieceIndex(Point_1.default.fromIndex(i), Piece_1.default.fromCharCode(charCode));\r\n                if (pieceIndex.piece !== null && pieceIndex.piece.isColorWhite) {\r\n                    whitePieces.push(pieceIndex);\r\n                }\r\n                else {\r\n                    blackPieces.push(pieceIndex);\r\n                }\r\n            }\r\n        }\r\n        return {\r\n            whitePieces: whitePieces,\r\n            blackPieces: blackPieces,\r\n        };\r\n    };\r\n    BoardHelper.prototype.extractPiecesToArray = function (piecesString) {\r\n        var _a;\r\n        var piecesStringArr = piecesString.split('');\r\n        var pieceAll = (_a = {},\r\n            _a[constant_1.PIECE_COLOR_BLACK] = [],\r\n            _a[constant_1.PIECE_COLOR_WHITE] = [],\r\n            _a);\r\n        piecesStringArr.forEach(function (charCode) {\r\n            if (charCode === constant_1.EMPTY_PIECE) {\r\n                return;\r\n            }\r\n            var piece = Piece_1.default.fromCharCode(charCode);\r\n            if (piece) {\r\n                pieceAll[piece.color].push(piece.type);\r\n            }\r\n        });\r\n        return pieceAll;\r\n    };\r\n    BoardHelper.prototype.isStateCount = function (c, piecesString) {\r\n        var allPieces = this.extractPiecesToArray(piecesString);\r\n        return allPieces[c].length === 1;\r\n    };\r\n    BoardHelper.prototype.checkCountable = function (color, piecesString) {\r\n        var pieceAll = this.extractPiecesToArray(piecesString);\r\n        var weaker = pieceAll[color];\r\n        var stronger = pieceAll[Piece_1.default.oppositeColor(color)];\r\n        return weaker.length <= 2 && stronger.length >= 2;\r\n    };\r\n    BoardHelper.prototype.checkCount = function (color, piecesString, force) {\r\n        var countChar = function (str, c) {\r\n            return str.join('').split(c).length - 1;\r\n        };\r\n        var charExist = function (str, c) {\r\n            return !!~str.indexOf(c);\r\n        };\r\n        var pieceAll = this.extractPiecesToArray(piecesString);\r\n        var weaker = pieceAll[color];\r\n        var stronger = pieceAll[Piece_1.default.oppositeColor(color)];\r\n        if (weaker.length === 1 && stronger.length > 1) {\r\n            if (!charExist(stronger, constant_1.PIECE_TYPE_FISH)) {\r\n                var count = 64;\r\n                var toukCount = countChar(stronger, constant_1.PIECE_TYPE_BOAT);\r\n                if (toukCount) {\r\n                    count = toukCount > 1 ? 8 : 16;\r\n                }\r\n                else if (countChar(stronger, constant_1.PIECE_TYPE_GENERAL) > 1) {\r\n                    count = 22;\r\n                }\r\n                else if (countChar(stronger, constant_1.PIECE_TYPE_HORSE) > 1) {\r\n                    count = 32;\r\n                }\r\n                else if (countChar(stronger, constant_1.PIECE_TYPE_GENERAL)) {\r\n                    count = 44;\r\n                }\r\n                // FIXME: when touk 2 and stronger.length > 8 => start > count\r\n                var start = stronger.length;\r\n                if (start > 4) {\r\n                    start = 4;\r\n                }\r\n                return new CountUpState(start, count);\r\n            }\r\n            return new CountUpState(0, 64);\r\n        }\r\n        else if (force && this.checkCountable(color, piecesString)) {\r\n            return new CountUpState(0, 64);\r\n        }\r\n        return null;\r\n    };\r\n    BoardHelper.prototype.isUpgradable = function (piece, point) {\r\n        if (piece.isTypeFish) {\r\n            if (piece.isColorBlack && point.y <= 2) {\r\n                return true;\r\n            }\r\n            if (piece.isColorWhite && point.y >= 5) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    };\r\n    return BoardHelper;\r\n}());\r\n;\r\nexports.default = new BoardHelper();\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n *---------------------------------------------------------------------------- */ \r\n//# sourceMappingURL=boardHelper.js.map","\"use strict\";\r\nvar _a, _b, _c, _d;\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.VERTICAL_NOTE_LETTERS_ENGLISH = exports.HORIZONTAL_NOTE_LETTERS_ENGLISH = exports.VERTICAL_NOTE_LETTERS = exports.HORIZONTAL_NOTE_LETTERS = exports.HORIZONTAL_CODE_LETTERS = exports.CELL_COUNT = exports.ROW_LAST_INDEX = exports.ROW_FIRST_INDEX = exports.ROW_NUMBER = exports.BOARD_SEPARATOR = exports.PIECE_COLOR_EMPTY = exports.EMPTY_PIECE = exports.PIECE_NAMES_ENGLISH = exports.PIECE_NAMES = exports.PIECE_TYPE_TRANSFORM_FISH = exports.PIECE_TYPE_FISH = exports.PIECE_TYPE_QUEEN = exports.PIECE_TYPE_KING = exports.PIECE_TYPE_GENERAL = exports.PIECE_TYPE_HORSE = exports.PIECE_TYPE_BOAT = exports.COLOR_NAMES_ENGLISH = exports.COLOR_NAMES = exports.PIECE_COLOR_BLACK = exports.PIECE_COLOR_WHITE = void 0;\r\nexports.PIECE_COLOR_WHITE = 'w';\r\nexports.PIECE_COLOR_BLACK = 'b';\r\nexports.COLOR_NAMES = (_a = {},\r\n    _a[exports.PIECE_COLOR_BLACK] = 'ខ្មៅ',\r\n    _a[exports.PIECE_COLOR_WHITE] = 'ស',\r\n    _a);\r\nexports.COLOR_NAMES_ENGLISH = (_b = {},\r\n    _b[exports.PIECE_COLOR_BLACK] = 'black',\r\n    _b[exports.PIECE_COLOR_WHITE] = 'white',\r\n    _b);\r\nexports.PIECE_TYPE_BOAT = 'b'; // Boat\r\nexports.PIECE_TYPE_HORSE = 'h'; // Horse\r\nexports.PIECE_TYPE_GENERAL = 'g'; // General\r\nexports.PIECE_TYPE_KING = 'k'; // King\r\nexports.PIECE_TYPE_QUEEN = 'q'; // Queen\r\nexports.PIECE_TYPE_FISH = 'f'; // Fish\r\nexports.PIECE_TYPE_TRANSFORM_FISH = 't'; // Transform fish\r\nexports.PIECE_NAMES = (_c = {},\r\n    _c[exports.PIECE_TYPE_BOAT] = 'ទូក',\r\n    _c[exports.PIECE_TYPE_HORSE] = 'សេះ',\r\n    _c[exports.PIECE_TYPE_GENERAL] = 'គោល',\r\n    _c[exports.PIECE_TYPE_KING] = 'ស្តេច',\r\n    _c[exports.PIECE_TYPE_QUEEN] = 'នាង',\r\n    _c[exports.PIECE_TYPE_FISH] = 'ត្រី',\r\n    _c[exports.PIECE_TYPE_TRANSFORM_FISH] = 'ត្រីបក',\r\n    _c);\r\nexports.PIECE_NAMES_ENGLISH = (_d = {},\r\n    _d[exports.PIECE_TYPE_BOAT] = 'boat',\r\n    _d[exports.PIECE_TYPE_HORSE] = 'horse',\r\n    _d[exports.PIECE_TYPE_GENERAL] = 'general',\r\n    _d[exports.PIECE_TYPE_KING] = 'king',\r\n    _d[exports.PIECE_TYPE_QUEEN] = 'queen',\r\n    _d[exports.PIECE_TYPE_FISH] = 'fish',\r\n    _d[exports.PIECE_TYPE_TRANSFORM_FISH] = 'transformed-fish',\r\n    _d);\r\nexports.EMPTY_PIECE = '.';\r\nexports.PIECE_COLOR_EMPTY = '.';\r\nexports.BOARD_SEPARATOR = '/';\r\nexports.ROW_NUMBER = 8;\r\nexports.ROW_FIRST_INDEX = 0;\r\nexports.ROW_LAST_INDEX = 7;\r\nexports.CELL_COUNT = exports.ROW_NUMBER * exports.ROW_NUMBER;\r\nexports.HORIZONTAL_CODE_LETTERS = 'abcdefgh';\r\nexports.HORIZONTAL_NOTE_LETTERS = ['ក', 'ខ', 'គ', 'ឃ', 'ង', 'ច', 'ឆ', 'ជ'];\r\nexports.VERTICAL_NOTE_LETTERS = ['០', '១', '២', '៣', '៤', '៥', '៦', '៧', '៨', '៩'];\r\nexports.HORIZONTAL_NOTE_LETTERS_ENGLISH = 'abcdefgh';\r\nexports.VERTICAL_NOTE_LETTERS_ENGLISH = Array.from({ length: 10 }, function (_, i) { return \"\" + i; });\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n *---------------------------------------------------------------------------- */ \r\n//# sourceMappingURL=constant.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar constant_1 = require(\"./constant\");\r\nfunction genMask() {\r\n    var mask = {};\r\n    mask[constant_1.PIECE_TYPE_BOAT] = [\r\n        [0, 1], [0, 2], [0, 3], [0, 4], [0, 5], [0, 6], [0, 7], [0, 8],\r\n        [0, -1], [0, -2], [0, -3], [0, -4], [0, -5], [0, -6], [0, -7], [0, -8],\r\n        [1, 0], [2, 0], [3, 0], [4, 0], [5, 0], [6, 0], [7, 0], [8, 0],\r\n        [-1, 0], [-2, 0], [-3, 0], [-4, 0], [-5, 0], [-6, 0], [-7, 0], [-8, 0],\r\n    ];\r\n    mask[constant_1.PIECE_TYPE_HORSE] = [\r\n        [-1, -2],\r\n        [1, -2],\r\n        [-2, -1],\r\n        [2, -1],\r\n        [-1, 2],\r\n        [1, 2],\r\n        [-2, 1],\r\n        [2, 1],\r\n    ];\r\n    mask[constant_1.PIECE_TYPE_QUEEN] = [\r\n        [-1, -1],\r\n        [1, -1],\r\n        [-1, 1],\r\n        [1, 1],\r\n    ];\r\n    mask[constant_1.PIECE_TYPE_GENERAL] = mask[constant_1.PIECE_TYPE_QUEEN].concat([\r\n        [0, 1],\r\n    ]);\r\n    mask[constant_1.PIECE_TYPE_KING] = mask[constant_1.PIECE_TYPE_GENERAL].concat([\r\n        [0, -1],\r\n        [1, 0],\r\n        [-1, 0],\r\n    ]);\r\n    mask[constant_1.PIECE_TYPE_FISH] = [\r\n        [0, 1],\r\n        [-1, 1],\r\n        [1, 1],\r\n    ];\r\n    mask[constant_1.PIECE_TYPE_TRANSFORM_FISH] = mask[constant_1.PIECE_TYPE_QUEEN];\r\n    return mask;\r\n}\r\nexports.default = genMask;\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n *---------------------------------------------------------------------------- */ \r\n//# sourceMappingURL=genMask.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MoveHelper = exports.HVPont = exports.genMask = exports.boardHelper = exports.Rectangle = void 0;\r\nvar Rectangle_1 = require(\"./Rectangle\");\r\nObject.defineProperty(exports, \"Rectangle\", { enumerable: true, get: function () { return __importDefault(Rectangle_1).default; } });\r\nvar boardHelper_1 = require(\"./boardHelper\");\r\nObject.defineProperty(exports, \"boardHelper\", { enumerable: true, get: function () { return __importDefault(boardHelper_1).default; } });\r\nvar genMask_1 = require(\"./genMask\");\r\nObject.defineProperty(exports, \"genMask\", { enumerable: true, get: function () { return __importDefault(genMask_1).default; } });\r\nvar HVPont_1 = require(\"./HVPont\");\r\nObject.defineProperty(exports, \"HVPont\", { enumerable: true, get: function () { return __importDefault(HVPont_1).default; } });\r\nvar MoveHelper_1 = require(\"./MoveHelper\");\r\nObject.defineProperty(exports, \"MoveHelper\", { enumerable: true, get: function () { return __importDefault(MoveHelper_1).default; } });\r\n__exportStar(require(\"./constant\"), exports);\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n *---------------------------------------------------------------------------- */ \r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.KhmerChess = void 0;\r\n__exportStar(require(\"./brain\"), exports);\r\n__exportStar(require(\"./kpgn\"), exports);\r\n__exportStar(require(\"./ren\"), exports);\r\n__exportStar(require(\"./other\"), exports);\r\nvar KhmerChess_1 = require(\"./KhmerChess\");\r\nObject.defineProperty(exports, \"KhmerChess\", { enumerable: true, get: function () { return __importDefault(KhmerChess_1).default; } });\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n *---------------------------------------------------------------------------- */ \r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Captured = /** @class */ (function () {\r\n    function Captured(_a) {\r\n        var piece = _a.piece, fromBoardPoint = _a.fromBoardPoint, toGraveyardPoint = _a.toGraveyardPoint;\r\n        this.piece = piece;\r\n        this.fromBoardPoint = fromBoardPoint;\r\n        this.toGraveyardPoint = toGraveyardPoint;\r\n    }\r\n    return Captured;\r\n}());\r\nexports.default = Captured;\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n *---------------------------------------------------------------------------- */ \r\n//# sourceMappingURL=Captured.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar REN_1 = __importDefault(require(\"../ren/REN\"));\r\nvar Move_1 = __importDefault(require(\"./Move\"));\r\nvar Player_1 = __importDefault(require(\"./Player\"));\r\nvar Result_1 = __importDefault(require(\"./Result\"));\r\nvar Timer_1 = __importDefault(require(\"./Timer\"));\r\nvar base64Helper_1 = __importDefault(require(\"../other/base64Helper\"));\r\nvar KPGN = /** @class */ (function () {\r\n    function KPGN(ren) {\r\n        this.event = '';\r\n        this.date = null;\r\n        this.location = '';\r\n        this.players = {\r\n            white: new Player_1.default({}),\r\n            black: new Player_1.default({}),\r\n        };\r\n        this.result = {\r\n            last: {\r\n                whiteWin: false,\r\n                blackWin: false,\r\n            },\r\n            white: new Result_1.default({}),\r\n        };\r\n        this.timer = new Timer_1.default({});\r\n        this.ren = ren;\r\n        this.moves = [];\r\n    }\r\n    Object.defineProperty(KPGN.prototype, \"isCanMoveNext\", {\r\n        get: function () {\r\n            var _a;\r\n            return ((_a = this.latestMove) === null || _a === void 0 ? void 0 : _a.isCanMoveNext) && this.ren.isCanMoveNext;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(KPGN.prototype, \"latestMove\", {\r\n        get: function () {\r\n            return this.moves[this.moves.length - 1] || null;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    KPGN.prototype.addMove = function (move) {\r\n        if (move) {\r\n            this.moves.push(move);\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    KPGN.prototype.getMove = function (index) {\r\n        return this.moves[index] || null;\r\n    };\r\n    KPGN.prototype.loadRENStr = function (renStr) {\r\n        this.ren = REN_1.default.fromString(renStr);\r\n        if (this.latestMove) {\r\n            this.ren.syncWithMove(this.latestMove);\r\n        }\r\n    };\r\n    KPGN.prototype.loadMovesStrings = function (moves) {\r\n        var currentRen = this.ren;\r\n        this.moves = moves.reverse().map(function (moveStr) {\r\n            var move = Move_1.default.fromString(moveStr, currentRen);\r\n            if (move === null) {\r\n                throw new Error('Invalid move string');\r\n            }\r\n            currentRen = currentRen.backRen(move);\r\n            return move;\r\n        }).reverse();\r\n        if (this.latestMove) {\r\n            this.ren.syncWithMove(this.latestMove);\r\n        }\r\n    };\r\n    KPGN.prototype.fromJson = function (option) {\r\n        try {\r\n            var ren = option.ren, moves = option.moves, timer = option.timer, result = option.result, players = option.players, location = option.location, date = option.date, event = option.event;\r\n            this.event = event || this.event;\r\n            this.date = date ? new Date(date) : this.date;\r\n            this.location = location || this.location;\r\n            if (players) {\r\n                this.players = {\r\n                    white: new Player_1.default(players.white),\r\n                    black: new Player_1.default(players.black),\r\n                };\r\n            }\r\n            if (result) {\r\n                this.result = {\r\n                    last: result.last,\r\n                    white: new Result_1.default(result.white),\r\n                };\r\n            }\r\n            this.ren = REN_1.default.fromString(ren || '');\r\n            this.loadMovesStrings(moves || []);\r\n            this.timer = new Timer_1.default(timer || {});\r\n            return true;\r\n        }\r\n        catch (error) {\r\n            console.log(error);\r\n            return false;\r\n        }\r\n    };\r\n    KPGN.prototype.toJson = function () {\r\n        var renStr = this.ren.toString();\r\n        if (this.latestMove) {\r\n            renStr = this.latestMove.renStr;\r\n        }\r\n        return {\r\n            event: this.event,\r\n            date: this.date ? this.date.toString() : '',\r\n            location: this.location,\r\n            players: {\r\n                white: this.players.white.toJson(),\r\n                black: this.players.black.toJson(),\r\n            },\r\n            result: {\r\n                last: {\r\n                    whiteWin: this.result.last.whiteWin,\r\n                    blackWin: this.result.last.blackWin,\r\n                },\r\n                white: this.result.white.toJson(),\r\n            },\r\n            timer: this.timer.toJson(),\r\n            moves: this.moves.map(function (m) { return m.toString(); }),\r\n            ren: renStr,\r\n        };\r\n    };\r\n    KPGN.prototype.fromBase64 = function (str) {\r\n        var json = JSON.parse(base64Helper_1.default.decode(str));\r\n        return this.fromJson(json);\r\n    };\r\n    KPGN.prototype.toBase64 = function () {\r\n        var jsStr = JSON.stringify(this.toJson());\r\n        return base64Helper_1.default.encode(jsStr);\r\n    };\r\n    return KPGN;\r\n}());\r\nexports.default = KPGN;\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n *---------------------------------------------------------------------------- */ \r\n//# sourceMappingURL=KPGN.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar brain_1 = require(\"../brain\");\r\nvar ren_1 = require(\"../ren\");\r\nvar constant_1 = require(\"../ren/constant\");\r\nvar Piece_1 = __importDefault(require(\"../ren/Piece\"));\r\nvar Point_1 = __importDefault(require(\"../ren/Point\"));\r\nvar Captured_1 = __importDefault(require(\"./Captured\"));\r\nvar Move = /** @class */ (function () {\r\n    function Move(_a) {\r\n        var piece = _a.piece, moveFrom = _a.moveFrom, moveTo = _a.moveTo, isUpgrading = _a.isUpgrading, captured = _a.captured;\r\n        this.renStr = null;\r\n        this.boardStatus = {\r\n            attacker: null,\r\n            winColor: null,\r\n            stuckColor: null,\r\n            drawCountColor: null,\r\n        };\r\n        this.isStartCounting = false;\r\n        this.piece = piece;\r\n        this.moveFrom = moveFrom;\r\n        this.moveTo = moveTo;\r\n        this.isUpgrading = !!isUpgrading;\r\n        this.captured = captured || null;\r\n        if (brain_1.boardHelper.isUpgradable(piece, moveTo)) {\r\n            this.isUpgrading = true;\r\n            piece.upgrade();\r\n        }\r\n        this.kqJumping = new ren_1.KqJumped();\r\n    }\r\n    Move.prototype.setRen = function (ren) {\r\n        ren.checkBoardStatus(this);\r\n        ren.kqJumped.checkKQMoved(this);\r\n        ren.checkCountStatus(this);\r\n    };\r\n    Move.prototype.syncRen = function (ren) {\r\n        this.renStr = ren.toString();\r\n    };\r\n    Object.defineProperty(Move.prototype, \"isCanMoveNext\", {\r\n        get: function () {\r\n            return !(this.boardStatus.drawCountColor || this.boardStatus.winColor || this.boardStatus.stuckColor);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Move.prototype, \"isWhiteKingJumping\", {\r\n        get: function () {\r\n            return !!this.kqJumping.whiteKing;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Move.prototype, \"isWhiteQueenJumping\", {\r\n        get: function () {\r\n            return !!this.kqJumping.whiteQueen;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Move.prototype, \"isBlackKingJumping\", {\r\n        get: function () {\r\n            return !!this.kqJumping.blackKing;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Move.prototype, \"isBlackQueenJumping\", {\r\n        get: function () {\r\n            return !!this.kqJumping.blackQueen;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Move.prototype, \"attacker\", {\r\n        get: function () {\r\n            return this.boardStatus.attacker || null;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Move.prototype, \"winColor\", {\r\n        get: function () {\r\n            return this.boardStatus.winColor || null;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Move.prototype, \"stuckColor\", {\r\n        get: function () {\r\n            return this.boardStatus.stuckColor || null;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Move.prototype, \"drawCountColor\", {\r\n        get: function () {\r\n            return this.boardStatus.drawCountColor || null;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Move.prototype, \"isDraw\", {\r\n        get: function () {\r\n            return this.stuckColor || this.drawCountColor;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Move.prototype, \"isGameOver\", {\r\n        get: function () {\r\n            return this.winColor || this.isDraw;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Move.fromString = function (str, ren) {\r\n        var piece = Piece_1.default.fromCharCode(str[0]);\r\n        if (piece === null) {\r\n            return null;\r\n        }\r\n        var moveFrom = Point_1.default.fromIndexCode(str.substr(1, 2));\r\n        var moveTo = Point_1.default.fromIndexCode(str.substr(3, 2));\r\n        var move = new Move({\r\n            piece: piece,\r\n            moveFrom: moveFrom,\r\n            moveTo: moveTo,\r\n        });\r\n        var killIndex = str.indexOf(constant_1.PIECE_FLAG_KILL);\r\n        if (!!~killIndex) {\r\n            var match = str.substr(killIndex + 1).match(/^(\\d+)/);\r\n            if (match === null) {\r\n                return null;\r\n            }\r\n            var gyIndex = Number(match[1]);\r\n            var capturedPiece = ren.graveyard.get(gyIndex);\r\n            if (!capturedPiece) {\r\n                throw new Error('Invalid captured index');\r\n            }\r\n            move.captured = new Captured_1.default({\r\n                fromBoardPoint: moveTo,\r\n                toGraveyardPoint: Point_1.default.fromIndexGraveyardIndex(gyIndex),\r\n                piece: capturedPiece,\r\n            });\r\n        }\r\n        var jumpingIndex = str.indexOf(constant_1.PIECE_FLAG_JUMP);\r\n        if (!!~jumpingIndex) {\r\n            var match = str.substr(jumpingIndex + 1).match(/^(\\d+)/);\r\n            if (match === null) {\r\n                return null;\r\n            }\r\n            var n = Number(match[1]);\r\n            move.kqJumping = ren_1.KqJumped.fromNumber(n);\r\n        }\r\n        var startCountingIndex = str.indexOf(constant_1.PIECE_FLAG_START_COUNTING);\r\n        if (!!~startCountingIndex) {\r\n            move.isStartCounting = true;\r\n        }\r\n        move.setRen(ren);\r\n        return move;\r\n    };\r\n    Move.prototype.toString = function () {\r\n        var pCode = this.piece.pieceCharCode;\r\n        var fIndexCode = this.moveFrom.indexCode;\r\n        var tIndexCode = this.moveTo.indexCode;\r\n        var flags = '';\r\n        if (this.captured) {\r\n            flags += constant_1.PIECE_FLAG_KILL + this.captured.toGraveyardPoint.index;\r\n        }\r\n        if (this.kqJumping.isJumped) {\r\n            flags += constant_1.PIECE_FLAG_JUMP + this.kqJumping.toNumber();\r\n        }\r\n        if (this.isUpgrading) {\r\n            flags += constant_1.PIECE_FLAG_UPGRADE;\r\n        }\r\n        if (this.isStartCounting) {\r\n            flags += constant_1.PIECE_FLAG_START_COUNTING;\r\n        }\r\n        return \"\" + pCode + fIndexCode + tIndexCode + flags;\r\n    };\r\n    Move.prototype.getJumpingMessage = function (isEnglish) {\r\n        var jump = '';\r\n        if (isEnglish) {\r\n            if (this.isWhiteKingJumping) {\r\n                jump += ' white king jumping';\r\n            }\r\n            if (this.isWhiteQueenJumping) {\r\n                jump += ' white queen jumping';\r\n            }\r\n            if (this.isBlackKingJumping) {\r\n                jump += ' black king jumping';\r\n            }\r\n            if (this.isBlackQueenJumping) {\r\n                jump += ' black queen jumping';\r\n            }\r\n        }\r\n        else {\r\n            if (this.isWhiteKingJumping) {\r\n                jump += ' ស្តេច​ស​ភ្លោះ';\r\n            }\r\n            if (this.isWhiteQueenJumping) {\r\n                jump += ' នាង​ស​ភ្លោះ';\r\n            }\r\n            if (this.isBlackKingJumping) {\r\n                jump += ' ស្តេច​ខ្មៅ​ភ្លោះ';\r\n            }\r\n            if (this.isBlackQueenJumping) {\r\n                jump += ' នាង​ខ្មៅ​ភ្លោះ';\r\n            }\r\n        }\r\n        return jump;\r\n    };\r\n    Move.prototype.getMessage = function (isEnglish) {\r\n        if (isEnglish) {\r\n            var captured = '';\r\n            if (this.captured) {\r\n                captured = \" captures \" + this.captured.piece.titleEnglish;\r\n            }\r\n            var upgrade = this.isUpgrading ? ' transforms' : '';\r\n            var jump = this.getJumpingMessage(isEnglish);\r\n            return this.piece.titleEnglish + \" moved from \" + this.moveFrom.titleEnglish + \" to \" + this.moveTo.titleEnglish + upgrade + captured + \" \" + jump;\r\n        }\r\n        else {\r\n            var captured = '';\r\n            if (this.captured) {\r\n                captured = \" \\u179F\\u17CA\\u17B8\" + this.captured.piece.title;\r\n            }\r\n            var upgrade = this.isUpgrading ? ' បក' : '';\r\n            var jump = this.getJumpingMessage(isEnglish);\r\n            return this.piece.title + \" \\u178A\\u17BE\\u179A\\u200B\\u1796\\u17B8 \" + this.moveFrom.title + \" \\u1791\\u17C5 \" + this.moveTo.title + upgrade + captured + \" \" + jump;\r\n        }\r\n    };\r\n    return Move;\r\n}());\r\nexports.default = Move;\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n *---------------------------------------------------------------------------- */ \r\n//# sourceMappingURL=Move.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Player = /** @class */ (function () {\r\n    function Player(_a) {\r\n        var id = _a.id, name = _a.name;\r\n        this.id = id || '';\r\n        this.name = name || '';\r\n    }\r\n    Player.prototype.toJson = function () {\r\n        return {\r\n            id: this.id,\r\n            name: this.name,\r\n        };\r\n    };\r\n    return Player;\r\n}());\r\nexports.default = Player;\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n *---------------------------------------------------------------------------- */ \r\n//# sourceMappingURL=Player.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Result = /** @class */ (function () {\r\n    function Result(_a) {\r\n        var win = _a.win, draw = _a.draw, lost = _a.lost;\r\n        this.win = win || 0;\r\n        this.draw = draw || 0;\r\n        this.lost = lost || 0;\r\n    }\r\n    Result.prototype.toJson = function () {\r\n        return {\r\n            win: this.win,\r\n            draw: this.draw,\r\n            lost: this.lost,\r\n        };\r\n    };\r\n    return Result;\r\n}());\r\nexports.default = Result;\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n *---------------------------------------------------------------------------- */ \r\n//# sourceMappingURL=Result.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Timer = /** @class */ (function () {\r\n    function Timer(_a) {\r\n        var totalSecond = _a.totalSecond, bonusTime = _a.bonusTime, currentWhite = _a.currentWhite, currentBlack = _a.currentBlack;\r\n        this.bonusTime = bonusTime || 0;\r\n        this.totalSecond = totalSecond || 0;\r\n        this.currentWhite = currentWhite || 0;\r\n        this.currentBlack = currentBlack || 0;\r\n    }\r\n    Timer.prototype.fromJson = function () {\r\n    };\r\n    Timer.prototype.toJson = function () {\r\n        return {\r\n            totalSecond: this.totalSecond,\r\n            bonusTime: this.bonusTime,\r\n            currentWhite: this.currentWhite,\r\n            currentBlack: this.currentBlack,\r\n        };\r\n    };\r\n    return Timer;\r\n}());\r\nexports.default = Timer;\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n *---------------------------------------------------------------------------- */ \r\n//# sourceMappingURL=Timer.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Timer = exports.Result = exports.Player = exports.Captured = exports.Move = exports.KPGN = void 0;\r\nvar KPGN_1 = require(\"./KPGN\");\r\nObject.defineProperty(exports, \"KPGN\", { enumerable: true, get: function () { return __importDefault(KPGN_1).default; } });\r\nvar Move_1 = require(\"./Move\");\r\nObject.defineProperty(exports, \"Move\", { enumerable: true, get: function () { return __importDefault(Move_1).default; } });\r\nvar Captured_1 = require(\"./Captured\");\r\nObject.defineProperty(exports, \"Captured\", { enumerable: true, get: function () { return __importDefault(Captured_1).default; } });\r\nvar Player_1 = require(\"./Player\");\r\nObject.defineProperty(exports, \"Player\", { enumerable: true, get: function () { return __importDefault(Player_1).default; } });\r\nvar Result_1 = require(\"./Result\");\r\nObject.defineProperty(exports, \"Result\", { enumerable: true, get: function () { return __importDefault(Result_1).default; } });\r\nvar Timer_1 = require(\"./Timer\");\r\nObject.defineProperty(exports, \"Timer\", { enumerable: true, get: function () { return __importDefault(Timer_1).default; } });\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n *---------------------------------------------------------------------------- */ \r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar EventHandler = /** @class */ (function () {\r\n    function EventHandler(options) {\r\n        this._onEventListeners = {};\r\n        this._propEvent = [];\r\n        this._isLockProp = false;\r\n        this._onEventListeners = {};\r\n        this._propEvent = [];\r\n        this.events = options.events;\r\n    }\r\n    EventHandler.prototype._checkPropEvent = function () {\r\n        if (this._isLockProp) {\r\n            return;\r\n        }\r\n        while (this._propEvent.length) {\r\n            var event = this._propEvent.shift();\r\n            this._checkOnEvent(event.name, event.data);\r\n        }\r\n    };\r\n    EventHandler.prototype._addPropEvent = function (event, data) {\r\n        this._propEvent.push({\r\n            name: event,\r\n            data: data,\r\n        });\r\n        this._checkPropEvent();\r\n    };\r\n    EventHandler.prototype._guardEventName = function (eventName) {\r\n        if (!eventName) {\r\n            throw new Error('invalid event name');\r\n        }\r\n    };\r\n    EventHandler.prototype._checkOnEvent = function (eventName, data) {\r\n        this._guardEventName(eventName);\r\n        this._onEventListeners[eventName] = this._onEventListeners[eventName] || [];\r\n        this._onEventListeners[eventName].forEach(function (listener) {\r\n            listener(data);\r\n        });\r\n    };\r\n    EventHandler.prototype._addOnEventListener = function (eventName, listener) {\r\n        this._guardEventName(eventName);\r\n        this._onEventListeners[eventName] = this._onEventListeners[eventName] || [];\r\n        this._onEventListeners[eventName].push(listener);\r\n    };\r\n    EventHandler.prototype._removeOnEventListener = function (eventName, listener) {\r\n        this._guardEventName(eventName);\r\n        this._onEventListeners[eventName] = this._onEventListeners[eventName] || [];\r\n        var index = this._onEventListeners[eventName].indexOf(listener);\r\n        ~index && this._onEventListeners[eventName].splice(index, 1);\r\n    };\r\n    return EventHandler;\r\n}());\r\nexports.default = EventHandler;\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n *---------------------------------------------------------------------------- */ \r\n//# sourceMappingURL=EventHandler.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\n// https://stackoverflow.com/questions/246801/how-can-you-encode-a-string-to-base64-in-javascript\r\n/**\r\n*\r\n*  Base64 encode / decode\r\n*  http://www.webtoolkit.info/\r\n*\r\n**/\r\nvar Base64 = {\r\n    // private property\r\n    _keyStr: 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=',\r\n    // public method for encoding\r\n    encode: function (input) {\r\n        var output = '';\r\n        var chr1, chr2, chr3, enc1, enc2, enc3, enc4;\r\n        var i = 0;\r\n        input = Base64._utf8_encode(input);\r\n        while (i < input.length) {\r\n            chr1 = input.charCodeAt(i++);\r\n            chr2 = input.charCodeAt(i++);\r\n            chr3 = input.charCodeAt(i++);\r\n            enc1 = chr1 >> 2;\r\n            enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\r\n            enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\r\n            enc4 = chr3 & 63;\r\n            if (isNaN(chr2)) {\r\n                enc3 = enc4 = 64;\r\n            }\r\n            else if (isNaN(chr3)) {\r\n                enc4 = 64;\r\n            }\r\n            output = output +\r\n                this._keyStr.charAt(enc1) + this._keyStr.charAt(enc2) +\r\n                this._keyStr.charAt(enc3) + this._keyStr.charAt(enc4);\r\n        }\r\n        return output;\r\n    },\r\n    // public method for decoding\r\n    decode: function (input) {\r\n        var output = '';\r\n        var chr1, chr2, chr3;\r\n        var enc1, enc2, enc3, enc4;\r\n        var i = 0;\r\n        input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, '');\r\n        while (i < input.length) {\r\n            enc1 = this._keyStr.indexOf(input.charAt(i++));\r\n            enc2 = this._keyStr.indexOf(input.charAt(i++));\r\n            enc3 = this._keyStr.indexOf(input.charAt(i++));\r\n            enc4 = this._keyStr.indexOf(input.charAt(i++));\r\n            chr1 = (enc1 << 2) | (enc2 >> 4);\r\n            chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\r\n            chr3 = ((enc3 & 3) << 6) | enc4;\r\n            output = output + String.fromCharCode(chr1);\r\n            if (enc3 != 64) {\r\n                output = output + String.fromCharCode(chr2);\r\n            }\r\n            if (enc4 != 64) {\r\n                output = output + String.fromCharCode(chr3);\r\n            }\r\n        }\r\n        output = Base64._utf8_decode(output);\r\n        return output;\r\n    },\r\n    // private method for UTF-8 encoding\r\n    _utf8_encode: function (string) {\r\n        string = string.replace(/\\r\\n/g, '\\n');\r\n        var utftext = '';\r\n        for (var n = 0; n < string.length; n++) {\r\n            var c = string.charCodeAt(n);\r\n            if (c < 128) {\r\n                utftext += String.fromCharCode(c);\r\n            }\r\n            else if ((c > 127) && (c < 2048)) {\r\n                utftext += String.fromCharCode((c >> 6) | 192);\r\n                utftext += String.fromCharCode((c & 63) | 128);\r\n            }\r\n            else {\r\n                utftext += String.fromCharCode((c >> 12) | 224);\r\n                utftext += String.fromCharCode(((c >> 6) & 63) | 128);\r\n                utftext += String.fromCharCode((c & 63) | 128);\r\n            }\r\n        }\r\n        return utftext;\r\n    },\r\n    // private method for UTF-8 decoding\r\n    _utf8_decode: function (utftext) {\r\n        var string = '';\r\n        var i = 0;\r\n        var c, c1, c2 = 0;\r\n        c = c1 = c2 = 0;\r\n        while (i < utftext.length) {\r\n            c = utftext.charCodeAt(i);\r\n            if (c < 128) {\r\n                string += String.fromCharCode(c);\r\n                i++;\r\n            }\r\n            else if ((c > 191) && (c < 224)) {\r\n                c1 = utftext.charCodeAt(i + 1);\r\n                string += String.fromCharCode(((c & 31) << 6) | (c1 & 63));\r\n                i += 2;\r\n            }\r\n            else {\r\n                c1 = utftext.charCodeAt(i + 1);\r\n                c2 = utftext.charCodeAt(i + 2);\r\n                string += String.fromCharCode(((c & 15) << 12) | ((c1 & 63) << 6) | (c2 & 63));\r\n                i += 3;\r\n            }\r\n        }\r\n        return string;\r\n    },\r\n};\r\nexports.default = Base64;\r\n//# sourceMappingURL=base64Helper.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.table = exports.EventHandler = void 0;\r\nvar EventHandler_1 = require(\"./EventHandler\");\r\nObject.defineProperty(exports, \"EventHandler\", { enumerable: true, get: function () { return __importDefault(EventHandler_1).default; } });\r\nvar table_1 = require(\"./table\");\r\nObject.defineProperty(exports, \"table\", { enumerable: true, get: function () { return __importDefault(table_1).default; } });\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n *---------------------------------------------------------------------------- */ \r\n//# sourceMappingURL=index.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nfunction asciiTable(ren) {\r\n    var arr = ren.board.piecesMultiArray;\r\n    var str = '  ┏━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┓';\r\n    var result = arr.reverse().reduce(function (s, subArr, i) {\r\n        var rs = subArr.map(function (p) { return \" \" + (p ? p.pieceCharCode : ' ') + \" \"; }).join('┃');\r\n        var bottom = i === arr.length - 1 ? '┗━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┛' : '┣━━━╋━━━╋━━━╋━━━╋━━━╋━━━╋━━━╋━━━┫';\r\n        s += \"\\n\" + (8 - i) + \" \\u2503\" + rs + \"\\u2503\\n  \" + bottom;\r\n        return s;\r\n    }, str);\r\n    var gyTStr = ren.graveyard.pieces.map(function () { return '━━━'; }).join('┳');\r\n    var gyStr = ren.graveyard.pieces.map(function (p) { return \" \" + (p ? p.pieceCharCode : ' ') + \" \"; }).join('┃');\r\n    var gyBStr = ren.graveyard.pieces.map(function () { return '━━━'; }).join('┻');\r\n    var graveyardStr = \"  \\u250F\" + gyTStr + \"\\u2513\\n  \\u2503\" + gyStr + \"\\u2503\\n  \\u2517\" + gyBStr + \"\\u251B\";\r\n    return result + \"\\n    a   b   c   d   e   f   g   h\\n\" + graveyardStr;\r\n}\r\nexports.default = asciiTable;\r\n/*\r\n  ┏━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┓\r\n8 ┃   ┃   ┃   ┃   ┃ k ┃   ┃   ┃   ┃\r\n  ┣━━━╋━━━╋━━━╋━━━╋━━━╋━━━╋━━━╋━━━┫\r\n7 ┃   ┃   ┃   ┃   ┃   ┃   ┃   ┃   ┃\r\n  ┣━━━╋━━━╋━━━╋━━━╋━━━╋━━━╋━━━╋━━━┫\r\n6 ┃   ┃   ┃   ┃   ┃   ┃   ┃   ┃   ┃\r\n  ┣━━━╋━━━╋━━━╋━━━╋━━━╋━━━╋━━━╋━━━┫\r\n5 ┃   ┃   ┃   ┃   ┃   ┃   ┃   ┃   ┃\r\n  ┣━━━╋━━━╋━━━╋━━━╋━━━╋━━━╋━━━╋━━━┫\r\n4 ┃   ┃   ┃   ┃   ┃   ┃   ┃   ┃   ┃\r\n  ┣━━━╋━━━╋━━━╋━━━╋━━━╋━━━╋━━━╋━━━┫\r\n3 ┃   ┃   ┃   ┃   ┃   ┃   ┃   ┃   ┃\r\n  ┣━━━╋━━━╋━━━╋━━━╋━━━╋━━━╋━━━╋━━━┫\r\n2 ┃   ┃   ┃   ┃   ┃   ┃   ┃   ┃   ┃\r\n  ┣━━━╋━━━╋━━━╋━━━╋━━━╋━━━╋━━━╋━━━┫\r\n1 ┃   ┃   ┃   ┃ K ┃   ┃   ┃   ┃   ┃\r\n  ┗━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┛\r\n    a   b   c   d   e   f   g   h\r\n  ┏━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┳━━━┓\r\n  ┃ b ┃ h ┃ g ┃ q ┃ g ┃ h ┃ b ┃ f ┃ f ┃ f ┃ f ┃ f ┃ f ┃ f ┃ f ┃ F ┃ F ┃ F ┃ F ┃ F ┃ F ┃ F ┃ F ┃ B ┃ H ┃ G ┃ Q ┃ G ┃ H ┃ B ┃\r\n  ┗━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┻━━━┛\r\n */\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n *---------------------------------------------------------------------------- */ \r\n//# sourceMappingURL=table.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Piece_1 = __importDefault(require(\"./Piece\"));\r\nvar PieceIndex_1 = __importDefault(require(\"./PieceIndex\"));\r\nvar constant_1 = require(\"./constant\");\r\nvar constant_2 = require(\"../brain/constant\");\r\nvar Point_1 = __importDefault(require(\"./Point\"));\r\n/**\r\n * BHGQKGHB/8/FFFFFFFF/8/8/ffffffff/8/bhgkqghb => bhgqkghb/......../ffffffff/......../......../FFFFFFFF/......../BHGKQGHB\r\n */\r\nvar Board = /** @class */ (function () {\r\n    function Board(boardStr) {\r\n        this.pieceIndices = Array.from({\r\n            length: constant_2.CELL_COUNT,\r\n        }, function (_, i) {\r\n            var point = Point_1.default.fromIndex(i);\r\n            return new PieceIndex_1.default(point, null);\r\n        });\r\n        if (!boardStr) {\r\n            boardStr = constant_1.DEFAULT_BOARD_STR;\r\n        }\r\n        var newBoardStr = this.extract(boardStr).replace(/\\//g, '');\r\n        if (newBoardStr.length < constant_2.CELL_COUNT ||\r\n            !Piece_1.default.isValidPiecesString(newBoardStr)) {\r\n            throw new Error(\"Invalid board string \" + boardStr);\r\n        }\r\n        this.pieceIndices = newBoardStr.split('').map(function (charCode, i) {\r\n            var point = Point_1.default.fromIndex(i);\r\n            return new PieceIndex_1.default(point, charCode === constant_2.EMPTY_PIECE ? null : Piece_1.default.fromCharCode(charCode));\r\n        });\r\n    }\r\n    Object.defineProperty(Board.prototype, \"piecesMultiArray\", {\r\n        get: function () {\r\n            var arr = [[], [], [], [], [], [], [], []];\r\n            this.pieceIndices.forEach(function (pieceIndex) {\r\n                if (pieceIndex.piece !== null) {\r\n                    arr[pieceIndex.point.y][pieceIndex.point.x] = pieceIndex.piece;\r\n                }\r\n            });\r\n            return arr;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Board.prototype, \"pieces\", {\r\n        get: function () {\r\n            return this.pieceIndices.map(function (pieceIndex) {\r\n                return pieceIndex.piece;\r\n            });\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Board.prototype, \"whiteKing\", {\r\n        get: function () {\r\n            return this.pieceIndices.find(function (pieceIndex) {\r\n                return pieceIndex.piece && pieceIndex.piece.isTypeKing && pieceIndex.piece.isColorWhite;\r\n            });\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Board.prototype, \"blackKing\", {\r\n        get: function () {\r\n            return this.pieceIndices.find(function (pieceIndex) {\r\n                return pieceIndex.piece && pieceIndex.piece.isTypeKing && pieceIndex.piece.isColorBlack;\r\n            });\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Board.prototype.getKing = function (color) {\r\n        return Piece_1.default.isWhiteColor(color) ? this.whiteKing : this.blackKing;\r\n    };\r\n    Board.prototype.compress = function (str) {\r\n        var reg = new RegExp(\"(\\\\\" + constant_2.EMPTY_PIECE + \"+)\", 'g');\r\n        return str.replace(reg, function ($1) { return $1.length; });\r\n    };\r\n    Board.prototype.extract = function (str) {\r\n        return str.replace(/(\\d+)/g, function ($1) {\r\n            // $1 == 3 => '...', bh6 => 'bh......'\r\n            return Array.from({\r\n                length: $1,\r\n            }, function () { return constant_2.EMPTY_PIECE; }).join('');\r\n        });\r\n    };\r\n    Board.prototype.toStringFull = function (pieceIndices) {\r\n        if (pieceIndices === void 0) { pieceIndices = this.pieceIndices; }\r\n        var str = pieceIndices.map(function (pieceIndex, i) {\r\n            var p = pieceIndex.toPieceCharCode();\r\n            if (i && i % constant_2.ROW_NUMBER === 0 && i !== constant_2.CELL_COUNT) {\r\n                return \"\" + constant_2.BOARD_SEPARATOR + p;\r\n            }\r\n            return p;\r\n        }).join('');\r\n        return str;\r\n    };\r\n    Board.prototype.toStringFullNoSeparate = function () {\r\n        var str = this.toStringFull();\r\n        str = str.replace(/\\//g, '');\r\n        return str;\r\n    };\r\n    Board.prototype.toString = function (pieceIndices) {\r\n        var str = this.toStringFull(pieceIndices);\r\n        str = this.compress(str);\r\n        return str;\r\n    };\r\n    Board.prototype.getPieceAtIndex = function (index) {\r\n        return this.pieceIndices[index].piece;\r\n    };\r\n    Board.prototype.setPieceAtIndex = function (index, piece) {\r\n        this.pieceIndices[index].piece = piece;\r\n    };\r\n    return Board;\r\n}());\r\nexports.default = Board;\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n *---------------------------------------------------------------------------- */ \r\n//# sourceMappingURL=Board.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar brain_1 = require(\"../brain\");\r\nvar constant_1 = require(\"./constant\");\r\n// 23.-\r\nvar CountUp = /** @class */ (function () {\r\n    function CountUp() {\r\n        this.countingToNumber = null;\r\n        this.countingNumber = null;\r\n        this.isCountingUp = false;\r\n        this.color = null;\r\n    }\r\n    Object.defineProperty(CountUp.prototype, \"isWhite\", {\r\n        get: function () {\r\n            return this.color === brain_1.PIECE_COLOR_WHITE;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CountUp.prototype, \"isBlack\", {\r\n        get: function () {\r\n            return this.color === brain_1.PIECE_COLOR_BLACK;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CountUp.prototype, \"isWhiteCounting\", {\r\n        get: function () {\r\n            return this.isCounting && this.isWhite;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CountUp.prototype, \"isBlackCounting\", {\r\n        get: function () {\r\n            return this.isCounting && !this.isWhite;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CountUp.prototype, \"isCounting\", {\r\n        get: function () {\r\n            return this.countingToNumber !== null;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(CountUp.prototype, \"isCountingOut\", {\r\n        get: function () {\r\n            if (!this.isCounting || this.countingNumber === null ||\r\n                this.countingToNumber === null) {\r\n                return false;\r\n            }\r\n            return this.countingNumber >= this.countingToNumber;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    CountUp.prototype.set = function (color, countingToNumber, countingNumber) {\r\n        this.color = color;\r\n        this.countingToNumber = countingToNumber;\r\n        this.countingNumber = countingNumber;\r\n    };\r\n    CountUp.prototype.clear = function () {\r\n        this.color = null;\r\n        this.countingToNumber = null;\r\n        this.countingNumber = null;\r\n    };\r\n    CountUp.prototype.checkUp = function (color) {\r\n        if (this.countingNumber !== null && color === this.color) {\r\n            this.countingNumber++;\r\n            this.isCountingUp = true;\r\n        }\r\n        else {\r\n            this.isCountingUp = false;\r\n        }\r\n    };\r\n    CountUp.fromString = function (countUpStr) {\r\n        if (!countUpStr) {\r\n            countUpStr = constant_1.NOT_SET + \".\" + constant_1.NOT_SET + \"@\" + constant_1.NOT_SET;\r\n        }\r\n        var countUp = new CountUp();\r\n        var countingUp = countUpStr.split('@');\r\n        if (countingUp[1] !== constant_1.NOT_SET) {\r\n            countUp.countingToNumber = Number(countingUp[1]);\r\n        }\r\n        var countingUpWB = countingUp[0].split('.');\r\n        if (countingUpWB[0] !== constant_1.NOT_SET) {\r\n            countUp.color = brain_1.PIECE_COLOR_WHITE;\r\n            countUp.countingNumber = Number(countingUpWB[0]);\r\n        }\r\n        if (countingUpWB[1] !== constant_1.NOT_SET) {\r\n            countUp.color = brain_1.PIECE_COLOR_BLACK;\r\n            countUp.countingNumber = Number(countingUpWB[1]);\r\n        }\r\n        return countUp;\r\n    };\r\n    CountUp.prototype.toString = function () {\r\n        var whiteCountingDow = this.isCounting && this.isWhite ? this.countingNumber : constant_1.NOT_SET;\r\n        var blackCountingDow = this.isCounting && !this.isWhite ? this.countingNumber : constant_1.NOT_SET;\r\n        var str = \"\" + whiteCountingDow;\r\n        str += \".\" + blackCountingDow;\r\n        str += \"@\" + (this.isCounting ? this.countingToNumber : constant_1.NOT_SET);\r\n        return str;\r\n    };\r\n    return CountUp;\r\n}());\r\nexports.default = CountUp;\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n *---------------------------------------------------------------------------- */ \r\n//# sourceMappingURL=CountUp.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Piece_1 = __importDefault(require(\"./Piece\"));\r\nvar Graveyard = /** @class */ (function () {\r\n    function Graveyard(graveyardStr) {\r\n        this.pieces = [];\r\n        if (graveyardStr) {\r\n            if (graveyardStr.length > 30 ||\r\n                !Piece_1.default.isValidPiecesString(graveyardStr, true)) {\r\n                throw new Error(\"Invalid graveyard string \" + graveyardStr);\r\n            }\r\n            this.pieces = graveyardStr.split('').map(function (charCode, i) {\r\n                var p = Piece_1.default.fromCharCode(charCode);\r\n                return p;\r\n            }).filter(function (piece) {\r\n                return piece !== null;\r\n            });\r\n        }\r\n    }\r\n    Object.defineProperty(Graveyard.prototype, \"lastIndex\", {\r\n        get: function () {\r\n            return this.pieces.length - 1;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Graveyard.prototype.get = function (index) {\r\n        return this.pieces[index];\r\n    };\r\n    Graveyard.prototype.removeAtIndex = function (index) {\r\n        if (!!this.get(index)) {\r\n            this.pieces.splice(index, 1);\r\n        }\r\n        return true;\r\n    };\r\n    Graveyard.prototype.toString = function () {\r\n        return this.pieces.map(function (p) {\r\n            return p.pieceCharCode;\r\n        }).join('');\r\n    };\r\n    return Graveyard;\r\n}());\r\nexports.default = Graveyard;\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n *---------------------------------------------------------------------------- */ \r\n//# sourceMappingURL=Graveyard.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar constant_1 = require(\"../brain/constant\");\r\nvar constant_2 = require(\"./constant\");\r\nvar Piece_1 = __importDefault(require(\"./Piece\"));\r\n/**\r\n * King has attacked, this will effect jumping\r\n */\r\nvar KAttacked = /** @class */ (function () {\r\n    function KAttacked(kAttackedStr) {\r\n        this.whiteKing = false;\r\n        this.blackKing = false;\r\n        if (kAttackedStr) {\r\n            this.whiteKing = !!~kAttackedStr.indexOf(Piece_1.default.toWhiteCharCode(constant_1.PIECE_TYPE_KING));\r\n            this.blackKing = !!~kAttackedStr.indexOf(constant_1.PIECE_TYPE_KING);\r\n        }\r\n    }\r\n    KAttacked.prototype.toString = function () {\r\n        var str = \"\" + (this.whiteKing ? Piece_1.default.toWhiteCharCode(constant_1.PIECE_TYPE_KING) : constant_2.NOT_SET);\r\n        str += \"\" + (this.blackKing ? constant_1.PIECE_TYPE_KING : constant_2.NOT_SET);\r\n        return str;\r\n    };\r\n    return KAttacked;\r\n}());\r\nexports.default = KAttacked;\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n *---------------------------------------------------------------------------- */ \r\n//# sourceMappingURL=KAttacked.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar constant_1 = require(\"../brain/constant\");\r\nvar constant_2 = require(\"./constant\");\r\nvar Piece_1 = __importDefault(require(\"./Piece\"));\r\n/**\r\n * King or Queen has jumped, the will effect jumping\r\n */\r\nvar KqJumped = /** @class */ (function () {\r\n    function KqJumped(kqJumpedStr) {\r\n        var _a;\r\n        this.whiteKing = false;\r\n        this.whiteQueen = false;\r\n        this.blackKing = false;\r\n        this.blackQueen = false;\r\n        this.keyCodes = {\r\n            blackKing: Piece_1.default.toWhiteCharCode(constant_1.PIECE_TYPE_QUEEN),\r\n            whiteKing: Piece_1.default.toWhiteCharCode(constant_1.PIECE_TYPE_KING),\r\n            whiteQueen: constant_1.PIECE_TYPE_KING,\r\n            blackQueen: constant_1.PIECE_TYPE_QUEEN,\r\n        };\r\n        this.codeKeys = (_a = {},\r\n            _a[Piece_1.default.toWhiteCharCode(constant_1.PIECE_TYPE_QUEEN)] = 'blackKing: ',\r\n            _a[Piece_1.default.toWhiteCharCode(constant_1.PIECE_TYPE_KING)] = 'whiteKing: ',\r\n            _a[constant_1.PIECE_TYPE_KING] = 'whiteQueen: ',\r\n            _a[constant_1.PIECE_TYPE_QUEEN] = 'blackQueen: ',\r\n            _a);\r\n        if (kqJumpedStr) {\r\n            this.whiteKing = !!~kqJumpedStr.indexOf(Piece_1.default.toWhiteCharCode(constant_1.PIECE_TYPE_KING));\r\n            this.whiteQueen = !!~kqJumpedStr.indexOf(Piece_1.default.toWhiteCharCode(constant_1.PIECE_TYPE_QUEEN));\r\n            this.blackKing = !!~kqJumpedStr.indexOf(constant_1.PIECE_TYPE_KING);\r\n            this.blackQueen = !!~kqJumpedStr.indexOf(constant_1.PIECE_TYPE_QUEEN);\r\n        }\r\n    }\r\n    Object.defineProperty(KqJumped.prototype, \"isJumped\", {\r\n        get: function () {\r\n            return this.whiteKing || this.whiteQueen || this.blackKing || this.blackQueen;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    KqJumped.prototype.setProp = function (key, value) {\r\n        this[key] = value;\r\n    };\r\n    KqJumped.prototype.applyJumping = function (propKey, move) {\r\n        if (!this[propKey]) {\r\n            move.kqJumping.setProp(propKey, true);\r\n            this.setProp(propKey, true);\r\n        }\r\n    };\r\n    KqJumped.prototype.checkKQMoved = function (move) {\r\n        if (move.attacker || move.captured) {\r\n            this.applyJumping('whiteKing', move);\r\n            this.applyJumping('blackKing', move);\r\n            this.applyJumping('whiteQueen', move);\r\n            this.applyJumping('blackQueen', move);\r\n        }\r\n        var piece = move.piece;\r\n        if (piece.isTypeKing) {\r\n            if (piece.isColorWhite) {\r\n                this.applyJumping('whiteKing', move);\r\n            }\r\n            else {\r\n                this.applyJumping('blackKing', move);\r\n            }\r\n        }\r\n        else if (piece.isTypeQueen) {\r\n            if (piece.isColorWhite) {\r\n                this.applyJumping('whiteQueen', move);\r\n            }\r\n            else {\r\n                this.applyJumping('blackQueen', move);\r\n            }\r\n        }\r\n    };\r\n    KqJumped.prototype.toString = function () {\r\n        var str = \"\" + (this.whiteKing ? Piece_1.default.toWhiteCharCode(constant_1.PIECE_TYPE_KING) : constant_2.NOT_SET);\r\n        str += \"\" + (this.whiteQueen ? Piece_1.default.toWhiteCharCode(constant_1.PIECE_TYPE_QUEEN) : constant_2.NOT_SET);\r\n        str += \"\" + (this.blackKing ? constant_1.PIECE_TYPE_KING : constant_2.NOT_SET);\r\n        str += \"\" + (this.blackQueen ? constant_1.PIECE_TYPE_QUEEN : constant_2.NOT_SET);\r\n        return str;\r\n    };\r\n    KqJumped.prototype.toNumber = function () {\r\n        var str = \"\" + (this.whiteKing ? 1 : 0);\r\n        str += \"\" + (this.whiteQueen ? 1 : 0);\r\n        str += \"\" + (this.blackKing ? 1 : 0);\r\n        str += \"\" + (this.blackQueen ? 1 : 0);\r\n        return parseInt(str, 2);\r\n    };\r\n    KqJumped.fromNumber = function (n) {\r\n        var b = ('0000' + Number(n).toString(2)).substr(-4);\r\n        var kqJumped = new KqJumped();\r\n        kqJumped.whiteKing = b[0] === '1';\r\n        kqJumped.whiteQueen = b[1] === '1';\r\n        kqJumped.blackKing = b[2] === '1';\r\n        kqJumped.blackQueen = b[3] === '1';\r\n        return kqJumped;\r\n    };\r\n    return KqJumped;\r\n}());\r\nexports.default = KqJumped;\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n *---------------------------------------------------------------------------- */ \r\n//# sourceMappingURL=KqJumped.js.map","\"use strict\";\r\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar constant_1 = require(\"../brain/constant\");\r\nvar Piece = /** @class */ (function () {\r\n    function Piece(type, color) {\r\n        this.type = Piece.toNormalCharCode(type);\r\n        this.color = color;\r\n    }\r\n    Object.defineProperty(Piece.prototype, \"colorOpponent\", {\r\n        get: function () {\r\n            return Piece.oppositeColor(this.color);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Piece.prototype, \"pieceCharCode\", {\r\n        get: function () {\r\n            if (this.isColorWhite) {\r\n                return this.pieceCharCodeWhite;\r\n            }\r\n            return this.type;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Piece.prototype, \"pieceCharCodeWhite\", {\r\n        get: function () {\r\n            return Piece.toWhiteCharCode(this.type);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Piece.prototype, \"title\", {\r\n        get: function () {\r\n            return \"\" + constant_1.PIECE_NAMES[this.type] + constant_1.COLOR_NAMES[this.color];\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Piece.prototype, \"titleEnglish\", {\r\n        get: function () {\r\n            return constant_1.COLOR_NAMES_ENGLISH[this.color] + \"-\" + constant_1.PIECE_NAMES_ENGLISH[this.type];\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Piece.prototype._isTypeEqual = function (type) {\r\n        return this.type === type;\r\n    };\r\n    Object.defineProperty(Piece.prototype, \"isTypeKing\", {\r\n        get: function () {\r\n            return this._isTypeEqual(constant_1.PIECE_TYPE_KING);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Piece.prototype, \"isTypeQueen\", {\r\n        get: function () {\r\n            return this._isTypeEqual(constant_1.PIECE_TYPE_QUEEN);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Piece.prototype, \"isTypeBoat\", {\r\n        get: function () {\r\n            return this._isTypeEqual(constant_1.PIECE_TYPE_BOAT);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Piece.prototype, \"isTypeHorse\", {\r\n        get: function () {\r\n            return this._isTypeEqual(constant_1.PIECE_TYPE_HORSE);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Piece.prototype, \"isTypeGeneral\", {\r\n        get: function () {\r\n            return this._isTypeEqual(constant_1.PIECE_TYPE_GENERAL);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Piece.prototype, \"isTypeFish\", {\r\n        get: function () {\r\n            return this._isTypeEqual(constant_1.PIECE_TYPE_FISH);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Piece.prototype, \"isTypeTransformedFish\", {\r\n        get: function () {\r\n            return this._isTypeEqual(constant_1.PIECE_TYPE_TRANSFORM_FISH);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Piece.prototype, \"isColorBlack\", {\r\n        get: function () {\r\n            return Piece.isBlackColor(this.color);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Piece.prototype, \"isColorWhite\", {\r\n        get: function () {\r\n            return Piece.isWhiteColor(this.color);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Piece.fromCharCode = function (charCode) {\r\n        if (!Piece.isValidPiece(charCode)) {\r\n            return null;\r\n        }\r\n        var color = Piece.isWhiteCharCode(charCode) ? constant_1.PIECE_COLOR_WHITE : constant_1.PIECE_COLOR_BLACK;\r\n        var type = Piece.toNormalCharCode(charCode);\r\n        return new Piece(type, color);\r\n    };\r\n    Object.defineProperty(Piece.prototype, \"originPiece\", {\r\n        get: function () {\r\n            if (this.isTypeTransformedFish) {\r\n                return new Piece(constant_1.PIECE_TYPE_FISH, this.color);\r\n            }\r\n            return this;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Piece, \"pieceChars\", {\r\n        get: function () {\r\n            return [\r\n                constant_1.PIECE_TYPE_BOAT,\r\n                constant_1.PIECE_TYPE_HORSE,\r\n                constant_1.PIECE_TYPE_GENERAL,\r\n                constant_1.PIECE_TYPE_KING,\r\n                constant_1.PIECE_TYPE_QUEEN,\r\n                constant_1.PIECE_TYPE_FISH,\r\n                constant_1.PIECE_TYPE_TRANSFORM_FISH,\r\n            ];\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Piece, \"colorChars\", {\r\n        get: function () {\r\n            return [\r\n                constant_1.PIECE_COLOR_WHITE,\r\n                constant_1.PIECE_COLOR_BLACK,\r\n            ];\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Piece.toWhiteCharCode = function (charCode) {\r\n        return charCode.toUpperCase();\r\n    };\r\n    Piece.isWhiteCharCode = function (charCode) {\r\n        return charCode === charCode.toUpperCase();\r\n    };\r\n    Piece.toBlackCharCode = function (charCode) {\r\n        return charCode.toLowerCase();\r\n    };\r\n    Piece.toNormalCharCode = function (charCode) {\r\n        return Piece.toBlackCharCode(charCode);\r\n    };\r\n    Piece.isValidPiece = function (charCode) {\r\n        return charCode !== constant_1.EMPTY_PIECE;\r\n    };\r\n    Piece.isWhiteColor = function (color) {\r\n        return color === constant_1.PIECE_COLOR_WHITE;\r\n    };\r\n    Piece.isBlackColor = function (color) {\r\n        return color === constant_1.PIECE_COLOR_BLACK;\r\n    };\r\n    Piece.oppositeColor = function (color) {\r\n        return Piece.isWhiteColor(color) ? constant_1.PIECE_COLOR_BLACK : constant_1.PIECE_COLOR_WHITE;\r\n    };\r\n    Piece.isValidPiecesString = function (str, onlyPiece) {\r\n        var ruler = onlyPiece ? allPiecesString.filter(function (c) {\r\n            return !~[constant_1.EMPTY_PIECE, constant_1.BOARD_SEPARATOR].indexOf(c);\r\n        }) : allPiecesString;\r\n        return !str.split('').some(function (c) {\r\n            return !~ruler.indexOf(c);\r\n        });\r\n    };\r\n    Piece.prototype.upgrade = function () {\r\n        if (this.isTypeFish) {\r\n            this.type = constant_1.PIECE_TYPE_TRANSFORM_FISH;\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    Piece.prototype.downgrade = function () {\r\n        if (this.isTypeTransformedFish) {\r\n            this.type = constant_1.PIECE_TYPE_FISH;\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    Piece.prototype.clone = function () {\r\n        return Piece.fromCharCode(this.pieceCharCode);\r\n    };\r\n    return Piece;\r\n}());\r\nexports.default = Piece;\r\nvar allPiecesString = __spreadArray(__spreadArray(__spreadArray([], Piece.pieceChars, true), Piece.pieceChars.map(function (pieceChar) {\r\n    return Piece.toWhiteCharCode(pieceChar);\r\n}), true), [\r\n    constant_1.EMPTY_PIECE,\r\n    constant_1.BOARD_SEPARATOR,\r\n], false);\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>, K4us Net <k4us.net@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n *---------------------------------------------------------------------------- */ \r\n//# sourceMappingURL=Piece.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar constant_1 = require(\"../brain/constant\");\r\nvar PieceIndex = /** @class */ (function () {\r\n    function PieceIndex(point, piece) {\r\n        this.canMovePoints = [];\r\n        this.point = point;\r\n        this.piece = piece;\r\n    }\r\n    PieceIndex.prototype.toCode = function () {\r\n        return this.piece != null ? \"\" + this.piece.pieceCharCode + this.point.indexCode : null;\r\n    };\r\n    PieceIndex.prototype.toPieceCharCode = function () {\r\n        return this.piece !== null ? this.piece.pieceCharCode : constant_1.EMPTY_PIECE;\r\n    };\r\n    return PieceIndex;\r\n}());\r\nexports.default = PieceIndex;\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n *---------------------------------------------------------------------------- */ \r\n//# sourceMappingURL=PieceIndex.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar constant_1 = require(\"../brain/constant\");\r\nvar Point = /** @class */ (function () {\r\n    function Point(x, y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n    Object.defineProperty(Point.prototype, \"index\", {\r\n        get: function () {\r\n            return Point.xyToIndex(this.x, this.y);\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Point.prototype, \"graveyardIndex\", {\r\n        get: function () {\r\n            return this.x;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Point.prototype, \"indexCode\", {\r\n        get: function () {\r\n            return \"\" + this.h + this.v;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Point.prototype, \"title\", {\r\n        get: function () {\r\n            return \"\" + constant_1.HORIZONTAL_NOTE_LETTERS[this.x] + constant_1.VERTICAL_NOTE_LETTERS[this.y];\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Point.prototype, \"titleEnglish\", {\r\n        get: function () {\r\n            return this.indexCode;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Point.prototype, \"h\", {\r\n        get: function () {\r\n            return constant_1.HORIZONTAL_CODE_LETTERS[this.x];\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(Point.prototype, \"v\", {\r\n        get: function () {\r\n            return this.y + 1;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Point.xyToIndex = function (x, y) {\r\n        return y * constant_1.ROW_NUMBER + x;\r\n    };\r\n    Point.indexCodeToXY = function (indexCode) {\r\n        var x = constant_1.HORIZONTAL_CODE_LETTERS.indexOf(indexCode[0]);\r\n        var y = Number(indexCode[1]) - 1;\r\n        return { x: x, y: y };\r\n    };\r\n    Point.indexCodeToIndex = function (indexCode) {\r\n        var _a = Point.indexCodeToXY(indexCode), x = _a.x, y = _a.y;\r\n        return Point.xyToIndex(x, y);\r\n    };\r\n    Point.fromIndexCode = function (indexCode) {\r\n        var _a = Point.indexCodeToXY(indexCode), x = _a.x, y = _a.y;\r\n        return new Point(x, y);\r\n    };\r\n    Point.indexToXY = function (index) {\r\n        var x = index % constant_1.ROW_NUMBER;\r\n        var y = Math.floor(index / constant_1.ROW_NUMBER);\r\n        return { x: x, y: y };\r\n    };\r\n    Point.fromIndex = function (index) {\r\n        var _a = Point.indexToXY(index), x = _a.x, y = _a.y;\r\n        return new Point(x, y);\r\n    };\r\n    Point.fromIndexGraveyardIndex = function (index) {\r\n        return new Point(index, 0);\r\n    };\r\n    Point.isIndexInBoard = function (index) {\r\n        return index >= 0 && index <= constant_1.CELL_COUNT - 1;\r\n    };\r\n    return Point;\r\n}());\r\nexports.default = Point;\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n *---------------------------------------------------------------------------- */ \r\n//# sourceMappingURL=Point.js.map","\"use strict\";\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nvar Board_1 = __importDefault(require(\"./Board\"));\r\nvar KqJumped_1 = __importDefault(require(\"./KqJumped\"));\r\nvar KAttacked_1 = __importDefault(require(\"./KAttacked\"));\r\nvar CountUp_1 = __importDefault(require(\"./CountUp\"));\r\nvar Graveyard_1 = __importDefault(require(\"./Graveyard\"));\r\nvar constant_1 = require(\"./constant\");\r\nvar kpgn_1 = require(\"../kpgn\");\r\nvar Move_1 = __importDefault(require(\"../kpgn/Move\"));\r\nvar Point_1 = __importDefault(require(\"./Point\"));\r\nvar Piece_1 = __importDefault(require(\"./Piece\"));\r\nvar _1 = require(\".\");\r\nvar MoveHelper_1 = __importDefault(require(\"../brain/MoveHelper\"));\r\nvar constant_2 = require(\"../brain/constant\");\r\nvar REN = /** @class */ (function () {\r\n    function REN(renProps) {\r\n        this.moveHelper = new MoveHelper_1.default();\r\n        var boardStr = renProps.boardStr, turnStr = renProps.turnStr, kqJumpedStr = renProps.kqJumpedStr, kAttackedStr = renProps.kAttackedStr, countUpStr = renProps.countUpStr, graveyardStr = renProps.graveyardStr;\r\n        // TODO: improve by moving to fromString()\r\n        this.board = new Board_1.default(boardStr);\r\n        this.turn = turnStr || constant_2.PIECE_COLOR_WHITE;\r\n        this.kqJumped = new KqJumped_1.default(kqJumpedStr);\r\n        this.kAttacked = new KAttacked_1.default(kAttackedStr);\r\n        this.countUp = CountUp_1.default.fromString(countUpStr);\r\n        this.graveyard = new Graveyard_1.default(graveyardStr);\r\n        var invalidPiecesString = this.isInvalidPieceCount();\r\n        if (invalidPiecesString) {\r\n            var msg = \"Invalid piece string board:\" + boardStr;\r\n            msg += \", graveyard:\" + graveyardStr + \", count:\" + invalidPiecesString;\r\n            throw new Error(msg);\r\n        }\r\n        this.moveHelper = new MoveHelper_1.default();\r\n    }\r\n    REN.prototype.isInvalidPieceCount = function () {\r\n        var pieces = this.board.pieceIndices.map(function (pos) {\r\n            return pos.piece;\r\n        }).filter(function (p) {\r\n            return p !== null;\r\n        }).concat(this.graveyard.pieces).map(function (p) {\r\n            return p.originPiece;\r\n        });\r\n        var piecesCount = pieces.reduce(function (obj, p) {\r\n            obj[p.pieceCharCode] = obj[p.pieceCharCode] || 0;\r\n            obj[p.pieceCharCode]++;\r\n            return obj;\r\n        }, {});\r\n        var str = Object.keys(piecesCount).map(function (k) {\r\n            return \"\" + k + piecesCount[k];\r\n        }).sort().join('');\r\n        if (str === constant_1.STRING_COUNT) {\r\n            return false;\r\n        }\r\n        return str;\r\n    };\r\n    REN.prototype.backRen = function (move) {\r\n        var ren = REN.fromString(this.toString());\r\n        ren.moveBack(move);\r\n        return ren;\r\n    };\r\n    Object.defineProperty(REN.prototype, \"isCanMoveNext\", {\r\n        get: function () {\r\n            return !this.countUp.isCountingOut;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    REN.prototype.move = function (moveFromIndex, moveToIndex) {\r\n        if (!this.isCanMoveNext) {\r\n            return null;\r\n        }\r\n        var piece = this.board.getPieceAtIndex(moveFromIndex);\r\n        if (!piece) {\r\n            return null;\r\n        }\r\n        this.board.setPieceAtIndex(moveFromIndex, null);\r\n        var move = new Move_1.default({\r\n            moveFrom: Point_1.default.fromIndex(moveFromIndex),\r\n            moveTo: Point_1.default.fromIndex(moveToIndex),\r\n            piece: piece.clone(),\r\n        });\r\n        if (move.isUpgrading) {\r\n            piece.upgrade();\r\n        }\r\n        var targetPiece = this.board.getPieceAtIndex(moveToIndex);\r\n        if (targetPiece) {\r\n            this.graveyard.pieces.push(targetPiece);\r\n            move.captured = new kpgn_1.Captured({\r\n                fromBoardPoint: Point_1.default.fromIndex(moveToIndex),\r\n                toGraveyardPoint: Point_1.default.fromIndex(this.graveyard.lastIndex),\r\n                piece: targetPiece,\r\n            });\r\n        }\r\n        this.board.setPieceAtIndex(moveToIndex, piece);\r\n        this.turn = Piece_1.default.oppositeColor(piece.color);\r\n        move.setRen(this);\r\n        return move;\r\n    };\r\n    REN.prototype.moveBack = function (move) {\r\n        var movedToIndex = move.moveTo.index;\r\n        var movedFromIndex = move.moveFrom.index;\r\n        var piece = this.board.getPieceAtIndex(movedToIndex);\r\n        this.board.setPieceAtIndex(movedToIndex, null);\r\n        if (!piece) {\r\n            return false;\r\n        }\r\n        this.board.setPieceAtIndex(movedFromIndex, piece);\r\n        if (move.captured) {\r\n            var movedToGYIndex = move.captured.toGraveyardPoint.index;\r\n            var capturedPiece = this.graveyard.get(movedToGYIndex);\r\n            this.board.setPieceAtIndex(movedToIndex, capturedPiece);\r\n            this.graveyard.removeAtIndex(movedToGYIndex);\r\n        }\r\n        if (move.kqJumping.whiteKing) {\r\n            this.kqJumped.whiteKing = false;\r\n        }\r\n        if (move.kqJumping.whiteQueen) {\r\n            this.kqJumped.whiteQueen = false;\r\n        }\r\n        if (move.kqJumping.blackKing) {\r\n            this.kqJumped.blackKing = false;\r\n        }\r\n        if (move.kqJumping.blackQueen) {\r\n            this.kqJumped.blackQueen = false;\r\n        }\r\n        if (this.countUp) {\r\n            this.countUp.clear();\r\n        }\r\n        this.turn = piece.color;\r\n        return true;\r\n    };\r\n    REN.fromString = function (renStr) {\r\n        if (!renStr) {\r\n            renStr = constant_1.DEFAULT_BOARD_STR;\r\n        }\r\n        var renArr = renStr.split(' ');\r\n        return new REN({\r\n            boardStr: renArr[0],\r\n            turnStr: renArr[1],\r\n            kqJumpedStr: renArr[2],\r\n            kAttackedStr: renArr[3],\r\n            countUpStr: renArr[4],\r\n            graveyardStr: renArr[5],\r\n        });\r\n    };\r\n    REN.prototype.toString = function () {\r\n        var str = this.board.toString();\r\n        str += \" \" + this.turn.toString();\r\n        str += \" \" + this.kqJumped.toString();\r\n        str += \" \" + this.kAttacked.toString();\r\n        str += \" \" + this.countUp.toString();\r\n        str += \" \" + this.graveyard.toString();\r\n        return str;\r\n    };\r\n    Object.defineProperty(REN.prototype, \"isQueenMoved\", {\r\n        get: function () {\r\n            var isQueenMoved = Piece_1.default.isWhiteColor(this.turn) && this.kqJumped.whiteQueen ||\r\n                Piece_1.default.isBlackColor(this.turn) && this.kqJumped.blackQueen;\r\n            return isQueenMoved;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    Object.defineProperty(REN.prototype, \"isKingMoved\", {\r\n        get: function () {\r\n            var isKingMoved = Piece_1.default.isWhiteColor(this.turn) && this.kqJumped.whiteKing ||\r\n                Piece_1.default.isBlackColor(this.turn) && this.kqJumped.blackKing;\r\n            return isKingMoved;\r\n        },\r\n        enumerable: false,\r\n        configurable: true\r\n    });\r\n    REN.prototype.genAllCanMoves = function () {\r\n        var canMoves = this.moveHelper.calcCanMove({\r\n            piecesString: this.board.toStringFullNoSeparate(),\r\n            currentTurn: this.turn,\r\n            isQueenMoved: this.isQueenMoved,\r\n            isKingMoved: this.isKingMoved,\r\n            genCanMove: true,\r\n            genCanMoveForAnother: false,\r\n        });\r\n        return canMoves.moves;\r\n    };\r\n    REN.prototype.isHasMoved = function (piece) {\r\n        var isHasMoved = false;\r\n        if ((this.kqJumped.blackKing && piece.isColorBlack && piece.isTypeKing) ||\r\n            (this.kqJumped.whiteKing && piece.isColorWhite && piece.isTypeKing) ||\r\n            (this.kqJumped.blackQueen && piece.isColorBlack && piece.isTypeQueen) ||\r\n            (this.kqJumped.whiteQueen && piece.isColorWhite && piece.isTypeQueen)) {\r\n            isHasMoved = true;\r\n        }\r\n        return isHasMoved;\r\n    };\r\n    REN.prototype.getCanMovePointsByPoint = function (point) {\r\n        var piece = this.board.getPieceAtIndex(point.index);\r\n        if (piece === null) {\r\n            return [];\r\n        }\r\n        return this.moveHelper.genCanMovePointsByPiecePoint(point, piece, this.board.toStringFullNoSeparate(), this.isHasMoved(piece));\r\n    };\r\n    REN.prototype.checkBoardStatus = function (move, force) {\r\n        var _this = this;\r\n        var piecesString = this.board.toStringFullNoSeparate();\r\n        // TODO: optimize by specific color\r\n        var state = this.moveHelper.calcState({\r\n            piecesString: piecesString,\r\n            currentTurn: this.turn,\r\n            isQueenMoved: this.isQueenMoved,\r\n            isKingMoved: this.isKingMoved,\r\n            genCanMove: false,\r\n            genCanMoveForAnother: false,\r\n        });\r\n        var kingInDanger = state.blackKingInDanger || state.whiteKingInDanger;\r\n        if (kingInDanger) {\r\n            var pieceIndex = kingInDanger.map(function (point) {\r\n                return new _1.PieceIndex(point, _this.board.getPieceAtIndex(point.index));\r\n            }).filter(function (pieceIndex) {\r\n                return pieceIndex.piece !== null && !pieceIndex.piece.isTypeKing;\r\n            })[0];\r\n            move.boardStatus.attacker = pieceIndex;\r\n        }\r\n        move.boardStatus.winColor = state.winColor;\r\n        move.boardStatus.stuckColor = state.stuckColor;\r\n    };\r\n    REN.prototype.checkCountStatus = function (move, force) {\r\n        if (move.isCanMoveNext) {\r\n            var piecesString = this.board.toStringFullNoSeparate();\r\n            if (this.countUp.isCounting) {\r\n                move.isStartCounting = false;\r\n                this.countUp.checkUp(move.piece.color);\r\n                if (this.countUp.isCountingOut) {\r\n                    move.boardStatus.drawCountColor = this.countUp.color;\r\n                }\r\n            }\r\n            else {\r\n                var color = Piece_1.default.oppositeColor(move.piece.color);\r\n                var countState = this.moveHelper.calCount({\r\n                    color: Piece_1.default.oppositeColor(move.piece.color),\r\n                    piecesString: piecesString,\r\n                    force: !!force,\r\n                });\r\n                if (countState) {\r\n                    this.countUp.set(color, countState.countingToNumber, countState.countingNumber);\r\n                    move.isStartCounting = true;\r\n                }\r\n            }\r\n        }\r\n        move.syncRen(this);\r\n    };\r\n    REN.prototype.getWinColor = function () {\r\n        var state = this.moveHelper.calcState({\r\n            piecesString: this.board.toStringFullNoSeparate(),\r\n            currentTurn: this.turn,\r\n            isQueenMoved: this.isQueenMoved,\r\n            isKingMoved: this.isKingMoved,\r\n            genCanMove: false,\r\n            genCanMoveForAnother: false,\r\n        });\r\n        return state.winColor;\r\n    };\r\n    REN.prototype.syncWithMove = function (move) {\r\n        if (move) {\r\n            var countUp = this.countUp;\r\n            if (countUp.isCounting && this.turn !== countUp.color && !move.isStartCounting) {\r\n                countUp.isCountingUp = true;\r\n            }\r\n        }\r\n    };\r\n    return REN;\r\n}());\r\nexports.default = REN;\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n *---------------------------------------------------------------------------- */ \r\n//# sourceMappingURL=REN.js.map","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.EVENT_FLAG_MOVING = exports.EVENT_FLAG_COUNT_UP_OUT = exports.EVENT_FLAG_COUNTING_UP = exports.EVENT_FLAG_START_COUNTING = exports.EVENT_FLAG_DRAW = exports.EVENT_FLAG_WIN = exports.EVENT_FLAG_ATTACK = exports.PIECE_FLAG_START_COUNTING = exports.PIECE_FLAG_UPGRADE = exports.PIECE_FLAG_JUMP = exports.PIECE_FLAG_KILL = exports.NOT_SET = exports.DEFAULT_BOARD_STR = exports.STRING_COUNT = void 0;\r\n// BHGQKGHB/8/FFFFFFFF/8/8/ffffffff/8/bhgkqghb w ---- -- -.-\r\nexports.STRING_COUNT = 'B2F8G2H2K1Q1b2f8g2h2k1q1';\r\n// BHGQKGHB/8/FFFFFFFF/8/8/ffffffff/8/bhgkqghb w ---- -- -.-\r\nexports.DEFAULT_BOARD_STR = 'BHGKQGHB/8/FFFFFFFF/8/8/ffffffff/8/bhgqkghb';\r\nexports.NOT_SET = '-';\r\nexports.PIECE_FLAG_KILL = '<';\r\nexports.PIECE_FLAG_JUMP = '^';\r\nexports.PIECE_FLAG_UPGRADE = '*';\r\nexports.PIECE_FLAG_START_COUNTING = '#';\r\nexports.EVENT_FLAG_ATTACK = 'attack';\r\nexports.EVENT_FLAG_WIN = 'win';\r\nexports.EVENT_FLAG_DRAW = 'draw';\r\nexports.EVENT_FLAG_START_COUNTING = 'start-counting';\r\nexports.EVENT_FLAG_COUNTING_UP = 'counting-up';\r\nexports.EVENT_FLAG_COUNT_UP_OUT = 'count-up-out';\r\nexports.EVENT_FLAG_MOVING = 'moving';\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n *---------------------------------------------------------------------------- */ \r\n//# sourceMappingURL=constant.js.map","\"use strict\";\r\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}));\r\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n};\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Point = exports.REN = exports.PieceIndex = exports.Piece = exports.KqJumped = exports.KAttacked = exports.Graveyard = exports.CountUp = exports.Board = void 0;\r\nvar Board_1 = require(\"./Board\");\r\nObject.defineProperty(exports, \"Board\", { enumerable: true, get: function () { return __importDefault(Board_1).default; } });\r\nvar CountUp_1 = require(\"./CountUp\");\r\nObject.defineProperty(exports, \"CountUp\", { enumerable: true, get: function () { return __importDefault(CountUp_1).default; } });\r\nvar Graveyard_1 = require(\"./Graveyard\");\r\nObject.defineProperty(exports, \"Graveyard\", { enumerable: true, get: function () { return __importDefault(Graveyard_1).default; } });\r\nvar KAttacked_1 = require(\"./KAttacked\");\r\nObject.defineProperty(exports, \"KAttacked\", { enumerable: true, get: function () { return __importDefault(KAttacked_1).default; } });\r\nvar KqJumped_1 = require(\"./KqJumped\");\r\nObject.defineProperty(exports, \"KqJumped\", { enumerable: true, get: function () { return __importDefault(KqJumped_1).default; } });\r\nvar Piece_1 = require(\"./Piece\");\r\nObject.defineProperty(exports, \"Piece\", { enumerable: true, get: function () { return __importDefault(Piece_1).default; } });\r\nvar PieceIndex_1 = require(\"./PieceIndex\");\r\nObject.defineProperty(exports, \"PieceIndex\", { enumerable: true, get: function () { return __importDefault(PieceIndex_1).default; } });\r\nvar REN_1 = require(\"./REN\");\r\nObject.defineProperty(exports, \"REN\", { enumerable: true, get: function () { return __importDefault(REN_1).default; } });\r\nvar Point_1 = require(\"./Point\");\r\nObject.defineProperty(exports, \"Point\", { enumerable: true, get: function () { return __importDefault(Point_1).default; } });\r\n__exportStar(require(\"./constant\"), exports);\r\n/*\r\n * Copyright (c) 2021, K4us\r\n * Author: Raksa Eng <eng.raksa@gmail.com>\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are met:\r\n *\r\n * 1. Redistributions of source code must retain the above copyright notice,\r\n *    this list of conditions and the following disclaimer.\r\n * 2. Redistributions in binary form must reproduce the above copyright notice,\r\n *    this list of conditions and the following disclaimer in the documentation\r\n *    and/or other materials provided with the distribution.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS 'AS IS'\r\n * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\r\n * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE\r\n * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE\r\n * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\r\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF\r\n * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS\r\n * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN\r\n * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)\r\n * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE\r\n * POSSIBILITY OF SUCH DAMAGE.\r\n *\r\n *---------------------------------------------------------------------------- */ \r\n//# sourceMappingURL=index.js.map","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" version=\\\"1.1\\\" viewBox=\\\"-10 0 1024 1000\\\"><path fill=\\\"currentColor\\\" d=\\\"M508.259 454.128h0.302734c0.723633 0.328125 57.5889 26.0469 95.0117 39.4414c15.5312 5.55664 60.1143 14.5146 100.886 37.5742c40.7734 23.0596 80.3154 64.8369 83.1123 130.47c2.31543 54.373 -10.3096 109.333 -25.2803 154.087 c6.84863 10.3203 11.2207 22.1895 11.2207 35.21c0 21.4883 -11.8955 39.8535 -27.207 53.2637c-15.3145 13.4111 -34.8975 23.6748 -57.9736 32.2236c-46.1543 17.0977 -106.736 26.8711 -173.619 26.8711c-2.0752 0 -4.14355 -0.0117188 -6.20801 -0.03125 c-0.0615234 -0.000976562 -0.124023 0.00195312 -0.1875 0c-2.06543 0.0195312 -4.13281 0.03125 -6.20996 0.03125c-66.8838 0 -127.464 -9.77344 -173.617 -26.8711c-23.0781 -8.54883 -42.6602 -18.8125 -57.9736 -32.2236 c-15.3125 -13.4102 -27.2061 -31.7754 -27.2061 -53.2637c0 -13.0205 4.36914 -24.8896 11.2197 -35.21c-14.9707 -44.7539 -27.5957 -99.7139 -25.2793 -154.087c2.79492 -65.6328 42.3359 -107.41 83.1084 -130.47c40.7734 -23.0596 85.3584 -32.0176 100.886 -37.5742 c37.4268 -13.3945 94.291 -39.1133 95.0146 -39.4414zM508.409 504.763c-20.376 8.9502 -53.2832 23.0273 -79.7217 32.4873c-23.9287 8.56348 -61.2559 15.9336 -93.749 34.3086c-14.8428 8.39648 -28.126 18.1328 -38.3906 30.8848 c0.896484 3.19238 3.48145 7.44922 9.91992 13.0869c8.62891 7.55859 23.416 15.9863 42.6934 23.126c38.5488 14.2812 94.6504 23.8262 156.645 23.8262c0.84082 0 1.6748 -0.0078125 2.51074 -0.0117188h0.1875c0.835938 0.00390625 1.66992 0.0117188 2.50879 0.0117188 c61.9961 0 118.094 -9.54492 156.646 -23.8262c19.2773 -7.13965 34.0645 -15.5674 42.6934 -23.126c6.43945 -5.6377 9.02246 -9.89453 9.91895 -13.0869c-10.2627 -12.752 -23.5479 -22.4883 -38.3906 -30.8848c-32.4932 -18.375 -69.8193 -25.7451 -93.7471 -34.3086 c-26.4395 -9.45996 -59.3467 -23.5371 -79.7246 -32.4873zM276.397 651.025c-0.543945 4.00684 -0.922852 8.18848 -1.11035 12.5723c-1.66699 39.165 6.68555 81.0391 17.7539 118.115l0.115234 0.542969c9.16602 6.33594 20.1504 12.4805 32.7764 18.0752 c44.8291 19.8672 109.379 32.9443 180.788 32.9443c0.53125 0 1.0625 -0.00488281 1.5957 -0.00683594v-0.00195312h0.0927734h0.0947266v0.00195312c0.53125 0.00195312 1.06445 0.00683594 1.59668 0.00683594c71.4082 0 135.957 -13.0771 180.788 -32.9443 c12.6221 -5.59473 23.6094 -11.7393 32.7764 -18.0752l0.113281 -0.542969c11.0703 -37.0762 19.4219 -78.9502 17.7549 -118.115c-0.1875 -4.38379 -0.567383 -8.56543 -1.1123 -12.5723c-14.8867 12.9287 -34.0654 23 -56.7441 31.3984 c-45.7266 16.9404 -106.057 26.7051 -172.664 26.7051c-0.838867 0 -1.67285 -0.00976562 -2.50879 -0.0146484h-0.1875c-0.835938 0.00585938 -1.66992 0.0146484 -2.51074 0.0146484c-66.6064 0 -126.937 -9.76465 -172.663 -26.7051 c-22.6777 -8.39844 -41.8574 -18.4697 -56.7451 -31.3984zM304.557 836.92l0.0224609 0.100586c-8.25391 7.22949 -9.38965 11.5586 -9.38965 13.8896c0 2.33301 1.13574 6.66406 9.38965 13.8916c8.25293 7.22656 22.7715 15.5518 41.835 22.6123 c38.123 14.123 93.9688 23.6562 155.692 23.6562c2.07812 0 4.14453 -0.0126953 6.20996 -0.0341797v-0.00292969h0.0927734h0.0947266v0.00292969c2.06445 0.0214844 4.13184 0.0341797 6.20801 0.0341797c61.7227 0 117.569 -9.5332 155.694 -23.6562 c19.0615 -7.06055 33.5811 -15.3857 41.835 -22.6123c8.25293 -7.22754 9.38965 -11.5586 9.38965 -13.8916c0 -2.33105 -1.13672 -6.66016 -9.38965 -13.8896l0.0195312 -0.100586c-1.47266 0.680664 -2.96289 1.3584 -4.4668 2.02441 c-52.0322 23.0605 -121.295 36.5273 -197.693 36.5273c-0.56543 0 -1.12793 -0.0078125 -1.69141 -0.00878906c-0.563477 0.00195312 -1.12402 0.00878906 -1.68848 0.00878906c-76.3984 0 -145.662 -13.4668 -197.694 -36.5273 c-1.50488 -0.666016 -2.99316 -1.34375 -4.46973 -2.02441zM508.259 454.128h0.302734c0.723633 0.328125 57.5889 26.0469 95.0117 39.4414c15.5312 5.55664 60.1143 14.5146 100.886 37.5742c40.7734 23.0596 80.3154 64.8369 83.1123 130.47 c2.31543 54.373 -10.3096 109.333 -25.2803 154.087c6.84863 10.3203 11.2207 22.1895 11.2207 35.21c0 21.4883 -11.8955 39.8535 -27.207 53.2637c-15.3145 13.4111 -34.8975 23.6748 -57.9736 32.2236c-46.1543 17.0977 -106.736 26.8711 -173.619 26.8711 c-2.0752 0 -4.14355 -0.0117188 -6.20801 -0.03125c-0.0615234 -0.000976562 -0.124023 0.00195312 -0.1875 0c-2.06543 0.0195312 -4.13281 0.03125 -6.20996 0.03125c-66.8838 0 -127.464 -9.77344 -173.617 -26.8711 c-23.0781 -8.54883 -42.6602 -18.8125 -57.9736 -32.2236c-15.3125 -13.4102 -27.2061 -31.7754 -27.2061 -53.2637c0 -13.0205 4.36914 -24.8896 11.2197 -35.21c-14.9707 -44.7539 -27.5957 -99.7139 -25.2793 -154.087c2.79492 -65.6328 42.3359 -107.41 83.1084 -130.47 c40.7734 -23.0596 85.3584 -32.0176 100.886 -37.5742c37.4268 -13.3945 94.291 -39.1133 95.0146 -39.4414zM508.409 504.763c-20.376 8.9502 -53.2832 23.0273 -79.7217 32.4873c-23.9287 8.56348 -61.2559 15.9336 -93.749 34.3086 c-14.8428 8.39648 -28.126 18.1328 -38.3906 30.8848c0.896484 3.19238 3.48145 7.44922 9.91992 13.0869c8.62891 7.55859 23.416 15.9863 42.6934 23.126c38.5488 14.2812 94.6504 23.8262 156.645 23.8262c0.84082 0 1.6748 -0.0078125 2.51074 -0.0117188h0.1875 c0.835938 0.00390625 1.66992 0.0117188 2.50879 0.0117188c61.9961 0 118.094 -9.54492 156.646 -23.8262c19.2773 -7.13965 34.0645 -15.5674 42.6934 -23.126c6.43945 -5.6377 9.02246 -9.89453 9.91895 -13.0869c-10.2627 -12.752 -23.5479 -22.4883 -38.3906 -30.8848 c-32.4932 -18.375 -69.8193 -25.7451 -93.7471 -34.3086c-26.4395 -9.45996 -59.3467 -23.5371 -79.7246 -32.4873zM276.397 651.025c-0.543945 4.00684 -0.922852 8.18848 -1.11035 12.5723c-1.66699 39.165 6.68555 81.0391 17.7539 118.115l0.115234 0.542969 c9.16602 6.33594 20.1504 12.4805 32.7764 18.0752c44.8291 19.8672 109.379 32.9443 180.788 32.9443c0.53125 0 1.0625 -0.00488281 1.5957 -0.00683594v-0.00195312h0.0927734h0.0947266v0.00195312c0.53125 0.00195312 1.06445 0.00683594 1.59668 0.00683594 c71.4082 0 135.957 -13.0771 180.788 -32.9443c12.6221 -5.59473 23.6094 -11.7393 32.7764 -18.0752l0.113281 -0.542969c11.0703 -37.0762 19.4219 -78.9502 17.7549 -118.115c-0.1875 -4.38379 -0.567383 -8.56543 -1.1123 -12.5723 c-14.8867 12.9287 -34.0654 23 -56.7441 31.3984c-45.7266 16.9404 -106.057 26.7051 -172.664 26.7051c-0.838867 0 -1.67285 -0.00976562 -2.50879 -0.0146484h-0.1875c-0.835938 0.00585938 -1.66992 0.0146484 -2.51074 0.0146484 c-66.6064 0 -126.937 -9.76465 -172.663 -26.7051c-22.6777 -8.39844 -41.8574 -18.4697 -56.7451 -31.3984zM304.557 836.92l0.0224609 0.100586c-8.25391 7.22949 -9.38965 11.5586 -9.38965 13.8896c0 2.33301 1.13574 6.66406 9.38965 13.8916 c8.25293 7.22656 22.7715 15.5518 41.835 22.6123c38.123 14.123 93.9688 23.6562 155.692 23.6562c2.07812 0 4.14453 -0.0126953 6.20996 -0.0341797v-0.00292969h0.0927734h0.0947266v0.00292969c2.06445 0.0214844 4.13184 0.0341797 6.20801 0.0341797 c61.7227 0 117.569 -9.5332 155.694 -23.6562c19.0615 -7.06055 33.5811 -15.3857 41.835 -22.6123c8.25293 -7.22754 9.38965 -11.5586 9.38965 -13.8916c0 -2.33105 -1.13672 -6.66016 -9.38965 -13.8896l0.0195312 -0.100586 c-1.47266 0.680664 -2.96289 1.3584 -4.4668 2.02441c-52.0322 23.0605 -121.295 36.5273 -197.693 36.5273c-0.56543 0 -1.12793 -0.0078125 -1.69141 -0.00878906c-0.563477 0.00195312 -1.12402 0.00878906 -1.68848 0.00878906 c-76.3984 0 -145.662 -13.4668 -197.694 -36.5273c-1.50488 -0.666016 -2.99316 -1.34375 -4.46973 -2.02441z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" version=\\\"1.1\\\" viewBox=\\\"-10 0 1024 1000\\\"><path fill=\\\"currentColor\\\" d=\\\"M506.65 431.63c134.85 0 246.449 36.2705 263.189 82.7705c0.929688 1.85938 1.86035 4.64941 1.86035 7.43945v0.929688v2.79004v3.7207v159.96v2.79004v1.85938v1.86035c0 1.86035 0 3.71973 -0.930664 5.58008h-0.929688 c-13.9502 47.4297 -125.55 85.5596 -263.189 85.5596c-135.78 0 -247.381 -36.2695 -263.19 -83.6992c-0.929688 -1.86035 -1.86035 -4.65039 -1.86035 -7.44043v-2.79004v-0.929688v-0.930664v-163.68v-1.86035v-0.929688v-2.79004 c0 -2.79004 0.930664 -5.58008 1.86035 -7.43945c15.8096 -46.5 128.34 -82.7705 263.19 -82.7705zM506.65 455.81c-118.11 0 -214.83 28.8301 -223.2 65.1006v0.929688v9.2998c8.37012 36.2705 106.02 65.1006 223.2 65.1006c117.18 0 212.97 -27.9004 222.27 -64.1699 v-10.2305l0.929688 -0.929688c-8.36914 -36.2705 -106.02 -65.1006 -223.199 -65.1006zM503.86 483.71h0.929688h1.86035c92.0693 0 167.399 18.5996 167.399 41.8496s-75.3301 42.7803 -167.399 42.7803c-92.0703 0 -167.4 -19.5303 -167.4 -42.7803 s73.4697 -41.8496 164.61 -41.8496zM283.45 576.71v108.81c12.0898 7.44043 26.04 13.9502 41.8496 20.4609c47.4307 17.6699 111.601 28.8291 181.351 28.8291s133.92 -11.1592 181.35 -28.8291c15.8096 -5.58008 28.8301 -13.0205 40.9199 -20.4609v-107.88 c-47.4297 26.04 -128.34 42.7803 -222.27 42.7803c-93.9307 0 -175.771 -17.6699 -223.2 -43.71z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" version=\\\"1.1\\\" viewBox=\\\"-10 0 1024 1000\\\"><path fill=\\\"currentColor\\\" d=\\\"M507 235.393c1.83789 0.286133 3.61914 0.865234 5.27539 1.71289l64.8867 33.2344c10.7539 5.50977 12.8213 20.001 4.03711 28.2988c0 0 -7.0332 6.64258 -15.0273 14.4414c-3.23633 3.15723 -4.9248 5.08301 -8.07422 8.27344 c5.47754 2.72754 11.8604 5.69922 19.3691 8.82812c22.6201 9.42383 50.4775 19.25 65.6953 24.7285c22.7773 8.19922 65.4688 29.5645 93.7773 69.9082c28.3086 40.3428 37.751 101.351 -7.36719 172.721c-24.5537 38.8389 -44.7812 68.5156 -61.2578 91.1914 c8.08496 5.00098 15.2607 10.543 21.3789 16.7344c11.5938 11.7324 19.5781 26.6494 19.5781 43.0977c0 1.43848 -0.0820312 2.8623 -0.201172 4.27734v41.1211c0 2.58789 -0.265625 5.1748 -0.794922 7.75391h0.404297v31.6875 c0.242188 -1.68164 0.373047 -3.36523 0.390625 -5.04883v49.6074c0 48.3389 -90.3945 87.5459 -202.07 87.7402c-111.677 -0.194336 -202.07 -39.4014 -202.07 -87.7402v-49.6074c0.0185547 1.68359 0.148438 3.36719 0.390625 5.04883v-31.6875h0.404297 c-0.529297 -2.5791 -0.794922 -5.16602 -0.794922 -7.75391v-41.1211c-0.119141 -1.41504 -0.201172 -2.83887 -0.201172 -4.27734c0 -16.4482 7.98438 -31.3652 19.5781 -43.0977c6.11816 -6.19141 13.2939 -11.7334 21.3789 -16.7344 c-16.4766 -22.6758 -36.7041 -52.3525 -61.2578 -91.1914c-45.1182 -71.3701 -35.6758 -132.378 -7.36719 -172.721c28.3086 -40.3438 71 -61.709 93.7773 -69.9082c15.2178 -5.47852 43.0752 -15.3047 65.6953 -24.7285 c7.50879 -3.12891 13.8916 -6.10059 19.3691 -8.82812c-3.14941 -3.19043 -4.83789 -5.11621 -8.07422 -8.27344c-7.99414 -7.79883 -15.0273 -14.4414 -15.0273 -14.4414c-8.78418 -8.29785 -6.7168 -22.7891 4.03711 -28.2988l64.8867 -33.2344 c1.65625 -0.847656 3.4375 -1.42676 5.27539 -1.71289zM507 273.729l-32.4082 16.5996c7.51367 7.3457 15.2119 14.9551 20.0684 20.7832c1.03223 1.23926 1.90234 2.77734 2.5957 4.45703c2.51172 0.912109 5.62793 1.56055 9.04492 1.56055 c4.22754 0 8.00586 -0.983398 10.7305 -2.24414c0.641602 -1.41406 1.41699 -2.70312 2.30859 -3.77344c4.85645 -5.82812 12.5547 -13.4375 20.0684 -20.7832zM526.406 343.529c-6.18066 2.38379 -12.9805 3.59961 -20.1055 3.59961 c-6.77148 0 -13.2471 -1.10449 -19.1797 -3.25977c-1.82715 1.30762 -3.70215 2.44336 -5.71094 3.63672c-8.53906 5.07129 -19.3936 9.97461 -31.416 14.9844c-24.0459 10.0176 -52.3682 19.9736 -67.3008 25.3496c-0.44043 0.158203 -0.954102 0.367188 -1.42383 0.544922 c0.853516 1.18359 1.87793 2.42578 3.12891 3.75c5.24902 5.55371 14.1396 11.6768 25.9199 16.9492c23.5469 10.5361 58.251 17.7207 96.6816 17.7305c38.4307 -0.00976562 73.1348 -7.19434 96.6816 -17.7305c11.7803 -5.27246 20.6709 -11.3955 25.9199 -16.9492 c1.25098 -1.32422 2.27539 -2.56641 3.12891 -3.75c-0.469727 -0.177734 -0.983398 -0.386719 -1.42383 -0.544922c-14.9326 -5.37598 -43.2549 -15.332 -67.3008 -25.3496c-12.0225 -5.00977 -22.877 -9.91309 -31.416 -14.9844 c-2.18262 -1.29688 -4.20801 -2.52051 -6.18359 -3.97656zM350.074 404.42c-15.6006 9.89844 -32.4736 23.5576 -44.3633 40.502c-4.9248 7.01855 -9.21387 14.5186 -12.459 22.6406c0.287109 8.88672 4.41113 17.9248 13.7441 27.5879 c9.68359 10.0254 24.8506 20.0293 44.2734 28.5352c38.8301 17.0039 94.3398 28.084 155.73 28.0938c61.3906 -0.00976562 116.9 -11.0898 155.73 -28.0938c19.4229 -8.50586 34.5898 -18.5098 44.2734 -28.5352c9.33301 -9.66309 13.457 -18.7012 13.7441 -27.5879 c-3.24512 -8.12207 -7.53418 -15.6221 -12.459 -22.6406c-11.8896 -16.9443 -28.7627 -30.6035 -44.3633 -40.502c-2.49512 4.22949 -5.50391 8.17578 -8.88867 11.7578c-9.62207 10.1787 -22.251 18.2256 -37.0605 24.8535 c-29.6025 13.2461 -68.3135 20.7734 -110.977 20.7832c-42.6631 -0.00878906 -81.374 -7.53711 -110.977 -20.7832c-14.8096 -6.62793 -27.4385 -14.6748 -37.0605 -24.8535c-3.38477 -3.58203 -6.39355 -7.52832 -8.88867 -11.7578zM288.635 519.176 c3.22852 17.3896 11.0918 37.0635 25.377 59.6602c43.2188 68.3643 72.5029 107.337 90.5898 128.852c9.04395 10.7568 15.2842 17.1475 19.0098 20.6602c2.57812 2.43066 3.38086 3.09766 3.6582 3.30273c0.938477 0.351562 2.00391 0.701172 3.24414 1.04688 c1.71582 0.871094 3.54688 1.7334 5.51367 2.5625c16.9707 7.15527 42.5957 12.209 70.9727 12.2188c28.377 -0.00976562 54.002 -5.06348 70.9727 -12.2188c1.9668 -0.829102 3.79785 -1.69141 5.51367 -2.5625c1.24023 -0.345703 2.30566 -0.695312 3.24414 -1.04688 c0.277344 -0.205078 1.08008 -0.87207 3.6582 -3.30273c3.72559 -3.5127 9.96582 -9.90332 19.0098 -20.6602c18.0869 -21.5146 47.3711 -60.4873 90.5898 -128.852c14.2852 -22.5967 22.1484 -42.2705 25.377 -59.6602c-13.124 12.542 -30.3066 23.1035 -50.5996 31.9902 c-43.9648 19.2529 -102.825 30.6045 -167.766 30.6133c-64.9404 -0.00878906 -123.801 -11.3604 -167.766 -30.6133c-20.293 -8.88672 -37.4756 -19.4482 -50.5996 -31.9902zM366.945 716.852c-7.43848 4.33594 -13.4365 8.85547 -17.7441 13.2148 c-7.11328 7.19824 -9.47266 13.0957 -9.47266 18.4961s2.35938 11.2988 9.47266 18.498c7.11328 7.19824 18.8076 14.8359 34.0527 21.3613c30.4746 13.0439 74.7559 21.751 123.746 21.7617c48.9902 -0.00976562 93.2715 -8.71777 123.746 -21.7617 c15.2451 -6.52539 26.9395 -14.1631 34.0527 -21.3613c7.11328 -7.19922 9.47266 -13.0977 9.47266 -18.498s-2.35938 -11.2979 -9.47266 -18.4961c-4.30762 -4.35938 -10.3057 -8.87891 -17.7441 -13.2148c-3.92676 4.96387 -7.56055 9.42676 -10.8652 13.3574 c-2.74316 3.2627 -5.25391 6.15723 -7.58984 8.7832c-2.21094 3.69824 -4.91016 7.06934 -7.88086 10.0312c-3.34375 3.33301 -7.06738 6.30859 -11.123 9.00391c-2.35254 1.93457 -3.9707 3.0918 -3.9707 3.0918c-1.62109 1.05273 -3.40625 1.83008 -5.28125 2.30078 c-2.81152 1.44629 -5.73438 2.80762 -8.77344 4.08984c-22.8408 9.62988 -52.2061 14.958 -84.5703 14.9688c-32.3652 -0.00878906 -61.7295 -5.33887 -84.5703 -14.9688c-3.03906 -1.28223 -5.96191 -2.64355 -8.77344 -4.08984 c-1.875 -0.470703 -3.66016 -1.24805 -5.28125 -2.30078c0 0 -1.61816 -1.15723 -3.9707 -3.0918c-4.05566 -2.69531 -7.7793 -5.6709 -11.123 -9.00391c-2.9707 -2.96191 -5.66992 -6.33301 -7.88086 -10.0312c-2.33594 -2.62598 -4.84668 -5.52051 -7.58984 -8.7832 c-3.30469 -3.93066 -6.93848 -8.39355 -10.8652 -13.3574zM304.93 740.557v-0.000976562s0.152344 0.00976562 0.152344 0.0107422c-0.101562 1.13086 -0.152344 2.2627 -0.152344 3.39453v-3.4043zM709.07 740.557v3.4043 c0 -1.13184 -0.0507812 -2.26367 -0.152344 -3.39453zM304.93 824.557v-0.000976562s0.152344 0.00976562 0.152344 0.0107422c-0.101562 1.13086 -0.152344 2.2627 -0.152344 3.39453v-3.4043zM709.07 824.557v3.4043c0 -1.13184 -0.0507812 -2.26367 -0.152344 -3.39453z M345.32 816.498v54c38.1396 22.0625 98.0137 35.0879 161.68 35.2012c63.666 -0.113281 123.54 -13.1387 161.68 -35.2012v-54c-38.1396 22.0625 -98.0137 35.0879 -161.68 35.2012c-63.666 -0.113281 -123.54 -13.1387 -161.68 -35.2012z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" version=\\\"1.1\\\" viewBox=\\\"-10 0 1024 1000\\\"><path fill=\\\"currentColor\\\" d=\\\"M507.133 128.938c2.10352 0 6.27539 3.76953 6.33398 3.82324l0.0253906 0.0244141c-0.0253906 -0.0244141 61.4521 53.6514 85.3789 81.9648l6.52539 -18.3604s7.18066 16.7627 15.5078 39.5127l114.568 109.985c3.75 3.60156 5.85742 8.48535 5.85742 13.5771v243.649 c0.410156 -0.0283203 0.819336 -0.0546875 1.22852 -0.0839844c-0.0605469 4.50195 -0.490234 8.92383 -1.22852 13.2656v75.2002c0 3.69629 -1.11035 7.31348 -3.19922 10.418l-16.5273 24.5645l14.8242 20.0537c2.40039 3.24707 3.68945 7.12988 3.68945 11.1113v15.4561 l0.0839844 0.0185547v10.043c0 0.785156 -0.0332031 1.57031 -0.0839844 2.35449v17.6836c0 0.416992 -0.0146484 0.833008 -0.0429688 1.24902v7.24707c0.0390625 0.00976562 0.126953 0.0322266 0.126953 0.0322266v5.99414 c-0.000976562 -1.00488 -0.0429688 -2.00879 -0.126953 -3.01367v6.06445c0.0800781 -0.958008 0.126953 -1.91602 0.126953 -2.875v55.5049c0.000976562 50.2676 -101.563 91.0166 -226.85 91.0166c-2.11914 0 -4.23535 -0.0273438 -6.35156 -0.0517578 c-2.11621 0.0244141 -4.23242 0.0517578 -6.35156 0.0517578c-125.286 0 -226.851 -40.749 -226.85 -91.0166v-55.5049c0.00488281 0.958984 0.046875 1.91699 0.126953 2.875v-6.06445c-0.0839844 1.00488 -0.126953 2.00879 -0.126953 3.01367v-5.99414 s0.0878906 -0.0224609 0.126953 -0.0322266v-7.24707c-0.0283203 -0.416016 -0.0429688 -0.832031 -0.0429688 -1.24902v-17.6836c-0.0507812 -0.78418 -0.0839844 -1.56934 -0.0839844 -2.35449v-10.043l0.0839844 -0.0185547v-15.4561 c0 -3.98145 1.28906 -7.86426 3.68945 -11.1113l14.8242 -20.0537l-16.5273 -24.5645c-2.08887 -3.10449 -3.19922 -6.72168 -3.19922 -10.418v-75.2002c-0.738281 -4.3418 -1.16797 -8.76367 -1.22852 -13.2656c0.40918 0.0292969 0.818359 0.0556641 1.22852 0.0839844 v-243.649c0 -5.0918 2.10742 -9.97559 5.85742 -13.5771l114.568 -109.985c8.32715 -22.75 15.5078 -39.5127 15.5078 -39.5127l6.52539 18.3604l85.3867 -81.9727s4.41113 -3.83984 6.61719 -3.83984zM507 180.858l-77.4805 74.3818l19.1309 53.834 c2.2627 -2.43066 4.80371 -5.06543 7.5625 -7.71387c4.59277 -4.4082 9.64746 -8.84863 15.4141 -12.4688c4.3252 -2.71484 9.39941 -5.90625 16.2363 -6.0791c2.2793 -0.0566406 4.75488 0.22168 7.46289 0.963867c9.21777 2.52832 9.81445 7.37012 10.8105 9.6416 c0.356445 0.813477 0.625 1.55176 0.863281 2.26855c0.238281 -0.716797 0.506836 -1.45508 0.863281 -2.26855c0.996094 -2.27148 1.59375 -7.11328 10.8105 -9.6416c2.70801 -0.742188 5.18359 -1.02051 7.46289 -0.963867 c6.83691 0.172852 11.9111 3.36426 16.2363 6.0791c5.7666 3.62012 10.8213 8.06055 15.4141 12.4688c2.75879 2.64844 5.2998 5.2832 7.5625 7.71387l19.1309 -53.834zM370.654 311.752l-57.9863 55.666v246.659c4.93457 19.583 21.7236 38.7188 49.959 54.5967 c20.6514 11.6133 46.8711 20.8506 76.4863 26.3301c7.5 2.91895 16.1855 7.33789 18.5352 12.8154c2.18945 5.10547 6.88965 14.5527 11.1152 22.8809c0.928711 4.10254 -2.65039 5.66992 -7.59766 6c-45.2871 -4.55176 -86.123 -16.8662 -118.607 -35.1338 c-10.9092 -6.13477 -20.9678 -13.0654 -29.8906 -20.6836v4.95215l20.6777 30.7334c4.4375 6.59766 4.24414 15.124 -0.490234 21.5293l-18.9746 25.6689v0.0634766l0.0429688 -0.00976562v15.3457c42.3457 24.626 112.153 39.3301 186.723 39.3301 c2.11914 0 4.23535 -0.0263672 6.35156 -0.0507812c2.11621 0.0244141 4.23242 0.0507812 6.35156 0.0507812c74.5693 0 144.377 -14.7041 186.723 -39.3301v-15.3457l0.0429688 0.00976562v-0.0634766l-18.9746 -25.6689 c-4.73438 -6.40527 -4.92773 -14.9316 -0.490234 -21.5293l20.6777 -30.7334v-4.95215c-8.92285 7.61816 -18.9814 14.5488 -29.8906 20.6836c-32.4844 18.2676 -73.3203 30.582 -118.607 35.1338c-4.94727 -0.330078 -8.52734 -1.89746 -7.59766 -6 c4.22559 -8.32812 8.92578 -17.7754 11.1152 -22.8809c2.34961 -5.47754 11.0352 -9.89648 18.5352 -12.8154c29.6152 -5.47949 55.835 -14.7168 76.4863 -26.3301c28.2354 -15.8779 45.0244 -35.0137 49.959 -54.5967v-246.659l-57.9844 -55.666 c2.44141 12.7822 3.56934 24.3428 2.47266 33.1133c-1.93262 15.4629 -6.95605 51.6455 -12.5195 91.1641c-0.124023 0.510742 -0.209961 1.13867 -0.263672 1.875c-0.672852 4.77832 -1.35352 9.59277 -2.03711 14.4326c-3.52832 13.5225 -11.5557 17.0801 -27.9609 21.666 l-10.2148 2.78418v10.1855l0.28125 0.436523s-0.260742 1.61133 -0.28125 1.74023v8.88379s24.8867 1.22949 27.1387 -2.4248c15.1641 13.3623 15.5518 37.4561 -7.53516 87.1514l-53.5605 103.776l-9.08008 17.5898 c-0.0175781 0.0332031 -7.96289 15.3545 -43.6387 15.3545c-31.1611 0 -39.8623 -11.6885 -41.5762 -14.6709l-0.357422 -0.689453l-62.6367 -121.36c-23.0879 -49.6953 -22.6992 -73.7891 -7.53516 -87.1514c2.25195 3.6543 27.1387 2.4248 27.1387 2.4248v-21.2461 l-10.2148 -2.78418c-16.4053 -4.58594 -24.4326 -8.14355 -27.9609 -21.666c-0.683594 -4.83984 -1.36426 -9.6543 -2.03711 -14.4326c-0.0537109 -0.736328 -0.139648 -1.36426 -0.263672 -1.875c-5.56348 -39.5186 -10.5869 -75.7012 -12.5195 -91.1641 c-1.0957 -8.77051 0.03125 -20.3311 2.47266 -33.1133zM480.398 319.068h-0.00195312c-1.00098 0.889648 -1.99219 1.70996 -2.97852 2.65723c-7.51074 7.20996 -13.9082 15.0879 -13.9082 15.0879c-2.62012 3.24512 -6.55762 5.2627 -10.8242 5.54492l-15.2715 13.1084 l29.1777 271.16l18.6055 16.8115c0.211914 -34.9834 0.441406 -93.8525 0.00976562 -155.487c-0.329102 -46.9561 -1.04492 -94.0137 -2.43359 -129.308c-0.640625 -16.2861 -1.45215 -29.6777 -2.375 -39.5752zM533.594 319.068h-0.00195312 c-0.923828 9.89746 -1.73438 23.2891 -2.375 39.5752c-1.38867 35.2939 -2.10449 82.3516 -2.43359 129.308c-0.431641 61.6348 -0.202148 120.504 0.00976562 155.487l18.6055 -16.8115l1.3418 -5.8125l28.1035 -265.248l-15.5391 -13.208 c-4.2666 -0.282227 -8.2041 -2.2998 -10.8242 -5.54492c0 0 -6.39746 -7.87793 -13.9082 -15.0879c-0.986328 -0.947266 -1.97754 -1.76758 -2.97852 -2.65723zM313.926 823.327v34.5605c42.3457 24.627 112.153 39.3301 186.723 39.3311 c2.11914 0 4.23535 -0.0273438 6.35156 -0.0517578c2.11621 0.0244141 4.23242 0.0517578 6.35156 0.0517578c74.5693 -0.000976562 144.377 -14.7041 186.723 -39.3311v-34.5605c-42.3457 24.627 -112.153 39.3301 -186.723 39.3311 c-2.11914 0 -4.23535 -0.0273438 -6.35156 -0.0517578c-2.11621 0.0244141 -4.23242 0.0517578 -6.35156 0.0517578c-74.5693 -0.000976562 -144.377 -14.7041 -186.723 -39.3311z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" version=\\\"1.1\\\" viewBox=\\\"-10 0 1024 1000\\\"><path fill=\\\"currentColor\\\" d=\\\"M501.97 35.9561h-0.0117188c0.0195312 0 0.0410156 0.0166016 0.0625 0v0.0185547c2.86426 0.797852 5.79102 1.8877 8.6875 3.39844c16.4189 8.56445 30.4453 27.9834 36.8926 59.4512c3.78125 18.4531 28.1963 63.8389 44.2666 109.03 c8.03613 22.5957 14.2207 46.0439 13.1699 69.9424c-0.443359 10.0645 -2.6377 20.3184 -6.53711 30.1025c40.3701 4.08594 100.55 19.5195 143.93 72.1787c36.2295 43.9805 40.8281 96.8467 33.4873 139.771c-7.34277 42.9229 -23.6377 75.9043 -40.7158 94.4287 c-11.0488 11.9844 -37.0273 40.3457 -60.9385 70.001c-4.57617 5.67578 -9.07031 11.3975 -13.3604 17.04c12.6797 5.91797 23.7607 12.748 32.9785 20.9131c9.63574 8.53613 17.5811 19.3271 21.0732 31.709c0.176758 -0.698242 0.339844 -1.39648 0.46875 -2.09961 c-0.046875 1.4043 -0.0673828 2.44141 -0.0927734 3.5332c0.00878906 0.03125 0.0117188 0.0625 0.0214844 0.09375l0.015625 -0.0722656v0.139648c0.960938 3.87305 1.50391 7.88867 1.50391 12.0439c0 3.30176 -0.337891 6.51855 -0.955078 9.64453 c0.00878906 0.789062 0.0273438 1.33691 0.0302734 2.25781c0 2.00879 -0.202148 4.00098 -0.579102 5.97461v104.399l-0.552734 0.277344c-10.9004 40.8945 -101.521 72.9688 -212.79 74.123c-0.0195312 0 -0.0390625 -0.000976562 -0.0585938 0 c-111.27 -1.1543 -201.889 -33.2285 -212.79 -74.123l-0.552734 -0.277344v-104.399c-0.376953 -1.97363 -0.579102 -3.96582 -0.579102 -5.97461c0.00292969 -0.920898 0.0214844 -1.46875 0.0302734 -2.25781c-0.617188 -3.12598 -0.955078 -6.34277 -0.955078 -9.64453 c0 -4.1543 0.542969 -8.1709 1.50391 -12.0439v-0.139648l0.0166016 0.0722656c0.00683594 -0.03125 0.0117188 -0.0625 0.0205078 -0.0927734c-0.0253906 -1.09277 -0.0458984 -2.12891 -0.0927734 -3.53418c0.129883 0.703125 0.291992 1.40137 0.469727 2.09961 c3.49023 -12.3828 11.4365 -23.1729 21.0723 -31.709c9.21777 -8.16504 20.2998 -14.9951 32.9785 -20.9131c-4.29004 -5.64355 -8.78418 -11.3643 -13.3604 -17.04c-23.9102 -29.6553 -49.8896 -58.0156 -60.9385 -70.001 c-17.0791 -18.5244 -33.374 -51.5059 -40.7158 -94.4287c-7.34082 -42.9238 -2.74219 -95.79 33.4873 -139.771c43.3799 -52.6592 103.564 -68.0928 143.93 -72.1787c-3.89941 -9.7832 -6.09375 -20.0381 -6.53613 -30.1025 c-1.05176 -23.8984 5.13281 -47.3467 13.1689 -69.9424c16.0703 -45.1895 40.4854 -90.5752 44.2666 -109.03c6.44727 -31.4678 20.4736 -50.8857 36.8926 -59.4512c2.89648 -1.51074 5.82324 -2.60059 8.6875 -3.39844v-0.0185547zM502 112.924h0.000976562 c-8.38379 34.6719 -31.624 73.2188 -45.0205 110.891c-6.99219 19.6621 -11.0645 38.1816 -10.4609 51.8984c0.509766 11.5957 2.94141 19.1816 10.1328 26.1689c1.12695 0.52832 2.33398 1.05859 3.72949 1.58105c9.94043 3.72461 24.8584 6.57617 41.6191 7.15039 c16.7598 -0.574219 31.6797 -3.42578 41.6201 -7.15039c1.39551 -0.522461 2.60254 -1.05273 3.72949 -1.58105c7.19141 -6.9873 9.62305 -14.5732 10.1328 -26.1689c0.602539 -13.7168 -3.46875 -32.2373 -10.4609 -51.8984 c-13.3965 -37.6768 -36.6387 -76.2236 -45.0225 -110.891zM468.731 356.104v0s-26.6797 -6.19629 -65.1191 0.225586c-2.77832 0.381836 -5.62891 0.814453 -8.57324 1.33984c4.34473 3.31055 11.6611 7.4082 21.2031 10.9834 c20.7012 7.75684 51.4727 13.3799 85.7578 13.9883c34.2861 -0.609375 65.0566 -6.23145 85.7598 -13.9883c9.54102 -3.57422 16.8574 -7.67188 21.2031 -10.9834c-2.94531 -0.525391 -5.7959 -0.958008 -8.57324 -1.33984 c-38.4404 -6.42188 -65.1191 -0.225586 -65.1191 -0.225586c-31.582 5.73926 -37.127 5.88867 -66.5391 0zM347.052 372.763h-0.00390625c-17.4131 8.33203 -34.5186 20.332 -48.7354 37.5898c-13.7734 16.7197 -21.125 34.959 -24.1055 53.4707 c1.95996 4.75391 5.79785 9.96484 12.3252 15.7471c10.4434 9.25098 27.252 18.7939 48.7861 26.8613c41.7598 15.6465 100.989 26.0186 166.65 26.6348c0.0205078 0 0.0410156 -0.000976562 0.0625 0c65.6602 -0.616211 124.891 -10.9883 166.649 -26.6348 c21.5342 -8.06738 38.3438 -17.6113 48.7861 -26.8613c6.52734 -5.78223 10.3652 -10.9932 12.3252 -15.7471c-2.97949 -18.5117 -10.332 -36.751 -24.1045 -53.4707c-14.2178 -17.2568 -31.3232 -29.2578 -48.7354 -37.5898 c-3.54297 7.4873 -8.8457 13.9551 -14.6689 19.1143c-10.3975 9.20996 -23.127 15.8535 -37.8203 21.3594c-27.916 10.4609 -63.3174 16.4443 -102.43 17.0166v0.00195312h-0.0322266h-0.0302734v-0.00195312c-39.1094 -0.573242 -74.5117 -6.55566 -102.431 -17.0166 c-14.6924 -5.50488 -27.4219 -12.1484 -37.8193 -21.3594c-5.82422 -5.15918 -11.126 -11.627 -14.6689 -19.1143zM275.655 515.323h-0.00195312c6.34766 32.3193 23.1602 61.2803 28.1436 66.6855c11.1914 12.1396 37.8301 41.1729 62.999 72.3887 c7.35742 9.125 14.5801 18.4287 21.3125 27.6426c1.10938 2.33301 3.33301 7.11133 5.91211 12.9385c4.51465 10.1699 9.92773 23.1348 12.3809 32.1348c0.317383 1.16602 1.39648 2.1875 3.08984 3.08691c3.62305 2.96387 10.2422 6.80566 19.123 10.1328 c17.75 6.65039 44.0488 11.4902 73.3877 12.0908c29.3389 -0.600586 55.6396 -5.44043 73.3896 -12.0908c8.88086 -3.32715 15.501 -7.16797 19.123 -10.1328c1.69238 -0.899414 2.77148 -1.9209 3.08984 -3.08691c2.45215 -8.99902 7.86523 -21.9648 12.3809 -32.1348 c2.5791 -5.82617 4.80273 -10.6045 5.91211 -12.9385c6.73242 -9.21387 13.9551 -18.5176 21.3125 -27.6426c25.1689 -31.2158 51.8066 -60.249 62.999 -72.3887c4.98438 -5.40527 21.7959 -34.3662 28.1426 -66.6855c-13.2402 9.16797 -29.1924 17.0049 -47.4062 23.8301 c-47.1299 17.6602 -109.706 28.2607 -178.91 28.8584h-0.0625c-69.2002 -0.597656 -131.776 -11.1982 -178.91 -28.8584c-18.2139 -6.82422 -34.166 -14.6621 -47.4072 -23.8301zM366.625 738.503h0.000976562c-12.2686 5.2998 -21.7832 11.0918 -27.6592 16.2959 c-7.13965 6.3252 -8.33105 10.3145 -8.33105 12.7793s1.19141 6.4541 8.33105 12.7793c7.14062 6.32422 19.585 13.5273 35.9141 19.6455c31.3779 11.7578 76.751 19.8135 127.12 20.4268c50.374 -0.613281 95.748 -8.66895 127.13 -20.4268 c16.3291 -6.11816 28.7744 -13.3213 35.9141 -19.6455c7.13965 -6.3252 8.33203 -10.3145 8.33203 -12.7793s-1.19238 -6.45508 -8.33203 -12.7793c-5.875 -5.2041 -15.3896 -10.9961 -27.6592 -16.2959c-2.75586 8.78711 -8.41602 16.2656 -14.8037 21.9238 c-8.99902 7.97168 -20.0156 13.7217 -32.7314 18.4863c-23.9648 8.97949 -54.2959 14.1504 -87.8135 14.7178v0.00195312h-0.0322266h-0.0302734v-0.00195312c-33.5195 -0.567383 -63.8496 -5.73926 -87.8135 -14.7178 c-12.7158 -4.76367 -23.7334 -10.5156 -32.7314 -18.4863c-6.38867 -5.6582 -12.0488 -13.1367 -14.8047 -21.9238zM323.339 824.279l0.0126953 42.8457c38.29 22.1465 104.046 36.8623 178.63 37.6367c0.0205078 0.000976562 0.0419922 0 0.0625 0 c74.5801 -0.774414 140.334 -15.4902 178.63 -37.6367v-42.8457c-7.18652 4.15332 -15.3525 8.04785 -24.3594 11.6416c-3.84082 1.67871 -7.80957 3.28516 -11.916 4.82422c-38.04 14.25 -87.5889 22.6035 -142.36 23.1924v0.00195312h-0.0322266h-0.0302734v-0.00195312 c-54.7754 -0.588867 -104.324 -8.94141 -142.36 -23.1924c-4.10645 -1.53906 -8.0752 -3.14551 -11.916 -4.82422c-9.00684 -3.59375 -17.1729 -7.48828 -24.3604 -11.6416z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" version=\\\"1.1\\\" viewBox=\\\"-10 0 1024 1000\\\"><path fill=\\\"currentColor\\\" d=\\\"M506.765 113.54h0.0078125c0.116211 0 0.162109 -0.0263672 0.462891 0c7.77051 1.16992 21.6113 9.08984 35.9551 16.7266c12.46 6.63477 10.0205 23.6094 7.87109 32.1074l-15.3516 49.4727c11.1777 36.5859 21.3398 70.3037 17.9932 101.78 c20.9648 31.0527 39.2188 44.6465 59.252 57.8145c20.9727 13.7842 44.7012 27.2969 69.2891 56.9521c33.8994 40.8906 34.7324 89.7275 15.1211 146.641c-12.8477 37.2891 -37.626 84.1328 -65.7822 136.79c15.8955 6.1875 29.3955 13.6123 39.8809 23.123 c8.41406 7.63281 15.1445 17.3027 17.6475 28.3281l0.167969 -8.01562v8.74609c0.578125 2.77051 0.898438 5.62305 0.898438 8.55273c0 2.78418 -0.296875 5.49609 -0.822266 8.13867v106.88h-0.0761719v3.45508s-0.0654297 0.00390625 -0.0664062 0.00390625 c0.0390625 0.589844 0.0585938 1.17969 0.0585938 1.76953c0 38.6016 -81.4697 69.8994 -182.04 69.9727v0.00390625h-0.111328c-0.0400391 0 -0.0800781 -0.00195312 -0.121094 -0.00195312c-0.0400391 0 -0.0791016 0.00195312 -0.119141 0.00195312h-0.111328 v-0.00390625c-100.571 -0.0742188 -182.041 -31.3711 -182.04 -69.9727c0 -0.589844 0.0195312 -1.17969 0.0585938 -1.76953c-0.000976562 0 -0.0664062 -0.00390625 -0.0664062 -0.00390625v-3.45508h-0.0761719v-106.88 c-0.525391 -2.64258 -0.822266 -5.35449 -0.822266 -8.13867c0 -2.92969 0.320312 -5.78223 0.898438 -8.55273v-8.74609l0.167969 8.01562c2.50195 -11.0254 9.2334 -20.6953 17.6484 -28.3281c10.4844 -9.51074 23.9854 -16.9346 39.8809 -23.123 c-28.1572 -52.6582 -52.9336 -99.502 -65.7832 -136.79c-19.6104 -56.9141 -18.7773 -105.754 15.1211 -146.641c24.5879 -29.6553 48.3174 -43.168 69.2891 -56.9521c20.0342 -13.168 38.2881 -26.7617 59.252 -57.8145c-3.3457 -31.4775 6.81641 -65.1953 17.9941 -101.78 l-15.3525 -49.4727c-2.14941 -8.49805 -4.58887 -25.4727 7.87109 -32.1074c14.3447 -7.6377 28.1855 -15.5566 35.9551 -16.7266zM506.995 221.69v-0.000976562c-9.77734 15.542 -22.541 45.167 -17 88.9004c7.04004 1.70898 20.2178 3.71582 34.041 -0.337891 c5.43359 -43.5459 -7.28809 -73.0596 -17.041 -88.5615zM531.327 334.17v0.000976562c-20.4336 6.0957 -39.1836 2.89844 -48.8848 0.318359c-22.5283 32.0381 -44.6406 48.6914 -64.9219 62.0225c-2.15527 1.41699 -4.26367 2.77637 -6.36719 4.13672l0.164062 0.0234375 c-0.00195312 0.0361328 -0.0175781 0.109375 -0.0175781 0.134766c0 0.34375 0.0615234 1.7002 3.42188 4.74805c3.35938 3.04785 9.63672 6.82812 18.0547 10.0576c16.8359 6.45801 41.9492 10.9385 69.7188 10.9385c1.43262 0 2.85254 -0.0205078 4.26953 -0.0449219 v-0.00390625c0.0771484 0.00195312 0.155273 0.000976562 0.232422 0.00195312c0.0771484 -0.000976562 0.154297 -0.000976562 0.230469 -0.00195312v0.00390625c1.41699 0.0244141 2.83789 0.0449219 4.26953 0.0449219c27.7705 0 52.8848 -4.47949 69.7197 -10.9385 c8.41797 -3.23047 14.6953 -7.00977 18.0547 -10.0576c3.35938 -3.04688 3.42188 -4.4043 3.42188 -4.74805c0 -0.0253906 -0.015625 -0.0976562 -0.0175781 -0.134766l0.164062 -0.0234375c-2.10449 -1.36035 -4.21191 -2.71973 -6.36719 -4.13672 c-20.3486 -13.375 -42.54 -30.0957 -65.1455 -62.3418zM386.147 417.617h-0.00585938c-10.2871 7.73438 -20.4941 16.8945 -31.2969 29.9238c-14.708 17.7393 -21.6484 35.4854 -22.0576 56.3535c1.71387 2.6543 4.0752 5.40918 7.25195 8.29102 c7.85059 7.12012 20.248 14.292 36.0537 20.3555c31.6123 12.127 76.6406 19.9844 126.399 19.9844c1.43262 0 2.84766 -0.0263672 4.26953 -0.0429688v-0.00488281c0.078125 0.00195312 0.155273 0.00195312 0.232422 0.00292969 c0.0771484 -0.00195312 0.154297 -0.00195312 0.230469 -0.00292969v0.00488281c1.42188 0.0166016 2.83789 0.0429688 4.26953 0.0429688c49.7627 0 94.791 -7.85742 126.4 -19.9844c15.8047 -6.06348 28.2021 -13.2344 36.0527 -20.3555 c3.17773 -2.88184 5.53809 -5.63672 7.25195 -8.29102c-0.40918 -20.8691 -7.34961 -38.6143 -22.0566 -56.3535c-10.8037 -13.0293 -21.0117 -22.1885 -31.2969 -29.9238c-2.2832 3.82715 -5.20801 7.24414 -8.41992 10.1582 c-7.38867 6.70117 -16.6631 11.7021 -27.4629 15.8457c-21.6006 8.28711 -49.5859 12.9297 -80.4658 12.9297c-1.50879 0 -3.00488 -0.0195312 -4.5 -0.0429688c-1.49512 0.0234375 -2.99219 0.0429688 -4.50195 0.0429688c-30.8799 0 -58.8643 -4.64258 -80.4648 -12.9297 c-10.7998 -4.14453 -20.0752 -9.14453 -27.4629 -15.8457c-3.21191 -2.91406 -6.1377 -6.33105 -8.41992 -10.1582zM336.8 537.377h0.00390625c2.01758 8.67383 4.76465 17.9199 8.19727 27.8809c15.9902 46.4102 48.0801 105.973 88.6562 183.25 c0.192383 0.214844 0.37793 0.432617 0.583984 0.638672c0.196289 0.241211 0.461914 0.539062 1.05469 1.07617c2.22949 2.02344 6.87207 4.87988 13.2695 7.33398c12.7959 4.90918 32.3281 8.42969 53.9346 8.42969c1.43457 0 2.85449 -0.0253906 4.26953 -0.0566406 v-0.00585938c0.0761719 0.00195312 0.155273 0.00195312 0.232422 0.00390625c0.0761719 -0.00195312 0.15332 -0.00195312 0.230469 -0.00390625v0.00585938c1.41406 0.03125 2.83398 0.0566406 4.26953 0.0566406c21.6055 0 41.1377 -3.52051 53.9336 -8.42969 c6.39844 -2.4541 11.04 -5.31055 13.2695 -7.33398c0.592773 -0.537109 0.858398 -0.834961 1.05469 -1.07617c0.206055 -0.206055 0.391602 -0.423828 0.583984 -0.638672c40.5762 -77.2803 72.665 -136.843 88.6562 -183.25 c3.43262 -9.96094 6.17969 -19.207 8.19727 -27.8809c-8.93457 5.93262 -19.4912 11.127 -31.418 15.7031c-35.1055 13.4678 -82.2402 21.4434 -134.28 21.4434c-1.50879 0 -3 -0.0283203 -4.5 -0.0429688c-1.5 0.0146484 -2.99219 0.0429688 -4.50195 0.0429688 c-52.043 0 -99.1768 -7.97559 -134.279 -21.4434c-11.9277 -4.57617 -22.4834 -9.77051 -31.418 -15.7031zM399.021 742.937h0.00390625c-1.04102 0.375977 -2.07617 0.754883 -3.08203 1.14062c-13.5537 5.20117 -23.8984 11.3154 -29.9082 16.7666 c-6.00879 5.4502 -7.24023 9.12207 -7.24023 11.7129s1.23145 6.2627 7.24023 11.7129c6.00977 5.45117 16.3545 11.5654 29.9082 16.7656c27.1074 10.4004 66.7188 17.3984 110.51 17.3984c0.105469 0 0.209961 -0.00292969 0.314453 -0.00390625v-0.00390625 c0.078125 0 0.155273 0.000976562 0.232422 0.00195312c0.0771484 -0.000976562 0.15332 -0.00195312 0.230469 -0.00195312v0.00390625c0.104492 0.00195312 0.208984 0.00390625 0.314453 0.00390625c43.7891 0 83.4023 -6.99805 110.511 -17.3984 c13.5537 -5.2002 23.8984 -11.3154 29.9072 -16.7656c6.00977 -5.45117 7.24023 -9.12207 7.24023 -11.7129s-1.23047 -6.2627 -7.24023 -11.7129c-6.00879 -5.45117 -16.3535 -11.5664 -29.9072 -16.7666c-1.00684 -0.385742 -2.04102 -0.764648 -3.08203 -1.14062 c-1.60449 3.01465 -3.18164 5.95703 -4.79492 9.00293c-0.978516 8.3584 -5.74609 15.4453 -11.3203 20.502c-6.25879 5.67676 -13.8994 9.75391 -22.6797 13.123c-17.5615 6.7373 -39.9639 10.4219 -64.6807 10.4219c-1.50879 0 -3.00781 -0.0175781 -4.5 -0.0449219 c-1.49219 0.0273438 -2.99219 0.0449219 -4.50195 0.0449219c-24.7158 0 -47.1201 -3.68555 -64.6797 -10.4219c-8.78027 -3.36914 -16.4219 -7.44629 -22.6797 -13.123c-5.57422 -5.05664 -10.3418 -12.1436 -11.3203 -20.502 c-1.61426 -3.0459 -3.19043 -5.98828 -4.79492 -9.00293zM354.644 829.212v49.9922c33.6504 19.6699 90.8096 31.5303 152.12 31.5762c0.0771484 0 0.154297 0.00195312 0.232422 0.00195312c0.0771484 0 0.15332 -0.00195312 0.230469 -0.00195312 c61.3086 -0.0458984 118.469 -11.9062 152.12 -31.5762v-49.9922c-32.54 18.9805 -88.5059 31.5215 -152.12 31.5684v0.00195312h-0.111328h-0.121094h-0.119141h-0.111328v-0.00195312c-63.6133 -0.0458984 -119.575 -12.5879 -152.12 -31.5684z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" xmlns:xlink=\\\"http://www.w3.org/1999/xlink\\\" version=\\\"1.1\\\" viewBox=\\\"-10 0 1024 1000\\\"><path fill=\\\"currentColor\\\" d=\\\"M283.45 514.84h445.47v20h-445.47v-20zM496 456h18v140h-18v-140zM506.65 431.63c134.85 0 246.449 36.2705 263.189 82.7705c0.929688 1.85938 1.86035 4.64941 1.86035 7.43945v0.929688v2.79004v3.7207v159.96v2.79004v1.85938v1.86035 c0 1.86035 0 3.71973 -0.930664 5.58008h-0.929688c-13.9502 47.4297 -125.55 85.5596 -263.189 85.5596c-135.78 0 -247.381 -36.2695 -263.19 -83.6992c-0.929688 -1.86035 -1.86035 -4.65039 -1.86035 -7.44043v-2.79004v-0.929688v-0.930664v-163.68v-1.86035v-0.929688 v-2.79004c0 -2.79004 0.930664 -5.58008 1.86035 -7.43945c15.8096 -46.5 128.34 -82.7705 263.19 -82.7705zM506.65 455.81c-118.11 0 -214.83 28.8301 -223.2 65.1006v0.929688v9.2998c8.37012 36.2705 106.02 65.1006 223.2 65.1006 c117.18 0 212.97 -27.9004 222.27 -64.1699v-10.2305l0.929688 -0.929688c-8.36914 -36.2705 -106.02 -65.1006 -223.199 -65.1006zM283.45 576.71v108.81c12.0898 7.44043 26.04 13.9502 41.8496 20.4609c47.4307 17.6699 111.601 28.8291 181.351 28.8291 s133.92 -11.1592 181.35 -28.8291c15.8096 -5.58008 28.8301 -13.0205 40.9199 -20.4609v-107.88c-47.4297 26.04 -128.34 42.7803 -222.27 42.7803c-93.9307 0 -175.771 -17.6699 -223.2 -43.71z\\\"></path></svg>\"","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.svgson = factory());\n}(this, (function () { 'use strict';\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n      if (enumerableOnly) symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(Object(source), true).forEach(function (key) {\n          _defineProperty(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  /*!\n   * isobject <https://github.com/jonschlinkert/isobject>\n   *\n   * Copyright (c) 2014-2017, Jon Schlinkert.\n   * Released under the MIT License.\n   */\n\n  var isobject = function isObject(val) {\n    return val != null && typeof val === 'object' && Array.isArray(val) === false;\n  };\n\n  function isObjectObject(o) {\n    return isobject(o) === true\n      && Object.prototype.toString.call(o) === '[object Object]';\n  }\n\n  var isPlainObject = function isPlainObject(o) {\n    var ctor,prot;\n\n    if (isObjectObject(o) === false) return false;\n\n    // If has modified constructor\n    ctor = o.constructor;\n    if (typeof ctor !== 'function') return false;\n\n    // If has modified prototype\n    prot = ctor.prototype;\n    if (isObjectObject(prot) === false) return false;\n\n    // If constructor does not have an Object-specific method\n    if (prot.hasOwnProperty('isPrototypeOf') === false) {\n      return false;\n    }\n\n    // Most likely a plain Object\n    return true;\n  };\n\n  var toString = {}.toString;\n\n  var isarray = Array.isArray || function (arr) {\n    return toString.call(arr) == '[object Array]';\n  };\n\n  var isobject$1 = function isObject(val) {\n    return val != null && typeof val === 'object' && isarray(val) === false;\n  };\n\n  /*!\n   * has-values <https://github.com/jonschlinkert/has-values>\n   *\n   * Copyright (c) 2014-2015, Jon Schlinkert.\n   * Licensed under the MIT License.\n   */\n\n  var hasValues = function hasValue(o, noZero) {\n    if (o === null || o === undefined) {\n      return false;\n    }\n\n    if (typeof o === 'boolean') {\n      return true;\n    }\n\n    if (typeof o === 'number') {\n      if (o === 0 && noZero === true) {\n        return false;\n      }\n      return true;\n    }\n\n    if (o.length !== undefined) {\n      return o.length !== 0;\n    }\n\n    for (var key in o) {\n      if (o.hasOwnProperty(key)) {\n        return true;\n      }\n    }\n    return false;\n  };\n\n  /*!\n   * get-value <https://github.com/jonschlinkert/get-value>\n   *\n   * Copyright (c) 2014-2015, Jon Schlinkert.\n   * Licensed under the MIT License.\n   */\n\n  var getValue = function(obj, prop, a, b, c) {\n    if (!isObject(obj) || !prop) {\n      return obj;\n    }\n\n    prop = toString$1(prop);\n\n    // allowing for multiple properties to be passed as\n    // a string or array, but much faster (3-4x) than doing\n    // `[].slice.call(arguments)`\n    if (a) prop += '.' + toString$1(a);\n    if (b) prop += '.' + toString$1(b);\n    if (c) prop += '.' + toString$1(c);\n\n    if (prop in obj) {\n      return obj[prop];\n    }\n\n    var segs = prop.split('.');\n    var len = segs.length;\n    var i = -1;\n\n    while (obj && (++i < len)) {\n      var key = segs[i];\n      while (key[key.length - 1] === '\\\\') {\n        key = key.slice(0, -1) + '.' + segs[++i];\n      }\n      obj = obj[key];\n    }\n    return obj;\n  };\n\n  function isObject(val) {\n    return val !== null && (typeof val === 'object' || typeof val === 'function');\n  }\n\n  function toString$1(val) {\n    if (!val) return '';\n    if (Array.isArray(val)) {\n      return val.join('.');\n    }\n    return val;\n  }\n\n  var hasValue = function(obj, prop, noZero) {\n    if (isobject$1(obj)) {\n      return hasValues(getValue(obj, prop), noZero);\n    }\n    return hasValues(obj, prop);\n  };\n\n  var unsetValue = function unset(obj, prop) {\n    if (!isobject(obj)) {\n      throw new TypeError('expected an object.');\n    }\n    if (obj.hasOwnProperty(prop)) {\n      delete obj[prop];\n      return true;\n    }\n\n    if (hasValue(obj, prop)) {\n      var segs = prop.split('.');\n      var last = segs.pop();\n      while (segs.length && segs[segs.length - 1].slice(-1) === '\\\\') {\n        last = segs.pop().slice(0, -1) + '.' + last;\n      }\n      while (segs.length) obj = obj[prop = segs.shift()];\n      return (delete obj[last]);\n    }\n    return true;\n  };\n\n  var omitDeep = function omitDeep(value, keys) {\n    if (typeof value === 'undefined') {\n      return {};\n    }\n\n    if (Array.isArray(value)) {\n      for (var i = 0; i < value.length; i++) {\n        value[i] = omitDeep(value[i], keys);\n      }\n      return value;\n    }\n\n    if (!isPlainObject(value)) {\n      return value;\n    }\n\n    if (typeof keys === 'string') {\n      keys = [keys];\n    }\n\n    if (!Array.isArray(keys)) {\n      return value;\n    }\n\n    for (var j = 0; j < keys.length; j++) {\n      unsetValue(value, keys[j]);\n    }\n\n    for (var key in value) {\n      if (value.hasOwnProperty(key)) {\n        value[key] = omitDeep(value[key], keys);\n      }\n    }\n\n    return value;\n  };\n\n  /*!\n   * Determine if an object is a Buffer\n   *\n   * @author   Feross Aboukhadijeh <https://feross.org>\n   * @license  MIT\n   */\n\n  // The _isBuffer check is for Safari 5-7 support, because it's missing\n  // Object.prototype.constructor. Remove this eventually\n  var isBuffer_1 = function (obj) {\n    return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n  };\n\n  function isBuffer (obj) {\n    return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n  }\n\n  // For Node v0.10 support. Remove this eventually.\n  function isSlowBuffer (obj) {\n    return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n  }\n\n  var toString$2 = Object.prototype.toString;\n\n  /**\n   * Get the native `typeof` a value.\n   *\n   * @param  {*} `val`\n   * @return {*} Native javascript type\n   */\n\n  var kindOf = function kindOf(val) {\n    // primitivies\n    if (typeof val === 'undefined') {\n      return 'undefined';\n    }\n    if (val === null) {\n      return 'null';\n    }\n    if (val === true || val === false || val instanceof Boolean) {\n      return 'boolean';\n    }\n    if (typeof val === 'string' || val instanceof String) {\n      return 'string';\n    }\n    if (typeof val === 'number' || val instanceof Number) {\n      return 'number';\n    }\n\n    // functions\n    if (typeof val === 'function' || val instanceof Function) {\n      return 'function';\n    }\n\n    // array\n    if (typeof Array.isArray !== 'undefined' && Array.isArray(val)) {\n      return 'array';\n    }\n\n    // check for instances of RegExp and Date before calling `toString`\n    if (val instanceof RegExp) {\n      return 'regexp';\n    }\n    if (val instanceof Date) {\n      return 'date';\n    }\n\n    // other objects\n    var type = toString$2.call(val);\n\n    if (type === '[object RegExp]') {\n      return 'regexp';\n    }\n    if (type === '[object Date]') {\n      return 'date';\n    }\n    if (type === '[object Arguments]') {\n      return 'arguments';\n    }\n    if (type === '[object Error]') {\n      return 'error';\n    }\n\n    // buffer\n    if (isBuffer_1(val)) {\n      return 'buffer';\n    }\n\n    // es6: Map, WeakMap, Set, WeakSet\n    if (type === '[object Set]') {\n      return 'set';\n    }\n    if (type === '[object WeakSet]') {\n      return 'weakset';\n    }\n    if (type === '[object Map]') {\n      return 'map';\n    }\n    if (type === '[object WeakMap]') {\n      return 'weakmap';\n    }\n    if (type === '[object Symbol]') {\n      return 'symbol';\n    }\n\n    // typed arrays\n    if (type === '[object Int8Array]') {\n      return 'int8array';\n    }\n    if (type === '[object Uint8Array]') {\n      return 'uint8array';\n    }\n    if (type === '[object Uint8ClampedArray]') {\n      return 'uint8clampedarray';\n    }\n    if (type === '[object Int16Array]') {\n      return 'int16array';\n    }\n    if (type === '[object Uint16Array]') {\n      return 'uint16array';\n    }\n    if (type === '[object Int32Array]') {\n      return 'int32array';\n    }\n    if (type === '[object Uint32Array]') {\n      return 'uint32array';\n    }\n    if (type === '[object Float32Array]') {\n      return 'float32array';\n    }\n    if (type === '[object Float64Array]') {\n      return 'float64array';\n    }\n\n    // must be a plain object\n    return 'object';\n  };\n\n  function createCommonjsModule(fn, module) {\n  \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n  }\n\n  var renameKeys = createCommonjsModule(function (module) {\n  (function() {\n\n    function rename(obj, fn) {\n      if (typeof fn !== 'function') {\n        return obj;\n      }\n\n      var res = {};\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n          res[fn(key, obj[key]) || key] = obj[key];\n        }\n      }\n      return res;\n    }\n\n    if ( module.exports) {\n      module.exports = rename;\n    } else {\n      {\n        window.rename = rename;\n      }\n    }\n  })();\n  });\n\n  /**\n   * Expose `renameDeep`\n   */\n\n  var deepRenameKeys = function renameDeep(obj, cb) {\n    var type = kindOf(obj);\n\n    if (type !== 'object' && type !== 'array') {\n      throw new Error('expected an object');\n    }\n\n    var res = [];\n    if (type === 'object') {\n      obj = renameKeys(obj, cb);\n      res = {};\n    }\n\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        var val = obj[key];\n        if (kindOf(val) === 'object' || kindOf(val) === 'array') {\n          res[key] = renameDeep(val, cb);\n        } else {\n          res[key] = val;\n        }\n      }\n    }\n    return res;\n  };\n\n  var eventemitter3 = createCommonjsModule(function (module) {\n\n  var has = Object.prototype.hasOwnProperty\n    , prefix = '~';\n\n  /**\n   * Constructor to create a storage for our `EE` objects.\n   * An `Events` instance is a plain object whose properties are event names.\n   *\n   * @constructor\n   * @api private\n   */\n  function Events() {}\n\n  //\n  // We try to not inherit from `Object.prototype`. In some engines creating an\n  // instance in this way is faster than calling `Object.create(null)` directly.\n  // If `Object.create(null)` is not supported we prefix the event names with a\n  // character to make sure that the built-in object properties are not\n  // overridden or used as an attack vector.\n  //\n  if (Object.create) {\n    Events.prototype = Object.create(null);\n\n    //\n    // This hack is needed because the `__proto__` property is still inherited in\n    // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n    //\n    if (!new Events().__proto__) prefix = false;\n  }\n\n  /**\n   * Representation of a single event listener.\n   *\n   * @param {Function} fn The listener function.\n   * @param {Mixed} context The context to invoke the listener with.\n   * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n   * @constructor\n   * @api private\n   */\n  function EE(fn, context, once) {\n    this.fn = fn;\n    this.context = context;\n    this.once = once || false;\n  }\n\n  /**\n   * Minimal `EventEmitter` interface that is molded against the Node.js\n   * `EventEmitter` interface.\n   *\n   * @constructor\n   * @api public\n   */\n  function EventEmitter() {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  /**\n   * Return an array listing the events for which the emitter has registered\n   * listeners.\n   *\n   * @returns {Array}\n   * @api public\n   */\n  EventEmitter.prototype.eventNames = function eventNames() {\n    var names = []\n      , events\n      , name;\n\n    if (this._eventsCount === 0) return names;\n\n    for (name in (events = this._events)) {\n      if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n    }\n\n    if (Object.getOwnPropertySymbols) {\n      return names.concat(Object.getOwnPropertySymbols(events));\n    }\n\n    return names;\n  };\n\n  /**\n   * Return the listeners registered for a given event.\n   *\n   * @param {String|Symbol} event The event name.\n   * @param {Boolean} exists Only check if there are listeners.\n   * @returns {Array|Boolean}\n   * @api public\n   */\n  EventEmitter.prototype.listeners = function listeners(event, exists) {\n    var evt = prefix ? prefix + event : event\n      , available = this._events[evt];\n\n    if (exists) return !!available;\n    if (!available) return [];\n    if (available.fn) return [available.fn];\n\n    for (var i = 0, l = available.length, ee = new Array(l); i < l; i++) {\n      ee[i] = available[i].fn;\n    }\n\n    return ee;\n  };\n\n  /**\n   * Calls each of the listeners registered for a given event.\n   *\n   * @param {String|Symbol} event The event name.\n   * @returns {Boolean} `true` if the event had listeners, else `false`.\n   * @api public\n   */\n  EventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n    var evt = prefix ? prefix + event : event;\n\n    if (!this._events[evt]) return false;\n\n    var listeners = this._events[evt]\n      , len = arguments.length\n      , args\n      , i;\n\n    if (listeners.fn) {\n      if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n      switch (len) {\n        case 1: return listeners.fn.call(listeners.context), true;\n        case 2: return listeners.fn.call(listeners.context, a1), true;\n        case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n        case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n        case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n        case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n      }\n\n      for (i = 1, args = new Array(len -1); i < len; i++) {\n        args[i - 1] = arguments[i];\n      }\n\n      listeners.fn.apply(listeners.context, args);\n    } else {\n      var length = listeners.length\n        , j;\n\n      for (i = 0; i < length; i++) {\n        if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n        switch (len) {\n          case 1: listeners[i].fn.call(listeners[i].context); break;\n          case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n          case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n          case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n          default:\n            if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n              args[j - 1] = arguments[j];\n            }\n\n            listeners[i].fn.apply(listeners[i].context, args);\n        }\n      }\n    }\n\n    return true;\n  };\n\n  /**\n   * Add a listener for a given event.\n   *\n   * @param {String|Symbol} event The event name.\n   * @param {Function} fn The listener function.\n   * @param {Mixed} [context=this] The context to invoke the listener with.\n   * @returns {EventEmitter} `this`.\n   * @api public\n   */\n  EventEmitter.prototype.on = function on(event, fn, context) {\n    var listener = new EE(fn, context || this)\n      , evt = prefix ? prefix + event : event;\n\n    if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n    else if (!this._events[evt].fn) this._events[evt].push(listener);\n    else this._events[evt] = [this._events[evt], listener];\n\n    return this;\n  };\n\n  /**\n   * Add a one-time listener for a given event.\n   *\n   * @param {String|Symbol} event The event name.\n   * @param {Function} fn The listener function.\n   * @param {Mixed} [context=this] The context to invoke the listener with.\n   * @returns {EventEmitter} `this`.\n   * @api public\n   */\n  EventEmitter.prototype.once = function once(event, fn, context) {\n    var listener = new EE(fn, context || this, true)\n      , evt = prefix ? prefix + event : event;\n\n    if (!this._events[evt]) this._events[evt] = listener, this._eventsCount++;\n    else if (!this._events[evt].fn) this._events[evt].push(listener);\n    else this._events[evt] = [this._events[evt], listener];\n\n    return this;\n  };\n\n  /**\n   * Remove the listeners of a given event.\n   *\n   * @param {String|Symbol} event The event name.\n   * @param {Function} fn Only remove the listeners that match this function.\n   * @param {Mixed} context Only remove the listeners that have this context.\n   * @param {Boolean} once Only remove one-time listeners.\n   * @returns {EventEmitter} `this`.\n   * @api public\n   */\n  EventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n    var evt = prefix ? prefix + event : event;\n\n    if (!this._events[evt]) return this;\n    if (!fn) {\n      if (--this._eventsCount === 0) this._events = new Events();\n      else delete this._events[evt];\n      return this;\n    }\n\n    var listeners = this._events[evt];\n\n    if (listeners.fn) {\n      if (\n           listeners.fn === fn\n        && (!once || listeners.once)\n        && (!context || listeners.context === context)\n      ) {\n        if (--this._eventsCount === 0) this._events = new Events();\n        else delete this._events[evt];\n      }\n    } else {\n      for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n        if (\n             listeners[i].fn !== fn\n          || (once && !listeners[i].once)\n          || (context && listeners[i].context !== context)\n        ) {\n          events.push(listeners[i]);\n        }\n      }\n\n      //\n      // Reset the array, or remove it completely if we have no more listeners.\n      //\n      if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n      else if (--this._eventsCount === 0) this._events = new Events();\n      else delete this._events[evt];\n    }\n\n    return this;\n  };\n\n  /**\n   * Remove all listeners, or those of the specified event.\n   *\n   * @param {String|Symbol} [event] The event name.\n   * @returns {EventEmitter} `this`.\n   * @api public\n   */\n  EventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n    var evt;\n\n    if (event) {\n      evt = prefix ? prefix + event : event;\n      if (this._events[evt]) {\n        if (--this._eventsCount === 0) this._events = new Events();\n        else delete this._events[evt];\n      }\n    } else {\n      this._events = new Events();\n      this._eventsCount = 0;\n    }\n\n    return this;\n  };\n\n  //\n  // Alias methods names because people roll like that.\n  //\n  EventEmitter.prototype.off = EventEmitter.prototype.removeListener;\n  EventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n  //\n  // This function doesn't apply anymore.\n  //\n  EventEmitter.prototype.setMaxListeners = function setMaxListeners() {\n    return this;\n  };\n\n  //\n  // Expose the prefix.\n  //\n  EventEmitter.prefixed = prefix;\n\n  //\n  // Allow `EventEmitter` to be imported as module namespace.\n  //\n  EventEmitter.EventEmitter = EventEmitter;\n\n  //\n  // Expose the module.\n  //\n  {\n    module.exports = EventEmitter;\n  }\n  });\n\n  function _defineProperty$1(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n\n  var noop = function noop() {};\n\n  var State = {\n      data: 'state-data',\n      cdata: 'state-cdata',\n      tagBegin: 'state-tag-begin',\n      tagName: 'state-tag-name',\n      tagEnd: 'state-tag-end',\n      attributeNameStart: 'state-attribute-name-start',\n      attributeName: 'state-attribute-name',\n      attributeNameEnd: 'state-attribute-name-end',\n      attributeValueBegin: 'state-attribute-value-begin',\n      attributeValue: 'state-attribute-value'\n  };\n\n  var Action = {\n      lt: 'action-lt',\n      gt: 'action-gt',\n      space: 'action-space',\n      equal: 'action-equal',\n      quote: 'action-quote',\n      slash: 'action-slash',\n      char: 'action-char',\n      error: 'action-error'\n  };\n\n  var Type = {\n      text: 'text',\n      openTag: 'open-tag',\n      closeTag: 'close-tag',\n      attributeName: 'attribute-name',\n      attributeValue: 'attribute-value'\n  };\n\n  var charToAction = {\n      ' ': Action.space,\n      '\\t': Action.space,\n      '\\n': Action.space,\n      '\\r': Action.space,\n      '<': Action.lt,\n      '>': Action.gt,\n      '\"': Action.quote,\n      \"'\": Action.quote,\n      '=': Action.equal,\n      '/': Action.slash\n  };\n\n  var getAction = function getAction(char) {\n      return charToAction[char] || Action.char;\n  };\n\n  /**\n   * @param  {Object} options\n   * @param  {Boolean} options.debug\n   * @return {Object}\n   */\n  var create = function create(options) {\n      var _State$data, _State$tagBegin, _State$tagName, _State$tagEnd, _State$attributeNameS, _State$attributeName, _State$attributeNameE, _State$attributeValue, _State$attributeValue2, _lexer$stateMachine;\n\n      options = Object.assign({ debug: false }, options);\n      var lexer = new eventemitter3();\n      var state = State.data;\n      var data = '';\n      var tagName = '';\n      var attrName = '';\n      var attrValue = '';\n      var isClosing = '';\n      var openingQuote = '';\n\n      var emit = function emit(type, value) {\n          // for now, ignore tags like: '?xml', '!DOCTYPE' or comments\n          if (tagName[0] === '?' || tagName[0] === '!') {\n              return;\n          }\n          var event = { type: type, value: value };\n          if (options.debug) {\n              console.log('emit:', event);\n          }\n          lexer.emit('data', event);\n      };\n\n      lexer.stateMachine = (_lexer$stateMachine = {}, _defineProperty$1(_lexer$stateMachine, State.data, (_State$data = {}, _defineProperty$1(_State$data, Action.lt, function () {\n          if (data.trim()) {\n              emit(Type.text, data);\n          }\n          tagName = '';\n          isClosing = false;\n          state = State.tagBegin;\n      }), _defineProperty$1(_State$data, Action.char, function (char) {\n          data += char;\n      }), _State$data)), _defineProperty$1(_lexer$stateMachine, State.cdata, _defineProperty$1({}, Action.char, function (char) {\n          data += char;\n          if (data.substr(-3) === ']]>') {\n              emit(Type.text, data.slice(0, -3));\n              data = '';\n              state = State.data;\n          }\n      })), _defineProperty$1(_lexer$stateMachine, State.tagBegin, (_State$tagBegin = {}, _defineProperty$1(_State$tagBegin, Action.space, noop), _defineProperty$1(_State$tagBegin, Action.char, function (char) {\n          tagName = char;\n          state = State.tagName;\n      }), _defineProperty$1(_State$tagBegin, Action.slash, function () {\n          tagName = '';\n          isClosing = true;\n      }), _State$tagBegin)), _defineProperty$1(_lexer$stateMachine, State.tagName, (_State$tagName = {}, _defineProperty$1(_State$tagName, Action.space, function () {\n          if (isClosing) {\n              state = State.tagEnd;\n          } else {\n              state = State.attributeNameStart;\n              emit(Type.openTag, tagName);\n          }\n      }), _defineProperty$1(_State$tagName, Action.gt, function () {\n          if (isClosing) {\n              emit(Type.closeTag, tagName);\n          } else {\n              emit(Type.openTag, tagName);\n          }\n          data = '';\n          state = State.data;\n      }), _defineProperty$1(_State$tagName, Action.slash, function () {\n          state = State.tagEnd;\n          emit(Type.openTag, tagName);\n      }), _defineProperty$1(_State$tagName, Action.char, function (char) {\n          tagName += char;\n          if (tagName === '![CDATA[') {\n              state = State.cdata;\n              data = '';\n              tagName = '';\n          }\n      }), _State$tagName)), _defineProperty$1(_lexer$stateMachine, State.tagEnd, (_State$tagEnd = {}, _defineProperty$1(_State$tagEnd, Action.gt, function () {\n          emit(Type.closeTag, tagName);\n          data = '';\n          state = State.data;\n      }), _defineProperty$1(_State$tagEnd, Action.char, noop), _State$tagEnd)), _defineProperty$1(_lexer$stateMachine, State.attributeNameStart, (_State$attributeNameS = {}, _defineProperty$1(_State$attributeNameS, Action.char, function (char) {\n          attrName = char;\n          state = State.attributeName;\n      }), _defineProperty$1(_State$attributeNameS, Action.gt, function () {\n          data = '';\n          state = State.data;\n      }), _defineProperty$1(_State$attributeNameS, Action.space, noop), _defineProperty$1(_State$attributeNameS, Action.slash, function () {\n          isClosing = true;\n          state = State.tagEnd;\n      }), _State$attributeNameS)), _defineProperty$1(_lexer$stateMachine, State.attributeName, (_State$attributeName = {}, _defineProperty$1(_State$attributeName, Action.space, function () {\n          state = State.attributeNameEnd;\n      }), _defineProperty$1(_State$attributeName, Action.equal, function () {\n          emit(Type.attributeName, attrName);\n          state = State.attributeValueBegin;\n      }), _defineProperty$1(_State$attributeName, Action.gt, function () {\n          attrValue = '';\n          emit(Type.attributeName, attrName);\n          emit(Type.attributeValue, attrValue);\n          data = '';\n          state = State.data;\n      }), _defineProperty$1(_State$attributeName, Action.slash, function () {\n          isClosing = true;\n          attrValue = '';\n          emit(Type.attributeName, attrName);\n          emit(Type.attributeValue, attrValue);\n          state = State.tagEnd;\n      }), _defineProperty$1(_State$attributeName, Action.char, function (char) {\n          attrName += char;\n      }), _State$attributeName)), _defineProperty$1(_lexer$stateMachine, State.attributeNameEnd, (_State$attributeNameE = {}, _defineProperty$1(_State$attributeNameE, Action.space, noop), _defineProperty$1(_State$attributeNameE, Action.equal, function () {\n          emit(Type.attributeName, attrName);\n          state = State.attributeValueBegin;\n      }), _defineProperty$1(_State$attributeNameE, Action.gt, function () {\n          attrValue = '';\n          emit(Type.attributeName, attrName);\n          emit(Type.attributeValue, attrValue);\n          data = '';\n          state = State.data;\n      }), _defineProperty$1(_State$attributeNameE, Action.char, function (char) {\n          attrValue = '';\n          emit(Type.attributeName, attrName);\n          emit(Type.attributeValue, attrValue);\n          attrName = char;\n          state = State.attributeName;\n      }), _State$attributeNameE)), _defineProperty$1(_lexer$stateMachine, State.attributeValueBegin, (_State$attributeValue = {}, _defineProperty$1(_State$attributeValue, Action.space, noop), _defineProperty$1(_State$attributeValue, Action.quote, function (char) {\n          openingQuote = char;\n          attrValue = '';\n          state = State.attributeValue;\n      }), _defineProperty$1(_State$attributeValue, Action.gt, function () {\n          attrValue = '';\n          emit(Type.attributeValue, attrValue);\n          data = '';\n          state = State.data;\n      }), _defineProperty$1(_State$attributeValue, Action.char, function (char) {\n          openingQuote = '';\n          attrValue = char;\n          state = State.attributeValue;\n      }), _State$attributeValue)), _defineProperty$1(_lexer$stateMachine, State.attributeValue, (_State$attributeValue2 = {}, _defineProperty$1(_State$attributeValue2, Action.space, function (char) {\n          if (openingQuote) {\n              attrValue += char;\n          } else {\n              emit(Type.attributeValue, attrValue);\n              state = State.attributeNameStart;\n          }\n      }), _defineProperty$1(_State$attributeValue2, Action.quote, function (char) {\n          if (openingQuote === char) {\n              emit(Type.attributeValue, attrValue);\n              state = State.attributeNameStart;\n          } else {\n              attrValue += char;\n          }\n      }), _defineProperty$1(_State$attributeValue2, Action.gt, function (char) {\n          if (openingQuote) {\n              attrValue += char;\n          } else {\n              emit(Type.attributeValue, attrValue);\n              data = '';\n              state = State.data;\n          }\n      }), _defineProperty$1(_State$attributeValue2, Action.slash, function (char) {\n          if (openingQuote) {\n              attrValue += char;\n          } else {\n              emit(Type.attributeValue, attrValue);\n              isClosing = true;\n              state = State.tagEnd;\n          }\n      }), _defineProperty$1(_State$attributeValue2, Action.char, function (char) {\n          attrValue += char;\n      }), _State$attributeValue2)), _lexer$stateMachine);\n\n      var step = function step(char) {\n          if (options.debug) {\n              console.log(state, char);\n          }\n          var actions = lexer.stateMachine[state];\n          var action = actions[getAction(char)] || actions[Action.error] || actions[Action.char];\n          action(char);\n      };\n\n      lexer.write = function (str) {\n          var len = str.length;\n          for (var i = 0; i < len; i++) {\n              step(str[i]);\n          }\n      };\n\n      return lexer;\n  };\n\n  var lexer = {\n      State: State,\n      Action: Action,\n      Type: Type,\n      create: create\n  };\n\n  var Type$1 = lexer.Type;\n\n  var NodeType = {\n      element: 'element',\n      text: 'text'\n  };\n\n  var createNode = function createNode(params) {\n      return Object.assign({\n          name: '',\n          type: NodeType.element,\n          value: '',\n          parent: null,\n          attributes: {},\n          children: []\n      }, params);\n  };\n\n  var create$1 = function create(options) {\n      options = Object.assign({\n          stream: false,\n          parentNodes: true,\n          doneEvent: 'done',\n          tagPrefix: 'tag:',\n          emitTopLevelOnly: false,\n          debug: false\n      }, options);\n\n      var lexer$1 = void 0,\n          rootNode = void 0,\n          current = void 0,\n          attrName = void 0;\n\n      var reader = new eventemitter3();\n\n      var handleLexerData = function handleLexerData(data) {\n          switch (data.type) {\n\n              case Type$1.openTag:\n                  if (current === null) {\n                      current = rootNode;\n                      current.name = data.value;\n                  } else {\n                      var node = createNode({\n                          name: data.value,\n                          parent: current\n                      });\n                      current.children.push(node);\n                      current = node;\n                  }\n                  break;\n\n              case Type$1.closeTag:\n                  var parent = current.parent;\n                  if (!options.parentNodes) {\n                      current.parent = null;\n                  }\n                  if (current.name !== data.value) {\n                      // ignore unexpected closing tag\n                      break;\n                  }\n                  if (options.stream && parent === rootNode) {\n                      rootNode.children = [];\n                      // do not expose parent node in top level nodes\n                      current.parent = null;\n                  }\n                  if (!options.emitTopLevelOnly || parent === rootNode) {\n                      reader.emit(options.tagPrefix + current.name, current);\n                      reader.emit('tag', current.name, current);\n                  }\n                  if (current === rootNode) {\n                      // end of document, stop listening\n                      lexer$1.removeAllListeners('data');\n                      reader.emit(options.doneEvent, current);\n                      rootNode = null;\n                  }\n                  current = parent;\n                  break;\n\n              case Type$1.text:\n                  if (current) {\n                      current.children.push(createNode({\n                          type: NodeType.text,\n                          value: data.value,\n                          parent: options.parentNodes ? current : null\n                      }));\n                  }\n                  break;\n\n              case Type$1.attributeName:\n                  attrName = data.value;\n                  current.attributes[attrName] = '';\n                  break;\n\n              case Type$1.attributeValue:\n                  current.attributes[attrName] = data.value;\n                  break;\n          }\n      };\n\n      reader.reset = function () {\n          lexer$1 = lexer.create({ debug: options.debug });\n          lexer$1.on('data', handleLexerData);\n          rootNode = createNode();\n          current = null;\n          attrName = '';\n          reader.parse = lexer$1.write;\n      };\n\n      reader.reset();\n      return reader;\n  };\n\n  var parseSync = function parseSync(xml, options) {\n      options = Object.assign({}, options, { stream: false, tagPrefix: ':' });\n      var reader = create$1(options);\n      var res = void 0;\n      reader.on('done', function (ast) {\n          res = ast;\n      });\n      reader.parse(xml);\n      return res;\n  };\n\n  var reader = {\n      parseSync: parseSync,\n      create: create$1,\n      NodeType: NodeType\n  };\n  var reader_1 = reader.parseSync;\n\n  var parseInput = function parseInput(input) {\n    var parsed = reader_1(input, {\n      parentNodes: false\n    });\n    var hasMoreChildren = parsed.name === 'root' && parsed.children.length > 1;\n    var isValid = hasMoreChildren ? parsed.children.reduce(function (acc, _ref) {\n      var name = _ref.name;\n      return !acc ? name === 'svg' : true;\n    }, false) : parsed.children[0].name === 'svg';\n\n    if (isValid) {\n      return hasMoreChildren ? parsed : parsed.children[0];\n    } else {\n      throw Error('nothing to parse');\n    }\n  };\n  var removeDoctype = function removeDoctype(input) {\n    return input.replace(/<[\\/]{0,1}(\\!?DOCTYPE|\\??xml)[^><]*>/gi, '');\n  };\n  var wrapInput = function wrapInput(input) {\n    return \"<root>\".concat(input, \"</root>\");\n  };\n  var removeAttrs = function removeAttrs(obj) {\n    return omitDeep(obj, ['parent']);\n  };\n  var camelize = function camelize(node) {\n    return deepRenameKeys(node, function (key) {\n      if (!notCamelcase(key)) {\n        return toCamelCase(key);\n      }\n\n      return key;\n    });\n  };\n  var toCamelCase = function toCamelCase(prop) {\n    return prop.replace(/[-|:]([a-z])/gi, function (all, letter) {\n      return letter.toUpperCase();\n    });\n  };\n\n  var notCamelcase = function notCamelcase(prop) {\n    return /^(data|aria)(-\\w+)/.test(prop);\n  };\n\n  var escapeText = function escapeText(text) {\n    if (text) {\n      var str = String(text);\n      return /[&<>]/.test(str) ? \"<![CDATA[\".concat(str.replace(/]]>/, ']]]]><![CDATA[>'), \"]]>\") : str;\n    }\n\n    return '';\n  };\n  var escapeAttr = function escapeAttr(attr) {\n    return String(attr).replace(/&/g, '&amp;').replace(/'/g, '&apos;').replace(/\"/g, '&quot;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n  };\n\n  var svgsonSync = function svgsonSync(input) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref$transformNode = _ref.transformNode,\n        transformNode = _ref$transformNode === void 0 ? function (node) {\n      return node;\n    } : _ref$transformNode,\n        _ref$camelcase = _ref.camelcase,\n        camelcase = _ref$camelcase === void 0 ? false : _ref$camelcase;\n\n    var wrap = function wrap(input) {\n      var cleanInput = removeDoctype(input);\n      return wrapInput(cleanInput);\n    };\n\n    var unwrap = function unwrap(res) {\n      return res.name === 'root' ? res.children : res;\n    };\n\n    var applyFilters = function applyFilters(input) {\n      var applyTransformNode = function applyTransformNode(node) {\n        var children = node.children;\n        return node.name === 'root' ? children.map(applyTransformNode) : _objectSpread2(_objectSpread2({}, transformNode(node)), children && children.length > 0 ? {\n          children: children.map(applyTransformNode)\n        } : {});\n      };\n\n      var n;\n      n = removeAttrs(input);\n      n = applyTransformNode(n);\n\n      if (camelcase) {\n        n = camelize(n);\n      }\n\n      return n;\n    };\n\n    return unwrap(applyFilters(parseInput(wrap(input))));\n  };\n  function svgson() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return new Promise(function (resolve, reject) {\n      try {\n        var res = svgsonSync.apply(void 0, args);\n        resolve(res);\n      } catch (e) {\n        reject(e);\n      }\n    });\n  }\n\n  var stringify = function stringify(ast) {\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref$transformAttr = _ref.transformAttr,\n        transformAttr = _ref$transformAttr === void 0 ? function (key, value, escape) {\n      return \"\".concat(key, \"=\\\"\").concat(escape(value), \"\\\"\");\n    } : _ref$transformAttr,\n        _ref$selfClose = _ref.selfClose,\n        selfClose = _ref$selfClose === void 0 ? true : _ref$selfClose;\n\n    if (Array.isArray(ast)) {\n      return ast.map(function (ast) {\n        return stringify(ast, {\n          transformAttr: transformAttr,\n          selfClose: selfClose\n        });\n      }).join('');\n    }\n\n    if (ast.type === 'text') {\n      return escapeText(ast.value);\n    }\n\n    var attributes = '';\n\n    for (var attr in ast.attributes) {\n      var attrStr = transformAttr(attr, ast.attributes[attr], escapeAttr, ast.name);\n      attributes += attrStr ? \" \".concat(attrStr) : '';\n    }\n\n    return ast.children.length || !selfClose ? \"<\".concat(ast.name).concat(attributes, \">\").concat(stringify(ast.children, {\n      transformAttr: transformAttr,\n      selfClose: selfClose\n    }), \"</\").concat(ast.name, \">\") : \"<\".concat(ast.name).concat(attributes, \"/>\");\n  };\n\n  var indexUmd = Object.assign({}, {\n    parse: svgson,\n    parseSync: svgsonSync,\n    stringify: stringify\n  });\n\n  return indexUmd;\n\n})));\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(7507);\n"],"names":["root","factory","exports","module","define","amd","a","i","self","__importDefault","this","mod","__esModule","Object","defineProperty","value","constance_1","CellManager_1","khmer_chess_1","BoardManagerEventController_1","BoardStatusEventController_1","BoardManager","khmerChessBoard","_this","_cells","Array","from","length","CELL_COUNT","_","dom","document","createElement","default","Point","fromIndex","isUpsideDown","boardStatusEventController","boardEventController","prototype","destroy","forEach","cell","selectCell","click","selectedCell","selectedCells","select","deselected","isCanMove","attemptMove","isCanSelect","selected","attachClickEvent","setOnClick","bind","detachClickEvent","removeOnClick","set","get","index","getKing","color","pieceIndex","khmerChess","kpgn","ren","board","point","getByIndexCode","indexCode","indexCodeToIndex","getByXY","x","y","xyToIndex","flip","_applyFlip","backupPiecesList","map","clone","backupSelectedList","clearSelectedCells","removePiecesFromCells","applyFlippingFlag","clonedCell","setPiece","piece","filter","enumerable","configurable","turn","isSelected","isMoved","isAttacked","isTurning","find","toString","pieceIndices","piecesInBoard","PieceIndex","clearCanMoveCells","canMoveCells","clearCanMoved","highlightMovedCells","fromCell","toCell","moved","clearMovedCells","movedCells","clearMoved","clearAttackCells","attackedCells","attack","enableTurnCells","pieceInTurnCells","clearTurnCells","turnCells","removePiece","setFlipped","setCellNote","ROW_NUMBER","addClassName","BOARD_NOTE_H_PREFIX_CLASS","options","isEnglish","enClass","j","BOARD_NOTE_V_PREFIX_CLASS","clearCellNote","removeClassName","renderKhmerChessPieces","domRootBoard","classList","contains","CSS_P2P","setP2P","b","remove","add","takeTurn","checkBoardEvent","getBoardStatusEvents","getBoardEvents","addBoardStatusEventListener","listener","removeBoardStatusEventListener","forceCount","move","playManager","currentMove","countUp","isCounting","colorOpponent","checkCountStatus","render","isStartCounting","CellManager","container","isGraveyard","containerDom","removePieceClasses","PIECE_CLASS_NAME","Piece","colorChars","pieceChars","type","className","hasClassName","SELECTED_CLASS_NAME","getCanMovePointsByPoint","CAN_MOVE_CLASS_NAME","MOVED_CLASS_NAME","TURN_CLASS_NAME","attacked","ATTACKED_CLASS_NAME","onclick","FLIPPED_CLASS","xy","indexToXY","div","scrollIntoView","quick","behavior","block","inline","movePieceTo","movePieceToGraveyard","toGYCell","deadPiece","movePieceFromGraveyard","raisePiece","setCanMove","upgrade","downgrade","GraveyardManager","domGraveyard","setDom","push","latestPieceCell","TD_GRAVEYARD_NUMBER","GRAVEYARD_NOTE_PREFIX_CLASS","applyPiecesFromKhmerChess","_a","piecesInGraveyard","package_json_1","GraveyardManager_1","SoundManager_1","BoardManager_1","addCss_1","addCssNote_1","drawBoardAndGraveyard_1","OptionsManager_1","MessageManager_1","PlayManager_1","PieceShadowManager_1","BoardStatusEvent_1","KhmerChessBoard","KhmerChess","graveyardManager","boardManager","soundManager","messageManager","pieceShadowManager","setOptions","Error","width","minWidth","addOnCellSelectedEventListener","canMovePoints","addOnCellDeselectedEventListener","addOnAttemptMoveEventListener","toIndex","next","turning","boardEvent","BoardStatusEvent","flag","EVENT_FLAG_MOVING","fireEvent","setFullScreen","isFullScreen","table","POPUP_CLASS_NAME","style","top","left","transform","zIndex","scaleFit","getScaleFit","getBoundingClientRect","addAllDomCss","uniqueClassName","playerContainer","tdShadow","setTdShadow","applyPieces","draw","setLocale","locale","locales","LOCALE_ENGLISH","LOCALE_KHMER","indexOf","join","loadKpng","kpng","fromBase64","fromJson","resetCurrentIndex","highlightCurrentMove","reset","pause","loadRen","renStr","loadRENStr","removeAllDomElements","querySelectorAll","element","parentElement","removeChild","removeAllDomCss","info","title","name","version","__spreadArray","to","pack","arguments","ar","l","slice","call","concat","appendCss_1","MessageManager","containerClassName","messageClassName","logEnabled","domContainer","domMessage","css","enableLog","disableLog","log","message","optionalParams","_i","console","apply","showMessage","display","innerHTML","hide","bc","appendChild","height","divMessage","containerSelector","MoveData","renData","str","onClick","span","indexSpan","innerText","toKhmerNum","infoSpan","isCurrent","current","uniqueIdHelper_1","KhmerChessBoard_1","OptionsManager","_width","genId","btr","vw","Math","max","documentElement","clientWidth","window","innerWidth","vh","clientHeight","innerHeight","borderWidth","cellWidth","MIN_CELL_WIDTH","BORDER_WIDTH","PieceShadowManager","_quickMove","pending","resolvers","callbacks","tdShadowDom","quickMove","enable","finishAnimations","tdShadowDown","movingPiece","callback","div_1","pice","animate","fromBc","toBc","option","opacity","animation_1","pendingCallback_1","cancel","removePendingCallback","_resolve","addPendingCallback","timeout_1","setTimeout","onfinish","oncancel","clearTimeout","cb","resolve","shift","resolveAnimation","Promise","PlayManagerEventController_1","MoveData_1","PlayManager","renDataList","currentIndex","playEventController","backBtnDom","playBtnDom","pauseBtnDom","nextBtnDom","moveData","moves","movesLength","renderMoveData","getMessage","containerWidth","tbody","tr","tdHistory","btn","btnListen","back","play","latestMove","undo","isCanUndo","offTurning","pop","isCanNext","isCanPlay","toggle","isPlaying","disabled","isCanBack","loadCurrentRen","getMove","applyMoveBack","error","applyMove","finish","moveFrom","moveTo","isUpgrading","playMove","captured","fromBCell_1","fromBoardPoint","toGYCell_1","toGraveyardPoint","playCapture","fromGYCell_1","toBCell_1","lastFromCell","lastToCell","attacker","king","audio_1","SoundManager","capture","check","isEnable","disable","_b","_c","_d","_e","_addSound","src","sound","setAttribute","body","MOVE_FLAG","CAPTURE_FLAG","CHECK_FLAG","playCheck","extendStatics","__extends","d","setPrototypeOf","__proto__","p","hasOwnProperty","TypeError","String","__","constructor","create","BoardManagerEventController","_super","events","CLICK","SELECTED","ATTEMPT_MOVE","data","_addPropEvent","DESELECTED","addOnCellClickEventListener","_addOnEventListener","removeOnCellClickEventListener","_removeOnEventListener","removeOnCellSelectedEventListener","removeOnCellDeselectedEventListener","removeOnAttemptMoveEventListener","EventHandler","countingToNumber","countingNumber","actorPieceIndex","isMoving","isWhite","isAttacking","PIECE_COLOR_WHITE","isWin","isDraw","isCannotMove","isCountingUp","isCountUpOut","EVENT_FLAG_WIN","EVENT_FLAG_ATTACK","EVENT_FLAG_START_COUNTING","applyCount","EVENT_FLAG_COUNTING_UP","EVENT_FLAG_COUNT_UP_OUT","EVENT_FLAG_DRAW","_getMessage","PIECE_COLOR_BLACK","tran","arr","pTitle","titleEnglish","BoardStatusEventController","EVENT","STATUS_EVENT","REN","fromString","syncWithMove","winColor","stuckColor","isCountingOut","event","PlayManagerEventController","BLACK","PAUSE","CHANGE_TURN","NEXT","PLAY","addOnDataClickEventListener","removeOnDataClickEventListener","addOnBackEventListener","removeOnBackEventListener","addOnPlayEventListener","removeOnPlayEventListener","addOnPauseEventListener","removeOnPauseEventListener","addOnNextEventListener","removeOnNextEventListener","svg_1","piecesImageBackground","selector","moreBG","moreCss","attackedSVG","svgCSS","PIECES_SVG","TR_PIECE_CLASS_NAME","CSS_PSEUDO_PIECE","encodeURIComponent","notAttackedSVG","notAttacked","TR_PIECE_SHADOW_CLASS_NAME","pieceFontSize","CSS_TABLE_SELECTOR","p2pSelector","GRAVEYARD_CLASS_NAME","CSS_PSEUDO_HIGHLIGHT","canMove","tranIndex","horizontalLetters","HORIZONTAL_NOTE_LETTERS_ENGLISH","HORIZONTAL_NOTE_LETTERS","fSize","bgImg_1","genBackgroundNote","t","CSS_PSEUDO_NOTE","hx","vy","bgImg","head","getElementsByTagName","createTextNode","graveyardContainerHeight","graveyardWidth","createTable","parent","createTbody","createTr","createTd","td","TABLE_CLASS","tr_1","trPlayerContainer","tdPlayerContainer","colSpan","trGraveyardContainer","TR_GRAVEYARD_CLASS_NAME","tdGraveyardContainer","overflowX","overflowY","tableGraveyard","boxShadow","trGraveyard","tdGraveyard","randomString","result","characters","charactersLength","charAt","floor","random","_idList","id","__createBinding","o","m","k","k2","undefined","__exportStar","KhmerChessBoard_2","__setModuleDefault","v","__importStar","khmerChessBoardNS","WOOD_COLORS","k4us_share_1","boatSVG","khmerChessPieces","fishSVG","generalSVG","horseSVG","kingSVG","queenSVG","transformFishSVG","WHITE","filterId","SVG_FILTER","init","PIECE_TYPE_BOAT","pathData","PIECE_TYPE_HORSE","PIECE_TYPE_GENERAL","PIECE_TYPE_KING","PIECE_TYPE_QUEEN","PIECE_TYPE_FISH","PIECE_TYPE_TRANSFORM_FISH","tObjects","text","obj","svgson_1","queen","general","horse","boat","fish","transformFish","SVGManager","svg","svgsonInstant","parseSync","children","attributes","stringify","constant_1","KPGN_1","table_1","REN_1","resetBoard","getCanMoves","genAllCanMoves","validateRENStr","valid","error_number","getRENStr","piecesMultiArray","pieces","graveyard","getKPGN","toJson","loadKpgn","kpgnJosn","drawAscii","moveFromIndex","moveToIndex","addMove","clearBoard","getHistories","englishNum","split","c","VERTICAL_NOTE_LETTERS","VERTICAL_NOTE_LETTERS_ENGLISH","HVPont","h","Number","HORIZONTAL_CODE_LETTERS","Piece_1","boardHelper_1","MoveHelper","piecesString","currentTurn","isQueenMoved","isKingMoved","genCanMove","genCanMoveForAnother","whiteMoves","blackMoves","whiteKingInDanger","whiteKingWillInDanger","blackKingInDanger","blackKingWillInDanger","isWhiteColor","generateCanMoves","filterPieceInBoard","whitePieces","blackPieces","genMoves","isHaveMoved","isTypeKing","isTypeQueen","genCanMovePointsByPiecePoint","cleanPieceNoMove","cleanMoves","isTrue","splice","checkIfKingInDanger","getKingInDanger","getKingWillInDanger","genWinLost","getStuck","isWhiteTurn","calcCanMove","anotherMoves","calcState","calCount","force","checkCount","isHasMoved","Rectangle","isContainsPoint","isValidPoint","ROW_LAST_INDEX","CountUpState","genMask_1","Point_1","Rectangle_1","ren_1","mask","BoardHelper","convertMask","point1","sign","point2","getCharPieceFromString","isIndexInBoard","EMPTY_PIECE","getCharPieceInPos","getPieceByIndex","charCode","isValidPiece","fromCharCode","getPieceCanMovePoses","_pos","newIndex","getPieceCanMovePosesValid","_poses","n","thisPos","distPiece","isTypeFish","isTypeBoat","_x","_y","_n","abs","_s","replacePiecesStringAtIndex","substring","injectPiece","index1","index2","isCharPiecesInBoard","kingPos","pieceCharCode","isHaveCaptured","points","code","getPiecesInBoard","isColorWhite","extractPiecesToArray","piecesStringArr","pieceAll","isStateCount","checkCountable","weaker","stronger","oppositeColor","countChar","count","toukCount","start","isUpgradable","isColorBlack","ROW_FIRST_INDEX","BOARD_SEPARATOR","PIECE_COLOR_EMPTY","PIECE_NAMES_ENGLISH","PIECE_NAMES","COLOR_NAMES_ENGLISH","COLOR_NAMES","genMask","boardHelper","HVPont_1","MoveHelper_1","KhmerChess_1","Move_1","Player_1","Result_1","Timer_1","base64Helper_1","KPGN","date","location","players","white","black","last","whiteWin","blackWin","timer","isCanMoveNext","loadMovesStrings","currentRen","reverse","moveStr","backRen","Date","json","JSON","parse","decode","toBase64","jsStr","encode","brain_1","Captured_1","Move","boardStatus","drawCountColor","kqJumping","KqJumped","setRen","checkBoardStatus","kqJumped","checkKQMoved","syncRen","whiteKing","whiteQueen","blackKing","blackQueen","fromIndexCode","substr","killIndex","PIECE_FLAG_KILL","match","gyIndex","capturedPiece","fromIndexGraveyardIndex","jumpingIndex","PIECE_FLAG_JUMP","fromNumber","PIECE_FLAG_START_COUNTING","pCode","fIndexCode","tIndexCode","flags","isJumped","toNumber","PIECE_FLAG_UPGRADE","getJumpingMessage","jump","isWhiteKingJumping","isWhiteQueenJumping","isBlackKingJumping","isBlackQueenJumping","Player","Result","win","lost","Timer","totalSecond","bonusTime","currentWhite","currentBlack","Captured","_onEventListeners","_propEvent","_isLockProp","_checkPropEvent","_checkOnEvent","_guardEventName","eventName","Base64","_keyStr","input","chr1","chr2","chr3","enc1","enc2","enc3","enc4","output","_utf8_encode","charCodeAt","isNaN","replace","_utf8_decode","string","utftext","c1","c2","EventHandler_1","reduce","s","subArr","PieceIndex_1","constant_2","Board","boardStr","DEFAULT_BOARD_STR","newBoardStr","extract","isValidPiecesString","compress","reg","RegExp","$1","toStringFull","toPieceCharCode","toStringFullNoSeparate","getPieceAtIndex","setPieceAtIndex","CountUp","clear","checkUp","countUpStr","NOT_SET","countingUp","countingUpWB","Graveyard","graveyardStr","removeAtIndex","KAttacked","kAttackedStr","toWhiteCharCode","kqJumpedStr","keyCodes","codeKeys","setProp","key","applyJumping","propKey","parseInt","toNormalCharCode","pieceCharCodeWhite","_isTypeEqual","isBlackColor","isWhiteCharCode","isTypeTransformedFish","toUpperCase","toBlackCharCode","toLowerCase","onlyPiece","ruler","allPiecesString","some","pieceChar","toCode","indexCodeToXY","Board_1","KqJumped_1","KAttacked_1","CountUp_1","Graveyard_1","kpgn_1","_1","renProps","moveHelper","turnStr","kAttacked","invalidPiecesString","isInvalidPieceCount","msg","piecesCount","pos","originPiece","keys","sort","STRING_COUNT","moveBack","targetPiece","lastIndex","movedToIndex","movedFromIndex","movedToGYIndex","renArr","state","kingInDanger","countState","getWinColor","_defineProperty","writable","ownKeys","object","enumerableOnly","getOwnPropertySymbols","symbols","sym","getOwnPropertyDescriptor","_objectSpread2","target","source","getOwnPropertyDescriptors","defineProperties","isobject","val","isArray","isObjectObject","isarray","hasValues","noZero","toString$1","hasValue","prop","segs","len","getValue","unsetValue","omitDeep","ctor","prot","isBuffer_1","isBuffer","readFloatLE","isSlowBuffer","_isBuffer","toString$2","kindOf","Boolean","Function","createCommonjsModule","fn","renameKeys","rename","res","deepRenameKeys","renameDeep","eventemitter3","has","prefix","Events","EE","context","once","EventEmitter","_events","_eventsCount","eventNames","names","listeners","exists","evt","available","ee","emit","a1","a2","a3","a4","a5","args","removeListener","on","removeAllListeners","off","addListener","setMaxListeners","prefixed","_defineProperty$1","noop","State","cdata","tagBegin","tagName","tagEnd","attributeNameStart","attributeName","attributeNameEnd","attributeValueBegin","attributeValue","Action","lt","gt","space","equal","quote","slash","char","Type","openTag","closeTag","charToAction","lexer","_State$data","_State$tagBegin","_State$tagName","_State$tagEnd","_State$attributeNameS","_State$attributeName","_State$attributeNameE","_State$attributeValue","_State$attributeValue2","_lexer$stateMachine","assign","debug","attrName","attrValue","isClosing","openingQuote","stateMachine","trim","step","actions","getAction","write","Type$1","NodeType","createNode","params","reader_1","xml","reader","stream","parentNodes","doneEvent","tagPrefix","emitTopLevelOnly","lexer$1","rootNode","handleLexerData","node","create$1","ast","parseInput","parsed","hasMoreChildren","acc","_ref","removeDoctype","wrapInput","removeAttrs","camelize","notCamelcase","toCamelCase","all","letter","test","escapeText","escapeAttr","attr","svgsonSync","_ref$transformNode","transformNode","_ref$camelcase","camelcase","applyTransformNode","applyFilters","cleanInput","wrap","_len","_key","reject","e","_ref$transformAttr","transformAttr","escape","_ref$selfClose","selfClose","attrStr","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","definition","g","globalThis","scriptUrl","importScripts","currentScript","scripts"],"sourceRoot":""}